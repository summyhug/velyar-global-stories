var F0=Object.defineProperty,U0=Object.defineProperties;var z0=Object.getOwnPropertyDescriptors;var Yo=Object.getOwnPropertySymbols;var hf=Object.prototype.hasOwnProperty,pf=Object.prototype.propertyIsEnumerable;var ff=(e,t,r)=>t in e?F0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,E=(e,t)=>{for(var r in t||(t={}))hf.call(t,r)&&ff(e,r,t[r]);if(Yo)for(var r of Yo(t))pf.call(t,r)&&ff(e,r,t[r]);return e},R=(e,t)=>U0(e,z0(t));var L=(e,t)=>{var r={};for(var n in e)hf.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Yo)for(var n of Yo(e))t.indexOf(n)<0&&pf.call(e,n)&&(r[n]=e[n]);return r};var j=(e,t,r)=>new Promise((n,s)=>{var o=c=>{try{a(r.next(c))}catch(u){s(u)}},i=c=>{try{a(r.throw(c))}catch(u){s(u)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(o,i);a((r=r.apply(e,t)).next())});function B0(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var jt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{};function Ap(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function V0(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Op={exports:{}},_a={},Ip={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Io=Symbol.for("react.element"),W0=Symbol.for("react.portal"),H0=Symbol.for("react.fragment"),q0=Symbol.for("react.strict_mode"),K0=Symbol.for("react.profiler"),G0=Symbol.for("react.provider"),Y0=Symbol.for("react.context"),Q0=Symbol.for("react.forward_ref"),J0=Symbol.for("react.suspense"),X0=Symbol.for("react.memo"),Z0=Symbol.for("react.lazy"),mf=Symbol.iterator;function ew(e){return e===null||typeof e!="object"?null:(e=mf&&e[mf]||e["@@iterator"],typeof e=="function"?e:null)}var Lp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dp=Object.assign,Mp={};function bs(e,t,r){this.props=e,this.context=t,this.refs=Mp,this.updater=r||Lp}bs.prototype.isReactComponent={};bs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $p(){}$p.prototype=bs.prototype;function Au(e,t,r){this.props=e,this.context=t,this.refs=Mp,this.updater=r||Lp}var Ou=Au.prototype=new $p;Ou.constructor=Au;Dp(Ou,bs.prototype);Ou.isPureReactComponent=!0;var gf=Array.isArray,Fp=Object.prototype.hasOwnProperty,Iu={current:null},Up={key:!0,ref:!0,__self:!0,__source:!0};function zp(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Fp.call(t,n)&&!Up.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Io,type:e,key:o,ref:i,props:s,_owner:Iu.current}}function tw(e,t){return{$$typeof:Io,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Lu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Io}function rw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var vf=/\/+/g;function dl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rw(""+e.key):t.toString(36)}function Si(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Io:case W0:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+dl(i,0):n,gf(s)?(r="",e!=null&&(r=e.replace(vf,"$&/")+"/"),Si(s,t,r,"",function(u){return u})):s!=null&&(Lu(s)&&(s=tw(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(vf,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",gf(e))for(var a=0;a<e.length;a++){o=e[a];var c=n+dl(o,a);i+=Si(o,t,r,c,s)}else if(c=ew(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=n+dl(o,a++),i+=Si(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Qo(e,t,r){if(e==null)return e;var n=[],s=0;return Si(e,n,"","",function(o){return t.call(r,o,s++)}),n}function nw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ze={current:null},ji={transition:null},sw={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:ji,ReactCurrentOwner:Iu};function Bp(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Qo,forEach:function(e,t,r){Qo(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Qo(e,function(){t++}),t},toArray:function(e){return Qo(e,function(t){return t})||[]},only:function(e){if(!Lu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=bs;re.Fragment=H0;re.Profiler=K0;re.PureComponent=Au;re.StrictMode=q0;re.Suspense=J0;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sw;re.act=Bp;re.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Dp({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Iu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Fp.call(t,c)&&!Up.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Io,type:e.type,key:s,ref:o,props:n,_owner:i}};re.createContext=function(e){return e={$$typeof:Y0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:G0,_context:e},e.Consumer=e};re.createElement=zp;re.createFactory=function(e){var t=zp.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:Q0,render:e}};re.isValidElement=Lu;re.lazy=function(e){return{$$typeof:Z0,_payload:{_status:-1,_result:e},_init:nw}};re.memo=function(e,t){return{$$typeof:X0,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=ji.transition;ji.transition={};try{e()}finally{ji.transition=t}};re.unstable_act=Bp;re.useCallback=function(e,t){return Ze.current.useCallback(e,t)};re.useContext=function(e){return Ze.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return Ze.current.useDeferredValue(e)};re.useEffect=function(e,t){return Ze.current.useEffect(e,t)};re.useId=function(){return Ze.current.useId()};re.useImperativeHandle=function(e,t,r){return Ze.current.useImperativeHandle(e,t,r)};re.useInsertionEffect=function(e,t){return Ze.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return Ze.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return Ze.current.useMemo(e,t)};re.useReducer=function(e,t,r){return Ze.current.useReducer(e,t,r)};re.useRef=function(e){return Ze.current.useRef(e)};re.useState=function(e){return Ze.current.useState(e)};re.useSyncExternalStore=function(e,t,r){return Ze.current.useSyncExternalStore(e,t,r)};re.useTransition=function(){return Ze.current.useTransition()};re.version="18.3.1";Ip.exports=re;var p=Ip.exports;const Ht=Ap(p),Vp=B0({__proto__:null,default:Ht},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ow=p,iw=Symbol.for("react.element"),aw=Symbol.for("react.fragment"),lw=Object.prototype.hasOwnProperty,cw=ow.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uw={key:!0,ref:!0,__self:!0,__source:!0};function Wp(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)lw.call(t,n)&&!uw.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:iw,type:e,key:o,ref:i,props:s,_owner:cw.current}}_a.Fragment=aw;_a.jsx=Wp;_a.jsxs=Wp;Op.exports=_a;var l=Op.exports,Hp={exports:{}},yt={},qp={exports:{}},Kp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,I){var U=O.length;O.push(I);e:for(;0<U;){var V=U-1>>>1,Q=O[V];if(0<s(Q,I))O[V]=I,O[U]=Q,U=V;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var I=O[0],U=O.pop();if(U!==I){O[0]=U;e:for(var V=0,Q=O.length,oe=Q>>>1;V<oe;){var le=2*(V+1)-1,ie=O[le],Ae=le+1,Ne=O[Ae];if(0>s(ie,U))Ae<Q&&0>s(Ne,ie)?(O[V]=Ne,O[Ae]=U,V=Ae):(O[V]=ie,O[le]=U,V=le);else if(Ae<Q&&0>s(Ne,U))O[V]=Ne,O[Ae]=U,V=Ae;else break e}}return I}function s(O,I){var U=O.sortIndex-I.sortIndex;return U!==0?U:O.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],u=[],d=1,f=null,h=3,v=!1,w=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(O){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=O)n(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=r(u)}}function _(O){if(x=!1,m(O),!w)if(r(c)!==null)w=!0,B(S);else{var I=r(u);I!==null&&G(_,I.startTime-O)}}function S(O,I){w=!1,x&&(x=!1,y(k),k=-1),v=!0;var U=h;try{for(m(I),f=r(c);f!==null&&(!(f.expirationTime>I)||O&&!$());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var Q=V(f.expirationTime<=I);I=e.unstable_now(),typeof Q=="function"?f.callback=Q:f===r(c)&&n(c),m(I)}else n(c);f=r(c)}if(f!==null)var oe=!0;else{var le=r(u);le!==null&&G(_,le.startTime-I),oe=!1}return oe}finally{f=null,h=U,v=!1}}var C=!1,P=null,k=-1,N=5,A=-1;function $(){return!(e.unstable_now()-A<N)}function T(){if(P!==null){var O=e.unstable_now();A=O;var I=!0;try{I=P(!0,O)}finally{I?D():(C=!1,P=null)}}else C=!1}var D;if(typeof g=="function")D=function(){g(T)};else if(typeof MessageChannel!="undefined"){var W=new MessageChannel,M=W.port2;W.port1.onmessage=T,D=function(){M.postMessage(null)}}else D=function(){b(T,0)};function B(O){P=O,C||(C=!0,D())}function G(O,I){k=b(function(){O(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,B(S))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var U=h;h=I;try{return O()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,I){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var U=h;h=O;try{return I()}finally{h=U}},e.unstable_scheduleCallback=function(O,I,U){var V=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?V+U:V):U=V,O){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=U+Q,O={id:d++,callback:I,priorityLevel:O,startTime:U,expirationTime:Q,sortIndex:-1},U>V?(O.sortIndex=U,t(u,O),r(c)===null&&O===r(u)&&(x?(y(k),k=-1):x=!0,G(_,U-V))):(O.sortIndex=Q,t(c,O),w||v||(w=!0,B(S))),O},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(O){var I=h;return function(){var U=h;h=I;try{return O.apply(this,arguments)}finally{h=U}}}})(Kp);qp.exports=Kp;var dw=qp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fw=p,vt=dw;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gp=new Set,uo={};function kn(e,t){ds(e,t),ds(e+"Capture",t)}function ds(e,t){for(uo[e]=t,e=0;e<t.length;e++)Gp.add(t[e])}var ar=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ac=Object.prototype.hasOwnProperty,hw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yf={},xf={};function pw(e){return ac.call(xf,e)?!0:ac.call(yf,e)?!1:hw.test(e)?xf[e]=!0:(yf[e]=!0,!1)}function mw(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gw(e,t,r,n){if(t===null||typeof t=="undefined"||mw(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var Du=/[\-:]([a-z])/g;function Mu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Du,Mu);Ve[t]=new et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Du,Mu);Ve[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Du,Mu);Ve[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function $u(e,t,r,n){var s=Ve.hasOwnProperty(t)?Ve[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gw(t,r,s,n)&&(r=null),n||s===null?pw(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var hr=fw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jo=Symbol.for("react.element"),Wn=Symbol.for("react.portal"),Hn=Symbol.for("react.fragment"),Fu=Symbol.for("react.strict_mode"),lc=Symbol.for("react.profiler"),Yp=Symbol.for("react.provider"),Qp=Symbol.for("react.context"),Uu=Symbol.for("react.forward_ref"),cc=Symbol.for("react.suspense"),uc=Symbol.for("react.suspense_list"),zu=Symbol.for("react.memo"),wr=Symbol.for("react.lazy"),Jp=Symbol.for("react.offscreen"),wf=Symbol.iterator;function Ls(e){return e===null||typeof e!="object"?null:(e=wf&&e[wf]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,fl;function qs(e){if(fl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);fl=t&&t[1]||""}return`
`+fl+e}var hl=!1;function pl(e,t){if(!e||hl)return"";hl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{hl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?qs(e):""}function vw(e){switch(e.tag){case 5:return qs(e.type);case 16:return qs("Lazy");case 13:return qs("Suspense");case 19:return qs("SuspenseList");case 0:case 2:case 15:return e=pl(e.type,!1),e;case 11:return e=pl(e.type.render,!1),e;case 1:return e=pl(e.type,!0),e;default:return""}}function dc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hn:return"Fragment";case Wn:return"Portal";case lc:return"Profiler";case Fu:return"StrictMode";case cc:return"Suspense";case uc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qp:return(e.displayName||"Context")+".Consumer";case Yp:return(e._context.displayName||"Context")+".Provider";case Uu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zu:return t=e.displayName||null,t!==null?t:dc(e.type)||"Memo";case wr:t=e._payload,e=e._init;try{return dc(e(t))}catch(r){}}return null}function yw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dc(t);case 8:return t===Fu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xw(e){var t=Xp(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xo(e){e._valueTracker||(e._valueTracker=xw(e))}function Zp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Xp(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ui(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function fc(e,t){var r=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function bf(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=zr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function em(e,t){t=t.checked,t!=null&&$u(e,"checked",t,!1)}function hc(e,t){em(e,t);var r=zr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pc(e,t.type,r):t.hasOwnProperty("defaultValue")&&pc(e,t.type,zr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _f(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function pc(e,t,r){(t!=="number"||Ui(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ks=Array.isArray;function rs(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+zr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function mc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sf(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(F(92));if(Ks(r)){if(1<r.length)throw Error(F(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:zr(r)}}function tm(e,t){var r=zr(t.value),n=zr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function jf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zo,nm=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zo=Zo||document.createElement("div"),Zo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ww=["Webkit","ms","Moz","O"];Object.keys(Xs).forEach(function(e){ww.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xs[t]=Xs[e]})});function sm(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Xs.hasOwnProperty(e)&&Xs[e]?(""+t).trim():t+"px"}function om(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=sm(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var bw=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vc(e,t){if(t){if(bw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function yc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xc=null;function Bu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wc=null,ns=null,ss=null;function kf(e){if(e=Mo(e)){if(typeof wc!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Ca(t),wc(e.stateNode,e.type,t))}}function im(e){ns?ss?ss.push(e):ss=[e]:ns=e}function am(){if(ns){var e=ns,t=ss;if(ss=ns=null,kf(e),t)for(e=0;e<t.length;e++)kf(t[e])}}function lm(e,t){return e(t)}function cm(){}var ml=!1;function um(e,t,r){if(ml)return e(t,r);ml=!0;try{return lm(e,t,r)}finally{ml=!1,(ns!==null||ss!==null)&&(cm(),am())}}function ho(e,t){var r=e.stateNode;if(r===null)return null;var n=Ca(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(F(231,t,typeof r));return r}var bc=!1;if(ar)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){bc=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch(e){bc=!1}function _w(e,t,r,n,s,o,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Zs=!1,zi=null,Bi=!1,_c=null,Sw={onError:function(e){Zs=!0,zi=e}};function jw(e,t,r,n,s,o,i,a,c){Zs=!1,zi=null,_w.apply(Sw,arguments)}function kw(e,t,r,n,s,o,i,a,c){if(jw.apply(this,arguments),Zs){if(Zs){var u=zi;Zs=!1,zi=null}else throw Error(F(198));Bi||(Bi=!0,_c=u)}}function En(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function dm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ef(e){if(En(e)!==e)throw Error(F(188))}function Ew(e){var t=e.alternate;if(!t){if(t=En(e),t===null)throw Error(F(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Ef(s),e;if(o===n)return Ef(s),t;o=o.sibling}throw Error(F(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,a=s.child;a;){if(a===r){i=!0,r=s,n=o;break}if(a===n){i=!0,n=s,r=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===r){i=!0,r=o,n=s;break}if(a===n){i=!0,n=o,r=s;break}a=a.sibling}if(!i)throw Error(F(189))}}if(r.alternate!==n)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?e:t}function fm(e){return e=Ew(e),e!==null?hm(e):null}function hm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hm(e);if(t!==null)return t;e=e.sibling}return null}var pm=vt.unstable_scheduleCallback,Cf=vt.unstable_cancelCallback,Cw=vt.unstable_shouldYield,Nw=vt.unstable_requestPaint,Ce=vt.unstable_now,Pw=vt.unstable_getCurrentPriorityLevel,Vu=vt.unstable_ImmediatePriority,mm=vt.unstable_UserBlockingPriority,Vi=vt.unstable_NormalPriority,Tw=vt.unstable_LowPriority,gm=vt.unstable_IdlePriority,Sa=null,Gt=null;function Rw(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Sa,e,void 0,(e.current.flags&128)===128)}catch(t){}}var Lt=Math.clz32?Math.clz32:Iw,Aw=Math.log,Ow=Math.LN2;function Iw(e){return e>>>=0,e===0?32:31-(Aw(e)/Ow|0)|0}var ei=64,ti=4194304;function Gs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var a=i&~s;a!==0?n=Gs(a):(o&=i,o!==0&&(n=Gs(o)))}else i=r&~s,i!==0?n=Gs(i):o!==0&&(n=Gs(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Lt(t),s=1<<r,n|=e[r],t&=~s;return n}function Lw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dw(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Lt(o),a=1<<i,c=s[i];c===-1?(!(a&r)||a&n)&&(s[i]=Lw(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function Sc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vm(){var e=ei;return ei<<=1,!(ei&4194240)&&(ei=64),e}function gl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Lo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Lt(t),e[t]=r}function Mw(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Lt(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function Wu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Lt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ce=0;function ym(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xm,Hu,wm,bm,_m,jc=!1,ri=[],Tr=null,Rr=null,Ar=null,po=new Map,mo=new Map,Sr=[],$w="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nf(e,t){switch(e){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":po.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(t.pointerId)}}function Ms(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Mo(t),t!==null&&Hu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Fw(e,t,r,n,s){switch(t){case"focusin":return Tr=Ms(Tr,e,t,r,n,s),!0;case"dragenter":return Rr=Ms(Rr,e,t,r,n,s),!0;case"mouseover":return Ar=Ms(Ar,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return po.set(o,Ms(po.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,mo.set(o,Ms(mo.get(o)||null,e,t,r,n,s)),!0}return!1}function Sm(e){var t=cn(e.target);if(t!==null){var r=En(t);if(r!==null){if(t=r.tag,t===13){if(t=dm(r),t!==null){e.blockedOn=t,_m(e.priority,function(){wm(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ki(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=kc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);xc=n,r.target.dispatchEvent(n),xc=null}else return t=Mo(r),t!==null&&Hu(t),e.blockedOn=r,!1;t.shift()}return!0}function Pf(e,t,r){ki(e)&&r.delete(t)}function Uw(){jc=!1,Tr!==null&&ki(Tr)&&(Tr=null),Rr!==null&&ki(Rr)&&(Rr=null),Ar!==null&&ki(Ar)&&(Ar=null),po.forEach(Pf),mo.forEach(Pf)}function $s(e,t){e.blockedOn===t&&(e.blockedOn=null,jc||(jc=!0,vt.unstable_scheduleCallback(vt.unstable_NormalPriority,Uw)))}function go(e){function t(s){return $s(s,e)}if(0<ri.length){$s(ri[0],e);for(var r=1;r<ri.length;r++){var n=ri[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Tr!==null&&$s(Tr,e),Rr!==null&&$s(Rr,e),Ar!==null&&$s(Ar,e),po.forEach(t),mo.forEach(t),r=0;r<Sr.length;r++)n=Sr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Sr.length&&(r=Sr[0],r.blockedOn===null);)Sm(r),r.blockedOn===null&&Sr.shift()}var os=hr.ReactCurrentBatchConfig,Hi=!0;function zw(e,t,r,n){var s=ce,o=os.transition;os.transition=null;try{ce=1,qu(e,t,r,n)}finally{ce=s,os.transition=o}}function Bw(e,t,r,n){var s=ce,o=os.transition;os.transition=null;try{ce=4,qu(e,t,r,n)}finally{ce=s,os.transition=o}}function qu(e,t,r,n){if(Hi){var s=kc(e,t,r,n);if(s===null)El(e,t,n,qi,r),Nf(e,n);else if(Fw(s,e,t,r,n))n.stopPropagation();else if(Nf(e,n),t&4&&-1<$w.indexOf(e)){for(;s!==null;){var o=Mo(s);if(o!==null&&xm(o),o=kc(e,t,r,n),o===null&&El(e,t,n,qi,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else El(e,t,n,null,r)}}var qi=null;function kc(e,t,r,n){if(qi=null,e=Bu(n),e=cn(e),e!==null)if(t=En(e),t===null)e=null;else if(r=t.tag,r===13){if(e=dm(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qi=e,null}function jm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pw()){case Vu:return 1;case mm:return 4;case Vi:case Tw:return 16;case gm:return 536870912;default:return 16}default:return 16}}var Er=null,Ku=null,Ei=null;function km(){if(Ei)return Ei;var e,t=Ku,r=t.length,n,s="value"in Er?Er.value:Er.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return Ei=s.slice(e,1<n?1-n:void 0)}function Ci(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ni(){return!0}function Tf(){return!1}function xt(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ni:Tf,this.isPropagationStopped=Tf,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),t}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gu=xt(_s),Do=ke({},_s,{view:0,detail:0}),Vw=xt(Do),vl,yl,Fs,ja=ke({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fs&&(Fs&&e.type==="mousemove"?(vl=e.screenX-Fs.screenX,yl=e.screenY-Fs.screenY):yl=vl=0,Fs=e),vl)},movementY:function(e){return"movementY"in e?e.movementY:yl}}),Rf=xt(ja),Ww=ke({},ja,{dataTransfer:0}),Hw=xt(Ww),qw=ke({},Do,{relatedTarget:0}),xl=xt(qw),Kw=ke({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),Gw=xt(Kw),Yw=ke({},_s,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qw=xt(Yw),Jw=ke({},_s,{data:0}),Af=xt(Jw),Xw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=e1[e])?!!t[e]:!1}function Yu(){return t1}var r1=ke({},Do,{key:function(e){if(e.key){var t=Xw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ci(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yu,charCode:function(e){return e.type==="keypress"?Ci(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ci(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),n1=xt(r1),s1=ke({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Of=xt(s1),o1=ke({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yu}),i1=xt(o1),a1=ke({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),l1=xt(a1),c1=ke({},ja,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),u1=xt(c1),d1=[9,13,27,32],Qu=ar&&"CompositionEvent"in window,eo=null;ar&&"documentMode"in document&&(eo=document.documentMode);var f1=ar&&"TextEvent"in window&&!eo,Em=ar&&(!Qu||eo&&8<eo&&11>=eo),If=" ",Lf=!1;function Cm(e,t){switch(e){case"keyup":return d1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qn=!1;function h1(e,t){switch(e){case"compositionend":return Nm(t);case"keypress":return t.which!==32?null:(Lf=!0,If);case"textInput":return e=t.data,e===If&&Lf?null:e;default:return null}}function p1(e,t){if(qn)return e==="compositionend"||!Qu&&Cm(e,t)?(e=km(),Ei=Ku=Er=null,qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Em&&t.locale!=="ko"?null:t.data;default:return null}}var m1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Df(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!m1[e.type]:t==="textarea"}function Pm(e,t,r,n){im(n),t=Ki(t,"onChange"),0<t.length&&(r=new Gu("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var to=null,vo=null;function g1(e){Um(e,0)}function ka(e){var t=Yn(e);if(Zp(t))return e}function v1(e,t){if(e==="change")return t}var Tm=!1;if(ar){var wl;if(ar){var bl="oninput"in document;if(!bl){var Mf=document.createElement("div");Mf.setAttribute("oninput","return;"),bl=typeof Mf.oninput=="function"}wl=bl}else wl=!1;Tm=wl&&(!document.documentMode||9<document.documentMode)}function $f(){to&&(to.detachEvent("onpropertychange",Rm),vo=to=null)}function Rm(e){if(e.propertyName==="value"&&ka(vo)){var t=[];Pm(t,vo,e,Bu(e)),um(g1,t)}}function y1(e,t,r){e==="focusin"?($f(),to=t,vo=r,to.attachEvent("onpropertychange",Rm)):e==="focusout"&&$f()}function x1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ka(vo)}function w1(e,t){if(e==="click")return ka(t)}function b1(e,t){if(e==="input"||e==="change")return ka(t)}function _1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:_1;function yo(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ac.call(t,s)||!$t(e[s],t[s]))return!1}return!0}function Ff(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uf(e,t){var r=Ff(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ff(r)}}function Am(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Am(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Om(){for(var e=window,t=Ui();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch(n){r=!1}if(r)e=t.contentWindow;else break;t=Ui(e.document)}return t}function Ju(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function S1(e){var t=Om(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Am(r.ownerDocument.documentElement,r)){if(n!==null&&Ju(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=Uf(r,o);var i=Uf(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var j1=ar&&"documentMode"in document&&11>=document.documentMode,Kn=null,Ec=null,ro=null,Cc=!1;function zf(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Cc||Kn==null||Kn!==Ui(n)||(n=Kn,"selectionStart"in n&&Ju(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ro&&yo(ro,n)||(ro=n,n=Ki(Ec,"onSelect"),0<n.length&&(t=new Gu("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Kn)))}function si(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Gn={animationend:si("Animation","AnimationEnd"),animationiteration:si("Animation","AnimationIteration"),animationstart:si("Animation","AnimationStart"),transitionend:si("Transition","TransitionEnd")},_l={},Im={};ar&&(Im=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function Ea(e){if(_l[e])return _l[e];if(!Gn[e])return e;var t=Gn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Im)return _l[e]=t[r];return e}var Lm=Ea("animationend"),Dm=Ea("animationiteration"),Mm=Ea("animationstart"),$m=Ea("transitionend"),Fm=new Map,Bf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kr(e,t){Fm.set(e,t),kn(t,[e])}for(var Sl=0;Sl<Bf.length;Sl++){var jl=Bf[Sl],k1=jl.toLowerCase(),E1=jl[0].toUpperCase()+jl.slice(1);Kr(k1,"on"+E1)}Kr(Lm,"onAnimationEnd");Kr(Dm,"onAnimationIteration");Kr(Mm,"onAnimationStart");Kr("dblclick","onDoubleClick");Kr("focusin","onFocus");Kr("focusout","onBlur");Kr($m,"onTransitionEnd");ds("onMouseEnter",["mouseout","mouseover"]);ds("onMouseLeave",["mouseout","mouseover"]);ds("onPointerEnter",["pointerout","pointerover"]);ds("onPointerLeave",["pointerout","pointerover"]);kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ys));function Vf(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,kw(n,t,void 0,e),e.currentTarget=null}function Um(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var a=n[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;Vf(s,a,u),o=c}else for(i=0;i<n.length;i++){if(a=n[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;Vf(s,a,u),o=c}}}if(Bi)throw e=_c,Bi=!1,_c=null,e}function xe(e,t){var r=t[Ac];r===void 0&&(r=t[Ac]=new Set);var n=e+"__bubble";r.has(n)||(zm(t,e,2,!1),r.add(n))}function kl(e,t,r){var n=0;t&&(n|=4),zm(r,e,n,t)}var oi="_reactListening"+Math.random().toString(36).slice(2);function xo(e){if(!e[oi]){e[oi]=!0,Gp.forEach(function(r){r!=="selectionchange"&&(C1.has(r)||kl(r,!1,e),kl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[oi]||(t[oi]=!0,kl("selectionchange",!1,t))}}function zm(e,t,r,n){switch(jm(t)){case 1:var s=zw;break;case 4:s=Bw;break;default:s=qu}r=s.bind(null,t,r,e),s=void 0,!bc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function El(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=cn(a),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}a=a.parentNode}}n=n.return}um(function(){var u=o,d=Bu(r),f=[];e:{var h=Fm.get(e);if(h!==void 0){var v=Gu,w=e;switch(e){case"keypress":if(Ci(r)===0)break e;case"keydown":case"keyup":v=n1;break;case"focusin":w="focus",v=xl;break;case"focusout":w="blur",v=xl;break;case"beforeblur":case"afterblur":v=xl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Rf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Hw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=i1;break;case Lm:case Dm:case Mm:v=Gw;break;case $m:v=l1;break;case"scroll":v=Vw;break;case"wheel":v=u1;break;case"copy":case"cut":case"paste":v=Qw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Of}var x=(t&4)!==0,b=!x&&e==="scroll",y=x?h!==null?h+"Capture":null:h;x=[];for(var g=u,m;g!==null;){m=g;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,y!==null&&(_=ho(g,y),_!=null&&x.push(wo(g,_,m)))),b)break;g=g.return}0<x.length&&(h=new v(h,w,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&r!==xc&&(w=r.relatedTarget||r.fromElement)&&(cn(w)||w[lr]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(w=r.relatedTarget||r.toElement,v=u,w=w?cn(w):null,w!==null&&(b=En(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(x=Rf,_="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=Of,_="onPointerLeave",y="onPointerEnter",g="pointer"),b=v==null?h:Yn(v),m=w==null?h:Yn(w),h=new x(_,g+"leave",v,r,d),h.target=b,h.relatedTarget=m,_=null,cn(d)===u&&(x=new x(y,g+"enter",w,r,d),x.target=m,x.relatedTarget=b,_=x),b=_,v&&w)t:{for(x=v,y=w,g=0,m=x;m;m=On(m))g++;for(m=0,_=y;_;_=On(_))m++;for(;0<g-m;)x=On(x),g--;for(;0<m-g;)y=On(y),m--;for(;g--;){if(x===y||y!==null&&x===y.alternate)break t;x=On(x),y=On(y)}x=null}else x=null;v!==null&&Wf(f,h,v,x,!1),w!==null&&b!==null&&Wf(f,b,w,x,!0)}}e:{if(h=u?Yn(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var S=v1;else if(Df(h))if(Tm)S=b1;else{S=x1;var C=y1}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=w1);if(S&&(S=S(e,u))){Pm(f,S,r,d);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&pc(h,"number",h.value)}switch(C=u?Yn(u):window,e){case"focusin":(Df(C)||C.contentEditable==="true")&&(Kn=C,Ec=u,ro=null);break;case"focusout":ro=Ec=Kn=null;break;case"mousedown":Cc=!0;break;case"contextmenu":case"mouseup":case"dragend":Cc=!1,zf(f,r,d);break;case"selectionchange":if(j1)break;case"keydown":case"keyup":zf(f,r,d)}var P;if(Qu)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qn?Cm(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Em&&r.locale!=="ko"&&(qn||k!=="onCompositionStart"?k==="onCompositionEnd"&&qn&&(P=km()):(Er=d,Ku="value"in Er?Er.value:Er.textContent,qn=!0)),C=Ki(u,k),0<C.length&&(k=new Af(k,e,null,r,d),f.push({event:k,listeners:C}),P?k.data=P:(P=Nm(r),P!==null&&(k.data=P)))),(P=f1?h1(e,r):p1(e,r))&&(u=Ki(u,"onBeforeInput"),0<u.length&&(d=new Af("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=P))}Um(f,t)})}function wo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ki(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=ho(e,r),o!=null&&n.unshift(wo(e,o,s)),o=ho(e,t),o!=null&&n.push(wo(e,o,s))),e=e.return}return n}function On(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wf(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var a=r,c=a.alternate,u=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&u!==null&&(a=u,s?(c=ho(r,o),c!=null&&i.unshift(wo(r,c,a))):s||(c=ho(r,o),c!=null&&i.push(wo(r,c,a)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var N1=/\r\n?/g,P1=/\u0000|\uFFFD/g;function Hf(e){return(typeof e=="string"?e:""+e).replace(N1,`
`).replace(P1,"")}function ii(e,t,r){if(t=Hf(t),Hf(e)!==t&&r)throw Error(F(425))}function Gi(){}var Nc=null,Pc=null;function Tc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rc=typeof setTimeout=="function"?setTimeout:void 0,T1=typeof clearTimeout=="function"?clearTimeout:void 0,qf=typeof Promise=="function"?Promise:void 0,R1=typeof queueMicrotask=="function"?queueMicrotask:typeof qf!="undefined"?function(e){return qf.resolve(null).then(e).catch(A1)}:Rc;function A1(e){setTimeout(function(){throw e})}function Cl(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),go(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);go(t)}function Or(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Kf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),qt="__reactFiber$"+Ss,bo="__reactProps$"+Ss,lr="__reactContainer$"+Ss,Ac="__reactEvents$"+Ss,O1="__reactListeners$"+Ss,I1="__reactHandles$"+Ss;function cn(e){var t=e[qt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[lr]||r[qt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Kf(e);e!==null;){if(r=e[qt])return r;e=Kf(e)}return t}e=r,r=e.parentNode}return null}function Mo(e){return e=e[qt]||e[lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Ca(e){return e[bo]||null}var Oc=[],Qn=-1;function Gr(e){return{current:e}}function be(e){0>Qn||(e.current=Oc[Qn],Oc[Qn]=null,Qn--)}function me(e,t){Qn++,Oc[Qn]=e.current,e.current=t}var Br={},Ye=Gr(Br),it=Gr(!1),mn=Br;function fs(e,t){var r=e.type.contextTypes;if(!r)return Br;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function at(e){return e=e.childContextTypes,e!=null}function Yi(){be(it),be(Ye)}function Gf(e,t,r){if(Ye.current!==Br)throw Error(F(168));me(Ye,t),me(it,r)}function Bm(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(F(108,yw(e)||"Unknown",s));return ke({},r,n)}function Qi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Br,mn=Ye.current,me(Ye,e),me(it,it.current),!0}function Yf(e,t,r){var n=e.stateNode;if(!n)throw Error(F(169));r?(e=Bm(e,t,mn),n.__reactInternalMemoizedMergedChildContext=e,be(it),be(Ye),me(Ye,e)):be(it),me(it,r)}var nr=null,Na=!1,Nl=!1;function Vm(e){nr===null?nr=[e]:nr.push(e)}function L1(e){Na=!0,Vm(e)}function Yr(){if(!Nl&&nr!==null){Nl=!0;var e=0,t=ce;try{var r=nr;for(ce=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}nr=null,Na=!1}catch(s){throw nr!==null&&(nr=nr.slice(e+1)),pm(Vu,Yr),s}finally{ce=t,Nl=!1}}return null}var Jn=[],Xn=0,Ji=null,Xi=0,wt=[],bt=0,gn=null,sr=1,or="";function sn(e,t){Jn[Xn++]=Xi,Jn[Xn++]=Ji,Ji=e,Xi=t}function Wm(e,t,r){wt[bt++]=sr,wt[bt++]=or,wt[bt++]=gn,gn=e;var n=sr;e=or;var s=32-Lt(n)-1;n&=~(1<<s),r+=1;var o=32-Lt(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,sr=1<<32-Lt(t)+s|r<<s|n,or=o+e}else sr=1<<o|r<<s|n,or=e}function Xu(e){e.return!==null&&(sn(e,1),Wm(e,1,0))}function Zu(e){for(;e===Ji;)Ji=Jn[--Xn],Jn[Xn]=null,Xi=Jn[--Xn],Jn[Xn]=null;for(;e===gn;)gn=wt[--bt],wt[bt]=null,or=wt[--bt],wt[bt]=null,sr=wt[--bt],wt[bt]=null}var mt=null,pt=null,_e=!1,It=null;function Hm(e,t){var r=_t(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Qf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mt=e,pt=Or(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mt=e,pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=gn!==null?{id:sr,overflow:or}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=_t(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,mt=e,pt=null,!0):!1;default:return!1}}function Ic(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lc(e){if(_e){var t=pt;if(t){var r=t;if(!Qf(e,t)){if(Ic(e))throw Error(F(418));t=Or(r.nextSibling);var n=mt;t&&Qf(e,t)?Hm(n,r):(e.flags=e.flags&-4097|2,_e=!1,mt=e)}}else{if(Ic(e))throw Error(F(418));e.flags=e.flags&-4097|2,_e=!1,mt=e}}}function Jf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function ai(e){if(e!==mt)return!1;if(!_e)return Jf(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Tc(e.type,e.memoizedProps)),t&&(t=pt)){if(Ic(e))throw qm(),Error(F(418));for(;t;)Hm(e,t),t=Or(t.nextSibling)}if(Jf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){pt=Or(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}pt=null}}else pt=mt?Or(e.stateNode.nextSibling):null;return!0}function qm(){for(var e=pt;e;)e=Or(e.nextSibling)}function hs(){pt=mt=null,_e=!1}function ed(e){It===null?It=[e]:It.push(e)}var D1=hr.ReactCurrentBatchConfig;function Us(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(F(309));var n=r.stateNode}if(!n)throw Error(F(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(F(284));if(!r._owner)throw Error(F(290,e))}return e}function li(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xf(e){var t=e._init;return t(e._payload)}function Km(e){function t(y,g){if(e){var m=y.deletions;m===null?(y.deletions=[g],y.flags|=16):m.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=Mr(y,g),y.index=0,y.sibling=null,y}function o(y,g,m){return y.index=m,e?(m=y.alternate,m!==null?(m=m.index,m<g?(y.flags|=2,g):m):(y.flags|=2,g)):(y.flags|=1048576,g)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,g,m,_){return g===null||g.tag!==6?(g=Ll(m,y.mode,_),g.return=y,g):(g=s(g,m),g.return=y,g)}function c(y,g,m,_){var S=m.type;return S===Hn?d(y,g,m.props.children,_,m.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===wr&&Xf(S)===g.type)?(_=s(g,m.props),_.ref=Us(y,g,m),_.return=y,_):(_=Ii(m.type,m.key,m.props,null,y.mode,_),_.ref=Us(y,g,m),_.return=y,_)}function u(y,g,m,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==m.containerInfo||g.stateNode.implementation!==m.implementation?(g=Dl(m,y.mode,_),g.return=y,g):(g=s(g,m.children||[]),g.return=y,g)}function d(y,g,m,_,S){return g===null||g.tag!==7?(g=hn(m,y.mode,_,S),g.return=y,g):(g=s(g,m),g.return=y,g)}function f(y,g,m){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ll(""+g,y.mode,m),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Jo:return m=Ii(g.type,g.key,g.props,null,y.mode,m),m.ref=Us(y,null,g),m.return=y,m;case Wn:return g=Dl(g,y.mode,m),g.return=y,g;case wr:var _=g._init;return f(y,_(g._payload),m)}if(Ks(g)||Ls(g))return g=hn(g,y.mode,m,null),g.return=y,g;li(y,g)}return null}function h(y,g,m,_){var S=g!==null?g.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:a(y,g,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Jo:return m.key===S?c(y,g,m,_):null;case Wn:return m.key===S?u(y,g,m,_):null;case wr:return S=m._init,h(y,g,S(m._payload),_)}if(Ks(m)||Ls(m))return S!==null?null:d(y,g,m,_,null);li(y,m)}return null}function v(y,g,m,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(m)||null,a(g,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Jo:return y=y.get(_.key===null?m:_.key)||null,c(g,y,_,S);case Wn:return y=y.get(_.key===null?m:_.key)||null,u(g,y,_,S);case wr:var C=_._init;return v(y,g,m,C(_._payload),S)}if(Ks(_)||Ls(_))return y=y.get(m)||null,d(g,y,_,S,null);li(g,_)}return null}function w(y,g,m,_){for(var S=null,C=null,P=g,k=g=0,N=null;P!==null&&k<m.length;k++){P.index>k?(N=P,P=null):N=P.sibling;var A=h(y,P,m[k],_);if(A===null){P===null&&(P=N);break}e&&P&&A.alternate===null&&t(y,P),g=o(A,g,k),C===null?S=A:C.sibling=A,C=A,P=N}if(k===m.length)return r(y,P),_e&&sn(y,k),S;if(P===null){for(;k<m.length;k++)P=f(y,m[k],_),P!==null&&(g=o(P,g,k),C===null?S=P:C.sibling=P,C=P);return _e&&sn(y,k),S}for(P=n(y,P);k<m.length;k++)N=v(P,y,k,m[k],_),N!==null&&(e&&N.alternate!==null&&P.delete(N.key===null?k:N.key),g=o(N,g,k),C===null?S=N:C.sibling=N,C=N);return e&&P.forEach(function($){return t(y,$)}),_e&&sn(y,k),S}function x(y,g,m,_){var S=Ls(m);if(typeof S!="function")throw Error(F(150));if(m=S.call(m),m==null)throw Error(F(151));for(var C=S=null,P=g,k=g=0,N=null,A=m.next();P!==null&&!A.done;k++,A=m.next()){P.index>k?(N=P,P=null):N=P.sibling;var $=h(y,P,A.value,_);if($===null){P===null&&(P=N);break}e&&P&&$.alternate===null&&t(y,P),g=o($,g,k),C===null?S=$:C.sibling=$,C=$,P=N}if(A.done)return r(y,P),_e&&sn(y,k),S;if(P===null){for(;!A.done;k++,A=m.next())A=f(y,A.value,_),A!==null&&(g=o(A,g,k),C===null?S=A:C.sibling=A,C=A);return _e&&sn(y,k),S}for(P=n(y,P);!A.done;k++,A=m.next())A=v(P,y,k,A.value,_),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?k:A.key),g=o(A,g,k),C===null?S=A:C.sibling=A,C=A);return e&&P.forEach(function(T){return t(y,T)}),_e&&sn(y,k),S}function b(y,g,m,_){if(typeof m=="object"&&m!==null&&m.type===Hn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Jo:e:{for(var S=m.key,C=g;C!==null;){if(C.key===S){if(S=m.type,S===Hn){if(C.tag===7){r(y,C.sibling),g=s(C,m.props.children),g.return=y,y=g;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===wr&&Xf(S)===C.type){r(y,C.sibling),g=s(C,m.props),g.ref=Us(y,C,m),g.return=y,y=g;break e}r(y,C);break}else t(y,C);C=C.sibling}m.type===Hn?(g=hn(m.props.children,y.mode,_,m.key),g.return=y,y=g):(_=Ii(m.type,m.key,m.props,null,y.mode,_),_.ref=Us(y,g,m),_.return=y,y=_)}return i(y);case Wn:e:{for(C=m.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===m.containerInfo&&g.stateNode.implementation===m.implementation){r(y,g.sibling),g=s(g,m.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=Dl(m,y.mode,_),g.return=y,y=g}return i(y);case wr:return C=m._init,b(y,g,C(m._payload),_)}if(Ks(m))return w(y,g,m,_);if(Ls(m))return x(y,g,m,_);li(y,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,g!==null&&g.tag===6?(r(y,g.sibling),g=s(g,m),g.return=y,y=g):(r(y,g),g=Ll(m,y.mode,_),g.return=y,y=g),i(y)):r(y,g)}return b}var ps=Km(!0),Gm=Km(!1),Zi=Gr(null),ea=null,Zn=null,td=null;function rd(){td=Zn=ea=null}function nd(e){var t=Zi.current;be(Zi),e._currentValue=t}function Dc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function is(e,t){ea=e,td=Zn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ot=!0),e.firstContext=null)}function kt(e){var t=e._currentValue;if(td!==e)if(e={context:e,memoizedValue:t,next:null},Zn===null){if(ea===null)throw Error(F(308));Zn=e,ea.dependencies={lanes:0,firstContext:e}}else Zn=Zn.next=e;return t}var un=null;function sd(e){un===null?un=[e]:un.push(e)}function Ym(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,sd(t)):(r.next=s.next,s.next=r),t.interleaved=r,cr(e,n)}function cr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var br=!1;function od(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ir(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,se&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,cr(e,r)}return s=n.interleaved,s===null?(t.next=t,sd(n)):(t.next=s.next,s.next=t),n.interleaved=t,cr(e,r)}function Ni(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Wu(e,r)}}function Zf(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ta(e,t,r,n){var s=e.updateQueue;br=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,a=o;do{var h=a.lane,v=a.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,x=a;switch(h=t,v=r,x.tag){case 1:if(w=x.payload,typeof w=="function"){f=w.call(v,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,h=typeof w=="function"?w.call(v,f,h):w,h==null)break e;f=ke({},f,h);break e;case 2:br=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else v={eventTime:v,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=v,c=f):d=d.next=v,i|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);yn|=i,e.lanes=i,e.memoizedState=f}}function eh(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(F(191,s));s.call(n)}}}var $o={},Yt=Gr($o),_o=Gr($o),So=Gr($o);function dn(e){if(e===$o)throw Error(F(174));return e}function id(e,t){switch(me(So,t),me(_o,e),me(Yt,$o),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gc(t,e)}be(Yt),me(Yt,t)}function ms(){be(Yt),be(_o),be(So)}function Jm(e){dn(So.current);var t=dn(Yt.current),r=gc(t,e.type);t!==r&&(me(_o,e),me(Yt,r))}function ad(e){_o.current===e&&(be(Yt),be(_o))}var Se=Gr(0);function ra(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pl=[];function ld(){for(var e=0;e<Pl.length;e++)Pl[e]._workInProgressVersionPrimary=null;Pl.length=0}var Pi=hr.ReactCurrentDispatcher,Tl=hr.ReactCurrentBatchConfig,vn=0,je=null,Oe=null,De=null,na=!1,no=!1,jo=0,M1=0;function He(){throw Error(F(321))}function cd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!$t(e[r],t[r]))return!1;return!0}function ud(e,t,r,n,s,o){if(vn=o,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pi.current=e===null||e.memoizedState===null?z1:B1,e=r(n,s),no){o=0;do{if(no=!1,jo=0,25<=o)throw Error(F(301));o+=1,De=Oe=null,t.updateQueue=null,Pi.current=V1,e=r(n,s)}while(no)}if(Pi.current=sa,t=Oe!==null&&Oe.next!==null,vn=0,De=Oe=je=null,na=!1,t)throw Error(F(300));return e}function dd(){var e=jo!==0;return jo=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?je.memoizedState=De=e:De=De.next=e,De}function Et(){if(Oe===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=De===null?je.memoizedState:De.next;if(t!==null)De=t,Oe=e;else{if(e===null)throw Error(F(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},De===null?je.memoizedState=De=e:De=De.next=e}return De}function ko(e,t){return typeof t=="function"?t(e):t}function Rl(e){var t=Et(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=Oe,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var a=i=null,c=null,u=o;do{var d=u.lane;if((vn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,i=n):c=c.next=f,je.lanes|=d,yn|=d}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=a,$t(n,t.memoizedState)||(ot=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,je.lanes|=o,yn|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Al(e){var t=Et(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);$t(o,t.memoizedState)||(ot=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Xm(){}function Zm(e,t){var r=je,n=Et(),s=t(),o=!$t(n.memoizedState,s);if(o&&(n.memoizedState=s,ot=!0),n=n.queue,fd(rg.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||De!==null&&De.memoizedState.tag&1){if(r.flags|=2048,Eo(9,tg.bind(null,r,n,s,t),void 0,null),$e===null)throw Error(F(349));vn&30||eg(r,t,s)}return s}function eg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function tg(e,t,r,n){t.value=r,t.getSnapshot=n,ng(t)&&sg(e)}function rg(e,t,r){return r(function(){ng(t)&&sg(e)})}function ng(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$t(e,r)}catch(n){return!0}}function sg(e){var t=cr(e,1);t!==null&&Dt(t,e,1,-1)}function th(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:e},t.queue=e,e=e.dispatch=U1.bind(null,je,e),[t.memoizedState,e]}function Eo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function og(){return Et().memoizedState}function Ti(e,t,r,n){var s=Wt();je.flags|=e,s.memoizedState=Eo(1|t,r,void 0,n===void 0?null:n)}function Pa(e,t,r,n){var s=Et();n=n===void 0?null:n;var o=void 0;if(Oe!==null){var i=Oe.memoizedState;if(o=i.destroy,n!==null&&cd(n,i.deps)){s.memoizedState=Eo(t,r,o,n);return}}je.flags|=e,s.memoizedState=Eo(1|t,r,o,n)}function rh(e,t){return Ti(8390656,8,e,t)}function fd(e,t){return Pa(2048,8,e,t)}function ig(e,t){return Pa(4,2,e,t)}function ag(e,t){return Pa(4,4,e,t)}function lg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cg(e,t,r){return r=r!=null?r.concat([e]):null,Pa(4,4,lg.bind(null,t,e),r)}function hd(){}function ug(e,t){var r=Et();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&cd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function dg(e,t){var r=Et();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&cd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function fg(e,t,r){return vn&21?($t(r,t)||(r=vm(),je.lanes|=r,yn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=r)}function $1(e,t){var r=ce;ce=r!==0&&4>r?r:4,e(!0);var n=Tl.transition;Tl.transition={};try{e(!1),t()}finally{ce=r,Tl.transition=n}}function hg(){return Et().memoizedState}function F1(e,t,r){var n=Dr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},pg(e))mg(t,r);else if(r=Ym(e,t,r,n),r!==null){var s=Xe();Dt(r,e,n,s),gg(r,t,n)}}function U1(e,t,r){var n=Dr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(pg(e))mg(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,r);if(s.hasEagerState=!0,s.eagerState=a,$t(a,i)){var c=t.interleaved;c===null?(s.next=s,sd(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch(u){}finally{}r=Ym(e,t,s,n),r!==null&&(s=Xe(),Dt(r,e,n,s),gg(r,t,n))}}function pg(e){var t=e.alternate;return e===je||t!==null&&t===je}function mg(e,t){no=na=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function gg(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Wu(e,r)}}var sa={readContext:kt,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},z1={readContext:kt,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:rh,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ti(4194308,4,lg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ti(4,2,e,t)},useMemo:function(e,t){var r=Wt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Wt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=F1.bind(null,je,e),[n.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:th,useDebugValue:hd,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=th(!1),t=e[0];return e=$1.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=je,s=Wt();if(_e){if(r===void 0)throw Error(F(407));r=r()}else{if(r=t(),$e===null)throw Error(F(349));vn&30||eg(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,rh(rg.bind(null,n,o,e),[e]),n.flags|=2048,Eo(9,tg.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Wt(),t=$e.identifierPrefix;if(_e){var r=or,n=sr;r=(n&~(1<<32-Lt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=jo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=M1++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},B1={readContext:kt,useCallback:ug,useContext:kt,useEffect:fd,useImperativeHandle:cg,useInsertionEffect:ig,useLayoutEffect:ag,useMemo:dg,useReducer:Rl,useRef:og,useState:function(){return Rl(ko)},useDebugValue:hd,useDeferredValue:function(e){var t=Et();return fg(t,Oe.memoizedState,e)},useTransition:function(){var e=Rl(ko)[0],t=Et().memoizedState;return[e,t]},useMutableSource:Xm,useSyncExternalStore:Zm,useId:hg,unstable_isNewReconciler:!1},V1={readContext:kt,useCallback:ug,useContext:kt,useEffect:fd,useImperativeHandle:cg,useInsertionEffect:ig,useLayoutEffect:ag,useMemo:dg,useReducer:Al,useRef:og,useState:function(){return Al(ko)},useDebugValue:hd,useDeferredValue:function(e){var t=Et();return Oe===null?t.memoizedState=e:fg(t,Oe.memoizedState,e)},useTransition:function(){var e=Al(ko)[0],t=Et().memoizedState;return[e,t]},useMutableSource:Xm,useSyncExternalStore:Zm,useId:hg,unstable_isNewReconciler:!1};function Tt(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Mc(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ke({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ta={isMounted:function(e){return(e=e._reactInternals)?En(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Xe(),s=Dr(e),o=ir(n,s);o.payload=t,r!=null&&(o.callback=r),t=Ir(e,o,s),t!==null&&(Dt(t,e,s,n),Ni(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Xe(),s=Dr(e),o=ir(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Ir(e,o,s),t!==null&&(Dt(t,e,s,n),Ni(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Xe(),n=Dr(e),s=ir(r,n);s.tag=2,t!=null&&(s.callback=t),t=Ir(e,s,n),t!==null&&(Dt(t,e,n,r),Ni(t,e,n))}};function nh(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!yo(r,n)||!yo(s,o):!0}function vg(e,t,r){var n=!1,s=Br,o=t.contextType;return typeof o=="object"&&o!==null?o=kt(o):(s=at(t)?mn:Ye.current,n=t.contextTypes,o=(n=n!=null)?fs(e,s):Br),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ta,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function sh(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ta.enqueueReplaceState(t,t.state,null)}function $c(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},od(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=kt(o):(o=at(t)?mn:Ye.current,s.context=fs(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Mc(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ta.enqueueReplaceState(s,s.state,null),ta(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function gs(e,t){try{var r="",n=t;do r+=vw(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Ol(e,t,r){return{value:e,source:null,stack:r!=null?r:null,digest:t!=null?t:null}}function Fc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var W1=typeof WeakMap=="function"?WeakMap:Map;function yg(e,t,r){r=ir(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ia||(ia=!0,Yc=n),Fc(e,t)},r}function xg(e,t,r){r=ir(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Fc(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Fc(e,t),typeof n!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function oh(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new W1;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=sb.bind(null,e,t,r),t.then(e,e))}function ih(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ah(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ir(-1,1),t.tag=2,Ir(r,t,1))),r.lanes|=1),e)}var H1=hr.ReactCurrentOwner,ot=!1;function Je(e,t,r,n){t.child=e===null?Gm(t,null,r,n):ps(t,e.child,r,n)}function lh(e,t,r,n,s){r=r.render;var o=t.ref;return is(t,s),n=ud(e,t,r,n,o,s),r=dd(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ur(e,t,s)):(_e&&r&&Xu(t),t.flags|=1,Je(e,t,n,s),t.child)}function ch(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!bd(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,wg(e,t,o,n,s)):(e=Ii(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:yo,r(i,n)&&e.ref===t.ref)return ur(e,t,s)}return t.flags|=1,e=Mr(o,n),e.ref=t.ref,e.return=t,t.child=e}function wg(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(yo(o,n)&&e.ref===t.ref)if(ot=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(ot=!0);else return t.lanes=e.lanes,ur(e,t,s)}return Uc(e,t,r,n,s)}function bg(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(ts,ft),ft|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,me(ts,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,me(ts,ft),ft|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,me(ts,ft),ft|=n;return Je(e,t,s,r),t.child}function _g(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Uc(e,t,r,n,s){var o=at(r)?mn:Ye.current;return o=fs(t,o),is(t,s),r=ud(e,t,r,n,o,s),n=dd(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ur(e,t,s)):(_e&&n&&Xu(t),t.flags|=1,Je(e,t,r,s),t.child)}function uh(e,t,r,n,s){if(at(r)){var o=!0;Qi(t)}else o=!1;if(is(t,s),t.stateNode===null)Ri(e,t),vg(t,r,n),$c(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=kt(u):(u=at(r)?mn:Ye.current,u=fs(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||c!==u)&&sh(t,i,n,u),br=!1;var h=t.memoizedState;i.state=h,ta(t,n,i,s),c=t.memoizedState,a!==n||h!==c||it.current||br?(typeof d=="function"&&(Mc(t,r,d,n),c=t.memoizedState),(a=br||nh(t,r,a,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Qm(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Tt(t.type,a),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=kt(c):(c=at(r)?mn:Ye.current,c=fs(t,c));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||h!==c)&&sh(t,i,n,c),br=!1,h=t.memoizedState,i.state=h,ta(t,n,i,s);var w=t.memoizedState;a!==f||h!==w||it.current||br?(typeof v=="function"&&(Mc(t,r,v,n),w=t.memoizedState),(u=br||nh(t,r,u,n,h,w,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),i.props=n,i.state=w,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return zc(e,t,r,n,o,s)}function zc(e,t,r,n,s,o){_g(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&Yf(t,r,!1),ur(e,t,o);n=t.stateNode,H1.current=t;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=ps(t,e.child,null,o),t.child=ps(t,null,a,o)):Je(e,t,a,o),t.memoizedState=n.state,s&&Yf(t,r,!0),t.child}function Sg(e){var t=e.stateNode;t.pendingContext?Gf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gf(e,t.context,!1),id(e,t.containerInfo)}function dh(e,t,r,n,s){return hs(),ed(s),t.flags|=256,Je(e,t,r,n),t.child}var Bc={dehydrated:null,treeContext:null,retryLane:0};function Vc(e){return{baseLanes:e,cachePool:null,transitions:null}}function jg(e,t,r){var n=t.pendingProps,s=Se.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),me(Se,s&1),e===null)return Lc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Oa(i,n,0,null),e=hn(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Vc(r),t.memoizedState=Bc,e):pd(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return q1(e,t,i,n,a,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Mr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Mr(a,o):(o=hn(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?Vc(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=Bc,n}return o=e.child,e=o.sibling,n=Mr(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function pd(e,t){return t=Oa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ci(e,t,r,n){return n!==null&&ed(n),ps(t,e.child,null,r),e=pd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function q1(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Ol(Error(F(422))),ci(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Oa({mode:"visible",children:n.children},s,0,null),o=hn(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&ps(t,e.child,null,i),t.child.memoizedState=Vc(i),t.memoizedState=Bc,o);if(!(t.mode&1))return ci(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(F(419)),n=Ol(o,n,void 0),ci(e,t,i,n)}if(a=(i&e.childLanes)!==0,ot||a){if(n=$e,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,cr(e,s),Dt(n,e,s,-1))}return wd(),n=Ol(Error(F(421))),ci(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ob.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,pt=Or(s.nextSibling),mt=t,_e=!0,It=null,e!==null&&(wt[bt++]=sr,wt[bt++]=or,wt[bt++]=gn,sr=e.id,or=e.overflow,gn=t),t=pd(t,n.children),t.flags|=4096,t)}function fh(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Dc(e.return,t,r)}function Il(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function kg(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(Je(e,t,n.children,r),n=Se.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fh(e,r,t);else if(e.tag===19)fh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(me(Se,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ra(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Il(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ra(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Il(t,!0,r,null,o);break;case"together":Il(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ri(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ur(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),yn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,r=Mr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Mr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function K1(e,t,r){switch(t.tag){case 3:Sg(t),hs();break;case 5:Jm(t);break;case 1:at(t.type)&&Qi(t);break;case 4:id(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;me(Zi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(me(Se,Se.current&1),t.flags|=128,null):r&t.child.childLanes?jg(e,t,r):(me(Se,Se.current&1),e=ur(e,t,r),e!==null?e.sibling:null);me(Se,Se.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return kg(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),me(Se,Se.current),n)break;return null;case 22:case 23:return t.lanes=0,bg(e,t,r)}return ur(e,t,r)}var Eg,Wc,Cg,Ng;Eg=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wc=function(){};Cg=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,dn(Yt.current);var o=null;switch(r){case"input":s=fc(e,s),n=fc(e,n),o=[];break;case"select":s=ke({},s,{value:void 0}),n=ke({},n,{value:void 0}),o=[];break;case"textarea":s=mc(e,s),n=mc(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Gi)}vc(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(uo.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(uo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&xe("scroll",e),o||a===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Ng=function(e,t,r,n){r!==n&&(t.flags|=4)};function zs(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function G1(e,t,r){var n=t.pendingProps;switch(Zu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return at(t.type)&&Yi(),qe(t),null;case 3:return n=t.stateNode,ms(),be(it),be(Ye),ld(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ai(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,It!==null&&(Xc(It),It=null))),Wc(e,t),qe(t),null;case 5:ad(t);var s=dn(So.current);if(r=t.type,e!==null&&t.stateNode!=null)Cg(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(F(166));return qe(t),null}if(e=dn(Yt.current),ai(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[qt]=t,n[bo]=o,e=(t.mode&1)!==0,r){case"dialog":xe("cancel",n),xe("close",n);break;case"iframe":case"object":case"embed":xe("load",n);break;case"video":case"audio":for(s=0;s<Ys.length;s++)xe(Ys[s],n);break;case"source":xe("error",n);break;case"img":case"image":case"link":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"input":bf(n,o),xe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},xe("invalid",n);break;case"textarea":Sf(n,o),xe("invalid",n)}vc(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&ii(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ii(n.textContent,a,e),s=["children",""+a]):uo.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&xe("scroll",n)}switch(r){case"input":Xo(n),_f(n,o,!0);break;case"textarea":Xo(n),jf(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Gi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[qt]=t,e[bo]=n,Eg(e,t,!1,!1),t.stateNode=e;e:{switch(i=yc(r,n),r){case"dialog":xe("cancel",e),xe("close",e),s=n;break;case"iframe":case"object":case"embed":xe("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ys.length;s++)xe(Ys[s],e);s=n;break;case"source":xe("error",e),s=n;break;case"img":case"image":case"link":xe("error",e),xe("load",e),s=n;break;case"details":xe("toggle",e),s=n;break;case"input":bf(e,n),s=fc(e,n),xe("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ke({},n,{value:void 0}),xe("invalid",e);break;case"textarea":Sf(e,n),s=mc(e,n),xe("invalid",e);break;default:s=n}vc(r,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?om(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nm(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&fo(e,c):typeof c=="number"&&fo(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(uo.hasOwnProperty(o)?c!=null&&o==="onScroll"&&xe("scroll",e):c!=null&&$u(e,o,c,i))}switch(r){case"input":Xo(e),_f(e,n,!1);break;case"textarea":Xo(e),jf(e);break;case"option":n.value!=null&&e.setAttribute("value",""+zr(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?rs(e,!!n.multiple,o,!1):n.defaultValue!=null&&rs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Gi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qe(t),null;case 6:if(e&&t.stateNode!=null)Ng(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(F(166));if(r=dn(So.current),dn(Yt.current),ai(t)){if(n=t.stateNode,r=t.memoizedProps,n[qt]=t,(o=n.nodeValue!==r)&&(e=mt,e!==null))switch(e.tag){case 3:ii(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ii(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[qt]=t,t.stateNode=n}return qe(t),null;case 13:if(be(Se),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&pt!==null&&t.mode&1&&!(t.flags&128))qm(),hs(),t.flags|=98560,o=!1;else if(o=ai(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(F(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(F(317));o[qt]=t}else hs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qe(t),o=!1}else It!==null&&(Xc(It),It=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Se.current&1?Ie===0&&(Ie=3):wd())),t.updateQueue!==null&&(t.flags|=4),qe(t),null);case 4:return ms(),Wc(e,t),e===null&&xo(t.stateNode.containerInfo),qe(t),null;case 10:return nd(t.type._context),qe(t),null;case 17:return at(t.type)&&Yi(),qe(t),null;case 19:if(be(Se),o=t.memoizedState,o===null)return qe(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)zs(o,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ra(e),i!==null){for(t.flags|=128,zs(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return me(Se,Se.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ce()>vs&&(t.flags|=128,n=!0,zs(o,!1),t.lanes=4194304)}else{if(!n)if(e=ra(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),zs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!_e)return qe(t),null}else 2*Ce()-o.renderingStartTime>vs&&r!==1073741824&&(t.flags|=128,n=!0,zs(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ce(),t.sibling=null,r=Se.current,me(Se,n?r&1|2:r&1),t):(qe(t),null);case 22:case 23:return xd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ft&1073741824&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function Y1(e,t){switch(Zu(t),t.tag){case 1:return at(t.type)&&Yi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ms(),be(it),be(Ye),ld(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ad(t),null;case 13:if(be(Se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));hs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(Se),null;case 4:return ms(),null;case 10:return nd(t.type._context),null;case 22:case 23:return xd(),null;case 24:return null;default:return null}}var ui=!1,Ge=!1,Q1=typeof WeakSet=="function"?WeakSet:Set,H=null;function es(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ee(e,t,n)}else r.current=null}function Hc(e,t,r){try{r()}catch(n){Ee(e,t,n)}}var hh=!1;function J1(e,t){if(Nc=Hi,e=Om(),Ju(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(_){r=null;break e}var i=0,a=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var v;f!==r||s!==0&&f.nodeType!==3||(a=i+s),f!==o||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(v=f.firstChild)!==null;)h=f,f=v;for(;;){if(f===e)break t;if(h===r&&++u===s&&(a=i),h===o&&++d===n&&(c=i),(v=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=v}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Pc={focusedElem:e,selectionRange:r},Hi=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,b=w.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:Tt(t.type,x),b);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(_){Ee(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return w=hh,hh=!1,w}function so(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Hc(t,r,o)}s=s.next}while(s!==n)}}function Ra(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function qc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Pg(e){var t=e.alternate;t!==null&&(e.alternate=null,Pg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qt],delete t[bo],delete t[Ac],delete t[O1],delete t[I1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tg(e){return e.tag===5||e.tag===3||e.tag===4}function ph(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Gi));else if(n!==4&&(e=e.child,e!==null))for(Kc(e,t,r),e=e.sibling;e!==null;)Kc(e,t,r),e=e.sibling}function Gc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Gc(e,t,r),e=e.sibling;e!==null;)Gc(e,t,r),e=e.sibling}var Fe=null,Rt=!1;function pr(e,t,r){for(r=r.child;r!==null;)Rg(e,t,r),r=r.sibling}function Rg(e,t,r){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Sa,r)}catch(a){}switch(r.tag){case 5:Ge||es(r,t);case 6:var n=Fe,s=Rt;Fe=null,pr(e,t,r),Fe=n,Rt=s,Fe!==null&&(Rt?(e=Fe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Fe.removeChild(r.stateNode));break;case 18:Fe!==null&&(Rt?(e=Fe,r=r.stateNode,e.nodeType===8?Cl(e.parentNode,r):e.nodeType===1&&Cl(e,r),go(e)):Cl(Fe,r.stateNode));break;case 4:n=Fe,s=Rt,Fe=r.stateNode.containerInfo,Rt=!0,pr(e,t,r),Fe=n,Rt=s;break;case 0:case 11:case 14:case 15:if(!Ge&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Hc(r,t,i),s=s.next}while(s!==n)}pr(e,t,r);break;case 1:if(!Ge&&(es(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ee(r,t,a)}pr(e,t,r);break;case 21:pr(e,t,r);break;case 22:r.mode&1?(Ge=(n=Ge)||r.memoizedState!==null,pr(e,t,r),Ge=n):pr(e,t,r);break;default:pr(e,t,r)}}function mh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Q1),t.forEach(function(n){var s=ib.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ct(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Fe=a.stateNode,Rt=!1;break e;case 3:Fe=a.stateNode.containerInfo,Rt=!0;break e;case 4:Fe=a.stateNode.containerInfo,Rt=!0;break e}a=a.return}if(Fe===null)throw Error(F(160));Rg(o,i,s),Fe=null,Rt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ee(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ag(t,e),t=t.sibling}function Ag(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ct(t,e),Vt(e),n&4){try{so(3,e,e.return),Ra(3,e)}catch(x){Ee(e,e.return,x)}try{so(5,e,e.return)}catch(x){Ee(e,e.return,x)}}break;case 1:Ct(t,e),Vt(e),n&512&&r!==null&&es(r,r.return);break;case 5:if(Ct(t,e),Vt(e),n&512&&r!==null&&es(r,r.return),e.flags&32){var s=e.stateNode;try{fo(s,"")}catch(x){Ee(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&em(s,o),yc(a,i);var u=yc(a,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?om(s,f):d==="dangerouslySetInnerHTML"?nm(s,f):d==="children"?fo(s,f):$u(s,d,f,u)}switch(a){case"input":hc(s,o);break;case"textarea":tm(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?rs(s,!!o.multiple,v,!1):h!==!!o.multiple&&(o.defaultValue!=null?rs(s,!!o.multiple,o.defaultValue,!0):rs(s,!!o.multiple,o.multiple?[]:"",!1))}s[bo]=o}catch(x){Ee(e,e.return,x)}}break;case 6:if(Ct(t,e),Vt(e),n&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(x){Ee(e,e.return,x)}}break;case 3:if(Ct(t,e),Vt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{go(t.containerInfo)}catch(x){Ee(e,e.return,x)}break;case 4:Ct(t,e),Vt(e);break;case 13:Ct(t,e),Vt(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(vd=Ce())),n&4&&mh(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ge=(u=Ge)||d,Ct(t,e),Ge=u):Ct(t,e),Vt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(H=e,d=e.child;d!==null;){for(f=H=d;H!==null;){switch(h=H,v=h.child,h.tag){case 0:case 11:case 14:case 15:so(4,h,h.return);break;case 1:es(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){Ee(n,r,x)}}break;case 5:es(h,h.return);break;case 22:if(h.memoizedState!==null){vh(f);continue}}v!==null?(v.return=h,H=v):vh(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=sm("display",i))}catch(x){Ee(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Ee(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ct(t,e),Vt(e),n&4&&mh(e);break;case 21:break;default:Ct(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Tg(r)){var n=r;break e}r=r.return}throw Error(F(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(fo(s,""),n.flags&=-33);var o=ph(e);Gc(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,a=ph(e);Kc(e,a,i);break;default:throw Error(F(161))}}catch(c){Ee(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function X1(e,t,r){H=e,Og(e)}function Og(e,t,r){for(var n=(e.mode&1)!==0;H!==null;){var s=H,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||ui;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Ge;a=ui;var u=Ge;if(ui=i,(Ge=c)&&!u)for(H=s;H!==null;)i=H,c=i.child,i.tag===22&&i.memoizedState!==null?yh(s):c!==null?(c.return=i,H=c):yh(s);for(;o!==null;)H=o,Og(o),o=o.sibling;H=s,ui=a,Ge=u}gh(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,H=o):gh(e)}}function gh(e){for(;H!==null;){var t=H;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ge||Ra(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ge)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Tt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&eh(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}eh(t,i,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&go(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Ge||t.flags&512&&qc(t)}catch(h){Ee(t,t.return,h)}}if(t===e){H=null;break}if(r=t.sibling,r!==null){r.return=t.return,H=r;break}H=t.return}}function vh(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var r=t.sibling;if(r!==null){r.return=t.return,H=r;break}H=t.return}}function yh(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ra(4,t)}catch(c){Ee(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ee(t,s,c)}}var o=t.return;try{qc(t)}catch(c){Ee(t,o,c)}break;case 5:var i=t.return;try{qc(t)}catch(c){Ee(t,i,c)}}}catch(c){Ee(t,t.return,c)}if(t===e){H=null;break}var a=t.sibling;if(a!==null){a.return=t.return,H=a;break}H=t.return}}var Z1=Math.ceil,oa=hr.ReactCurrentDispatcher,md=hr.ReactCurrentOwner,St=hr.ReactCurrentBatchConfig,se=0,$e=null,Te=null,Be=0,ft=0,ts=Gr(0),Ie=0,Co=null,yn=0,Aa=0,gd=0,oo=null,nt=null,vd=0,vs=1/0,tr=null,ia=!1,Yc=null,Lr=null,di=!1,Cr=null,aa=0,io=0,Qc=null,Ai=-1,Oi=0;function Xe(){return se&6?Ce():Ai!==-1?Ai:Ai=Ce()}function Dr(e){return e.mode&1?se&2&&Be!==0?Be&-Be:D1.transition!==null?(Oi===0&&(Oi=vm()),Oi):(e=ce,e!==0||(e=window.event,e=e===void 0?16:jm(e.type)),e):1}function Dt(e,t,r,n){if(50<io)throw io=0,Qc=null,Error(F(185));Lo(e,r,n),(!(se&2)||e!==$e)&&(e===$e&&(!(se&2)&&(Aa|=r),Ie===4&&jr(e,Be)),lt(e,n),r===1&&se===0&&!(t.mode&1)&&(vs=Ce()+500,Na&&Yr()))}function lt(e,t){var r=e.callbackNode;Dw(e,t);var n=Wi(e,e===$e?Be:0);if(n===0)r!==null&&Cf(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Cf(r),t===1)e.tag===0?L1(xh.bind(null,e)):Vm(xh.bind(null,e)),R1(function(){!(se&6)&&Yr()}),r=null;else{switch(ym(n)){case 1:r=Vu;break;case 4:r=mm;break;case 16:r=Vi;break;case 536870912:r=gm;break;default:r=Vi}r=zg(r,Ig.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ig(e,t){if(Ai=-1,Oi=0,se&6)throw Error(F(327));var r=e.callbackNode;if(as()&&e.callbackNode!==r)return null;var n=Wi(e,e===$e?Be:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=la(e,n);else{t=n;var s=se;se|=2;var o=Dg();($e!==e||Be!==t)&&(tr=null,vs=Ce()+500,fn(e,t));do try{rb();break}catch(a){Lg(e,a)}while(!0);rd(),oa.current=o,se=s,Te!==null?t=0:($e=null,Be=0,t=Ie)}if(t!==0){if(t===2&&(s=Sc(e),s!==0&&(n=s,t=Jc(e,s))),t===1)throw r=Co,fn(e,0),jr(e,n),lt(e,Ce()),r;if(t===6)jr(e,n);else{if(s=e.current.alternate,!(n&30)&&!eb(s)&&(t=la(e,n),t===2&&(o=Sc(e),o!==0&&(n=o,t=Jc(e,o))),t===1))throw r=Co,fn(e,0),jr(e,n),lt(e,Ce()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(F(345));case 2:on(e,nt,tr);break;case 3:if(jr(e,n),(n&130023424)===n&&(t=vd+500-Ce(),10<t)){if(Wi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Xe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Rc(on.bind(null,e,nt,tr),t);break}on(e,nt,tr);break;case 4:if(jr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-Lt(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=Ce()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Z1(n/1960))-n,10<n){e.timeoutHandle=Rc(on.bind(null,e,nt,tr),n);break}on(e,nt,tr);break;case 5:on(e,nt,tr);break;default:throw Error(F(329))}}}return lt(e,Ce()),e.callbackNode===r?Ig.bind(null,e):null}function Jc(e,t){var r=oo;return e.current.memoizedState.isDehydrated&&(fn(e,t).flags|=256),e=la(e,t),e!==2&&(t=nt,nt=r,t!==null&&Xc(t)),e}function Xc(e){nt===null?nt=e:nt.push.apply(nt,e)}function eb(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!$t(o(),s))return!1}catch(i){return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jr(e,t){for(t&=~gd,t&=~Aa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Lt(t),n=1<<r;e[r]=-1,t&=~n}}function xh(e){if(se&6)throw Error(F(327));as();var t=Wi(e,0);if(!(t&1))return lt(e,Ce()),null;var r=la(e,t);if(e.tag!==0&&r===2){var n=Sc(e);n!==0&&(t=n,r=Jc(e,n))}if(r===1)throw r=Co,fn(e,0),jr(e,t),lt(e,Ce()),r;if(r===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,on(e,nt,tr),lt(e,Ce()),null}function yd(e,t){var r=se;se|=1;try{return e(t)}finally{se=r,se===0&&(vs=Ce()+500,Na&&Yr())}}function xn(e){Cr!==null&&Cr.tag===0&&!(se&6)&&as();var t=se;se|=1;var r=St.transition,n=ce;try{if(St.transition=null,ce=1,e)return e()}finally{ce=n,St.transition=r,se=t,!(se&6)&&Yr()}}function xd(){ft=ts.current,be(ts)}function fn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,T1(r)),Te!==null)for(r=Te.return;r!==null;){var n=r;switch(Zu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Yi();break;case 3:ms(),be(it),be(Ye),ld();break;case 5:ad(n);break;case 4:ms();break;case 13:be(Se);break;case 19:be(Se);break;case 10:nd(n.type._context);break;case 22:case 23:xd()}r=r.return}if($e=e,Te=e=Mr(e.current,null),Be=ft=t,Ie=0,Co=null,gd=Aa=yn=0,nt=oo=null,un!==null){for(t=0;t<un.length;t++)if(r=un[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}un=null}return e}function Lg(e,t){do{var r=Te;try{if(rd(),Pi.current=sa,na){for(var n=je.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}na=!1}if(vn=0,De=Oe=je=null,no=!1,jo=0,md.current=null,r===null||r.return===null){Ie=1,Co=t,Te=null;break}e:{var o=e,i=r.return,a=r,c=t;if(t=Be,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=ih(i);if(v!==null){v.flags&=-257,ah(v,i,a,o,t),v.mode&1&&oh(o,u,t),t=v,c=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){oh(o,u,t),wd();break e}c=Error(F(426))}}else if(_e&&a.mode&1){var b=ih(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ah(b,i,a,o,t),ed(gs(c,a));break e}}o=c=gs(c,a),Ie!==4&&(Ie=2),oo===null?oo=[o]:oo.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=yg(o,c,t);Zf(o,y);break e;case 1:a=c;var g=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Lr===null||!Lr.has(m)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=xg(o,a,t);Zf(o,_);break e}}o=o.return}while(o!==null)}$g(r)}catch(S){t=S,Te===r&&r!==null&&(Te=r=r.return);continue}break}while(!0)}function Dg(){var e=oa.current;return oa.current=sa,e===null?sa:e}function wd(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),$e===null||!(yn&268435455)&&!(Aa&268435455)||jr($e,Be)}function la(e,t){var r=se;se|=2;var n=Dg();($e!==e||Be!==t)&&(tr=null,fn(e,t));do try{tb();break}catch(s){Lg(e,s)}while(!0);if(rd(),se=r,oa.current=n,Te!==null)throw Error(F(261));return $e=null,Be=0,Ie}function tb(){for(;Te!==null;)Mg(Te)}function rb(){for(;Te!==null&&!Cw();)Mg(Te)}function Mg(e){var t=Ug(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?$g(e):Te=t,md.current=null}function $g(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Y1(r,t),r!==null){r.flags&=32767,Te=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,Te=null;return}}else if(r=G1(r,t,ft),r!==null){Te=r;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Ie===0&&(Ie=5)}function on(e,t,r){var n=ce,s=St.transition;try{St.transition=null,ce=1,nb(e,t,r,n)}finally{St.transition=s,ce=n}return null}function nb(e,t,r,n){do as();while(Cr!==null);if(se&6)throw Error(F(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(Mw(e,o),e===$e&&(Te=$e=null,Be=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||di||(di=!0,zg(Vi,function(){return as(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=St.transition,St.transition=null;var i=ce;ce=1;var a=se;se|=4,md.current=null,J1(e,r),Ag(r,e),S1(Pc),Hi=!!Nc,Pc=Nc=null,e.current=r,X1(r),Nw(),se=a,ce=i,St.transition=o}else e.current=r;if(di&&(di=!1,Cr=e,aa=s),o=e.pendingLanes,o===0&&(Lr=null),Rw(r.stateNode),lt(e,Ce()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ia)throw ia=!1,e=Yc,Yc=null,e;return aa&1&&e.tag!==0&&as(),o=e.pendingLanes,o&1?e===Qc?io++:(io=0,Qc=e):io=0,Yr(),null}function as(){if(Cr!==null){var e=ym(aa),t=St.transition,r=ce;try{if(St.transition=null,ce=16>e?16:e,Cr===null)var n=!1;else{if(e=Cr,Cr=null,aa=0,se&6)throw Error(F(331));var s=se;for(se|=4,H=e.current;H!==null;){var o=H,i=o.child;if(H.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(H=u;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:so(8,d,o)}var f=d.child;if(f!==null)f.return=d,H=f;else for(;H!==null;){d=H;var h=d.sibling,v=d.return;if(Pg(d),d===u){H=null;break}if(h!==null){h.return=v,H=h;break}H=v}}}var w=o.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}H=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,H=i;else e:for(;H!==null;){if(o=H,o.flags&2048)switch(o.tag){case 0:case 11:case 15:so(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,H=y;break e}H=o.return}}var g=e.current;for(H=g;H!==null;){i=H;var m=i.child;if(i.subtreeFlags&2064&&m!==null)m.return=i,H=m;else e:for(i=g;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ra(9,a)}}catch(S){Ee(a,a.return,S)}if(a===i){H=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,H=_;break e}H=a.return}}if(se=s,Yr(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Sa,e)}catch(S){}n=!0}return n}finally{ce=r,St.transition=t}}return!1}function wh(e,t,r){t=gs(r,t),t=yg(e,t,1),e=Ir(e,t,1),t=Xe(),e!==null&&(Lo(e,1,t),lt(e,t))}function Ee(e,t,r){if(e.tag===3)wh(e,e,r);else for(;t!==null;){if(t.tag===3){wh(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Lr===null||!Lr.has(n))){e=gs(r,e),e=xg(t,e,1),t=Ir(t,e,1),e=Xe(),t!==null&&(Lo(t,1,e),lt(t,e));break}}t=t.return}}function sb(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&r,$e===e&&(Be&r)===r&&(Ie===4||Ie===3&&(Be&130023424)===Be&&500>Ce()-vd?fn(e,0):gd|=r),lt(e,t)}function Fg(e,t){t===0&&(e.mode&1?(t=ti,ti<<=1,!(ti&130023424)&&(ti=4194304)):t=1);var r=Xe();e=cr(e,t),e!==null&&(Lo(e,t,r),lt(e,r))}function ob(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Fg(e,r)}function ib(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(F(314))}n!==null&&n.delete(t),Fg(e,r)}var Ug;Ug=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||it.current)ot=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ot=!1,K1(e,t,r);ot=!!(e.flags&131072)}else ot=!1,_e&&t.flags&1048576&&Wm(t,Xi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ri(e,t),e=t.pendingProps;var s=fs(t,Ye.current);is(t,r),s=ud(null,t,n,e,s,r);var o=dd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(n)?(o=!0,Qi(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,od(t),s.updater=Ta,t.stateNode=s,s._reactInternals=t,$c(t,n,e,r),t=zc(null,t,n,!0,o,r)):(t.tag=0,_e&&o&&Xu(t),Je(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ri(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=lb(n),e=Tt(n,e),s){case 0:t=Uc(null,t,n,e,r);break e;case 1:t=uh(null,t,n,e,r);break e;case 11:t=lh(null,t,n,e,r);break e;case 14:t=ch(null,t,n,Tt(n.type,e),r);break e}throw Error(F(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tt(n,s),Uc(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tt(n,s),uh(e,t,n,s,r);case 3:e:{if(Sg(t),e===null)throw Error(F(387));n=t.pendingProps,o=t.memoizedState,s=o.element,Qm(e,t),ta(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=gs(Error(F(423)),t),t=dh(e,t,n,r,s);break e}else if(n!==s){s=gs(Error(F(424)),t),t=dh(e,t,n,r,s);break e}else for(pt=Or(t.stateNode.containerInfo.firstChild),mt=t,_e=!0,It=null,r=Gm(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(hs(),n===s){t=ur(e,t,r);break e}Je(e,t,n,r)}t=t.child}return t;case 5:return Jm(t),e===null&&Lc(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Tc(n,s)?i=null:o!==null&&Tc(n,o)&&(t.flags|=32),_g(e,t),Je(e,t,i,r),t.child;case 6:return e===null&&Lc(t),null;case 13:return jg(e,t,r);case 4:return id(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ps(t,null,n,r):Je(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tt(n,s),lh(e,t,n,s,r);case 7:return Je(e,t,t.pendingProps,r),t.child;case 8:return Je(e,t,t.pendingProps.children,r),t.child;case 12:return Je(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,me(Zi,n._currentValue),n._currentValue=i,o!==null)if($t(o.value,i)){if(o.children===s.children&&!it.current){t=ur(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=ir(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Dc(o.return,r,t),a.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(F(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),Dc(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Je(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,is(t,r),s=kt(s),n=n(s),t.flags|=1,Je(e,t,n,r),t.child;case 14:return n=t.type,s=Tt(n,t.pendingProps),s=Tt(n.type,s),ch(e,t,n,s,r);case 15:return wg(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tt(n,s),Ri(e,t),t.tag=1,at(n)?(e=!0,Qi(t)):e=!1,is(t,r),vg(t,n,s),$c(t,n,s,r),zc(null,t,n,!0,e,r);case 19:return kg(e,t,r);case 22:return bg(e,t,r)}throw Error(F(156,t.tag))};function zg(e,t){return pm(e,t)}function ab(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,r,n){return new ab(e,t,r,n)}function bd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lb(e){if(typeof e=="function")return bd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Uu)return 11;if(e===zu)return 14}return 2}function Mr(e,t){var r=e.alternate;return r===null?(r=_t(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ii(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")bd(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Hn:return hn(r.children,s,o,t);case Fu:i=8,s|=8;break;case lc:return e=_t(12,r,t,s|2),e.elementType=lc,e.lanes=o,e;case cc:return e=_t(13,r,t,s),e.elementType=cc,e.lanes=o,e;case uc:return e=_t(19,r,t,s),e.elementType=uc,e.lanes=o,e;case Jp:return Oa(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yp:i=10;break e;case Qp:i=9;break e;case Uu:i=11;break e;case zu:i=14;break e;case wr:i=16,n=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=_t(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function hn(e,t,r,n){return e=_t(7,e,n,t),e.lanes=r,e}function Oa(e,t,r,n){return e=_t(22,e,n,t),e.elementType=Jp,e.lanes=r,e.stateNode={isHidden:!1},e}function Ll(e,t,r){return e=_t(6,e,null,t),e.lanes=r,e}function Dl(e,t,r){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cb(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gl(0),this.expirationTimes=gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _d(e,t,r,n,s,o,i,a,c){return e=new cb(e,t,r,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=_t(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},od(o),e}function ub(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Bg(e){if(!e)return Br;e=e._reactInternals;e:{if(En(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(at(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var r=e.type;if(at(r))return Bm(e,r,t)}return t}function Vg(e,t,r,n,s,o,i,a,c){return e=_d(r,n,!0,e,s,o,i,a,c),e.context=Bg(null),r=e.current,n=Xe(),s=Dr(r),o=ir(n,s),o.callback=t!=null?t:null,Ir(r,o,s),e.current.lanes=s,Lo(e,s,n),lt(e,n),e}function Ia(e,t,r,n){var s=t.current,o=Xe(),i=Dr(s);return r=Bg(r),t.context===null?t.context=r:t.pendingContext=r,t=ir(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ir(s,t,i),e!==null&&(Dt(e,s,i,o),Ni(e,s,i)),i}function ca(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Sd(e,t){bh(e,t),(e=e.alternate)&&bh(e,t)}function db(){return null}var Wg=typeof reportError=="function"?reportError:function(e){console.error(e)};function jd(e){this._internalRoot=e}La.prototype.render=jd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Ia(e,t,null,null)};La.prototype.unmount=jd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xn(function(){Ia(null,e,null,null)}),t[lr]=null}};function La(e){this._internalRoot=e}La.prototype.unstable_scheduleHydration=function(e){if(e){var t=bm();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Sr.length&&t!==0&&t<Sr[r].priority;r++);Sr.splice(r,0,e),r===0&&Sm(e)}};function kd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Da(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _h(){}function fb(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=ca(i);o.call(u)}}var i=Vg(t,n,e,0,null,!1,!1,"",_h);return e._reactRootContainer=i,e[lr]=i.current,xo(e.nodeType===8?e.parentNode:e),xn(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=ca(c);a.call(u)}}var c=_d(e,0,!1,null,null,!1,!1,"",_h);return e._reactRootContainer=c,e[lr]=c.current,xo(e.nodeType===8?e.parentNode:e),xn(function(){Ia(t,c,r,n)}),c}function Ma(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=ca(i);a.call(c)}}Ia(t,i,e,s)}else i=fb(r,t,e,s,n);return ca(i)}xm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Gs(t.pendingLanes);r!==0&&(Wu(t,r|1),lt(t,Ce()),!(se&6)&&(vs=Ce()+500,Yr()))}break;case 13:xn(function(){var n=cr(e,1);if(n!==null){var s=Xe();Dt(n,e,1,s)}}),Sd(e,1)}};Hu=function(e){if(e.tag===13){var t=cr(e,134217728);if(t!==null){var r=Xe();Dt(t,e,134217728,r)}Sd(e,134217728)}};wm=function(e){if(e.tag===13){var t=Dr(e),r=cr(e,t);if(r!==null){var n=Xe();Dt(r,e,t,n)}Sd(e,t)}};bm=function(){return ce};_m=function(e,t){var r=ce;try{return ce=e,t()}finally{ce=r}};wc=function(e,t,r){switch(t){case"input":if(hc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ca(n);if(!s)throw Error(F(90));Zp(n),hc(n,s)}}}break;case"textarea":tm(e,r);break;case"select":t=r.value,t!=null&&rs(e,!!r.multiple,t,!1)}};lm=yd;cm=xn;var hb={usingClientEntryPoint:!1,Events:[Mo,Yn,Ca,im,am,yd]},Bs={findFiberByHostInstance:cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pb={bundleType:Bs.bundleType,version:Bs.version,rendererPackageName:Bs.rendererPackageName,rendererConfig:Bs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fm(e),e===null?null:e.stateNode},findFiberByHostInstance:Bs.findFiberByHostInstance||db,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fi.isDisabled&&fi.supportsFiber)try{Sa=fi.inject(pb),Gt=fi}catch(e){}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hb;yt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kd(t))throw Error(F(200));return ub(e,t,null,r)};yt.createRoot=function(e,t){if(!kd(e))throw Error(F(299));var r=!1,n="",s=Wg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=_d(e,1,!1,null,null,r,!1,n,s),e[lr]=t.current,xo(e.nodeType===8?e.parentNode:e),new jd(t)};yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=fm(t),e=e===null?null:e.stateNode,e};yt.flushSync=function(e){return xn(e)};yt.hydrate=function(e,t,r){if(!Da(t))throw Error(F(200));return Ma(null,e,t,!0,r)};yt.hydrateRoot=function(e,t,r){if(!kd(e))throw Error(F(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=Wg;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Vg(t,null,e,1,r!=null?r:null,s,!1,o,i),e[lr]=t.current,xo(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new La(t)};yt.render=function(e,t,r){if(!Da(t))throw Error(F(200));return Ma(null,e,t,!1,r)};yt.unmountComponentAtNode=function(e){if(!Da(e))throw Error(F(40));return e._reactRootContainer?(xn(function(){Ma(null,null,e,!1,function(){e._reactRootContainer=null,e[lr]=null})}),!0):!1};yt.unstable_batchedUpdates=yd;yt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Da(r))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Ma(e,t,r,!1,n)};yt.version="18.3.1-next-f1338f8080-20240426";function Hg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hg)}catch(e){console.error(e)}}Hg(),Hp.exports=yt;var Cn=Hp.exports;const mb=Ap(Cn);var qg,Sh=Cn;qg=Sh.createRoot,Sh.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function No(){return No=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},No.apply(this,arguments)}var Nr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Nr||(Nr={}));const jh="popstate";function gb(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:a}=n.location;return Zc("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ua(s)}return yb(t,r,null,e)}function Re(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function Kg(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(r){}}}function vb(){return Math.random().toString(36).substr(2,8)}function kh(e,t){return{usr:e.state,key:e.key,idx:t}}function Zc(e,t,r,n){return r===void 0&&(r=null),No({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?js(t):t,{state:r,key:t&&t.key||n||vb()})}function ua(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function js(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function yb(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,a=Nr.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(No({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=Nr.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:a,location:x.location,delta:y})}function h(b,y){a=Nr.Push;let g=Zc(x.location,b,y);u=d()+1;let m=kh(g,u),_=x.createHref(g);try{i.pushState(m,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}o&&c&&c({action:a,location:x.location,delta:1})}function v(b,y){a=Nr.Replace;let g=Zc(x.location,b,y);u=d();let m=kh(g,u),_=x.createHref(g);i.replaceState(m,"",_),o&&c&&c({action:a,location:x.location,delta:0})}function w(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof b=="string"?b:ua(b);return g=g.replace(/ $/,"%20"),Re(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let x={get action(){return a},get location(){return e(s,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(jh,f),c=b,()=>{s.removeEventListener(jh,f),c=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let y=w(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:v,go(b){return i.go(b)}};return x}var Eh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Eh||(Eh={}));function xb(e,t,r){return r===void 0&&(r="/"),wb(e,t,r,!1)}function wb(e,t,r,n){let s=typeof t=="string"?js(t):t,o=Ed(s.pathname||"/",r);if(o==null)return null;let i=Gg(e);bb(i);let a=null;for(let c=0;a==null&&c<i.length;++c){let u=Ab(o);a=Tb(i[c],u,n)}return a}function Gg(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Re(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=$r([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(Re(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Gg(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:Nb(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let c of Yg(o.path))s(o,i,c)}),t}function Yg(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=Yg(n.join("/")),a=[];return a.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...i),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function bb(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Pb(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const _b=/^:[\w-]+$/,Sb=3,jb=2,kb=1,Eb=10,Cb=-2,Ch=e=>e==="*";function Nb(e,t){let r=e.split("/"),n=r.length;return r.some(Ch)&&(n+=Cb),t&&(n+=jb),r.filter(s=>!Ch(s)).reduce((s,o)=>s+(_b.test(o)?Sb:o===""?kb:Eb),n)}function Pb(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Tb(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let a=0;a<n.length;++a){let c=n[a],u=a===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=Nh({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Nh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:$r([o,f.pathname]),pathnameBase:Db($r([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=$r([o,f.pathnameBase]))}return i}function Nh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Rb(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:v}=d;if(h==="*"){let x=a[f]||"";i=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const w=a[f];return v&&!w?u[h]=void 0:u[h]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function Rb(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Kg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Ab(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ed(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Ob(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?js(e):e;return{pathname:r?r.startsWith("/")?r:Ib(r,t):t,search:Mb(n),hash:$b(s)}}function Ib(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ml(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Lb(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Qg(e,t){let r=Lb(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Jg(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=js(e):(s=No({},e),Re(!s.pathname||!s.pathname.includes("?"),Ml("?","pathname","search",s)),Re(!s.pathname||!s.pathname.includes("#"),Ml("#","pathname","hash",s)),Re(!s.search||!s.search.includes("#"),Ml("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let c=Ob(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const $r=e=>e.join("/").replace(/\/\/+/g,"/"),Db=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Mb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$b=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Fb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Xg=["post","put","patch","delete"];new Set(Xg);const Ub=["get",...Xg];new Set(Ub);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Po.apply(this,arguments)}const Cd=p.createContext(null),zb=p.createContext(null),Nn=p.createContext(null),$a=p.createContext(null),Qr=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Zg=p.createContext(null);function Bb(e,t){let{relative:r}=t===void 0?{}:t;Fo()||Re(!1);let{basename:n,navigator:s}=p.useContext(Nn),{hash:o,pathname:i,search:a}=tv(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:$r([n,i])),s.createHref({pathname:c,search:a,hash:o})}function Fo(){return p.useContext($a)!=null}function Jr(){return Fo()||Re(!1),p.useContext($a).location}function ev(e){p.useContext(Nn).static||p.useLayoutEffect(e)}function zt(){let{isDataRoute:e}=p.useContext(Qr);return e?t_():Vb()}function Vb(){Fo()||Re(!1);let e=p.useContext(Cd),{basename:t,future:r,navigator:n}=p.useContext(Nn),{matches:s}=p.useContext(Qr),{pathname:o}=Jr(),i=JSON.stringify(Qg(s,r.v7_relativeSplatPath)),a=p.useRef(!1);return ev(()=>{a.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=Jg(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:$r([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,o,e])}function Nd(){let{matches:e}=p.useContext(Qr),t=e[e.length-1];return t?t.params:{}}function tv(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(Nn),{matches:s}=p.useContext(Qr),{pathname:o}=Jr(),i=JSON.stringify(Qg(s,n.v7_relativeSplatPath));return p.useMemo(()=>Jg(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function Wb(e,t){return Hb(e,t)}function Hb(e,t,r,n){Fo()||Re(!1);let{navigator:s}=p.useContext(Nn),{matches:o}=p.useContext(Qr),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Jr(),d;if(t){var f;let b=typeof t=="string"?js(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||Re(!1),d=b}else d=u;let h=d.pathname||"/",v=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=xb(e,{pathname:v}),x=Qb(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:$r([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:$r([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,r,n);return t&&x?p.createElement($a.Provider,{value:{location:Po({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Nr.Pop}},x):x}function qb(){let e=e_(),t=Fb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:s},r):null,null)}const Kb=p.createElement(qb,null);class Gb extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(Qr.Provider,{value:this.props.routeContext},p.createElement(Zg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Yb(e){let{routeContext:t,match:r,children:n}=e,s=p.useContext(Cd);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(Qr.Provider,{value:t},n)}function Qb(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Re(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:v}=r,w=f.route.loader&&h[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||w){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let v,w=!1,x=null,b=null;r&&(v=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||Kb,c&&(u<0&&h===0?(w=!0,b=null):u===h&&(w=!0,b=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),g=()=>{let m;return v?m=x:w?m=b:f.route.Component?m=p.createElement(f.route.Component,null):f.route.element?m=f.route.element:m=d,p.createElement(Yb,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:m})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(Gb,{location:r.location,revalidation:r.revalidation,component:x,error:v,children:g(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):g()},null)}var rv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(rv||{}),da=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(da||{});function Jb(e){let t=p.useContext(Cd);return t||Re(!1),t}function Xb(e){let t=p.useContext(zb);return t||Re(!1),t}function Zb(e){let t=p.useContext(Qr);return t||Re(!1),t}function nv(e){let t=Zb(),r=t.matches[t.matches.length-1];return r.route.id||Re(!1),r.route.id}function e_(){var e;let t=p.useContext(Zg),r=Xb(da.UseRouteError),n=nv(da.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function t_(){let{router:e}=Jb(rv.UseNavigateStable),t=nv(da.UseNavigateStable),r=p.useRef(!1);return ev(()=>{r.current=!0}),p.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Po({fromRouteId:t},o)))},[e,t])}function rt(e){Re(!1)}function r_(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Nr.Pop,navigator:o,static:i=!1,future:a}=e;Fo()&&Re(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:o,static:i,future:Po({v7_relativeSplatPath:!1},a)}),[c,a,o,i]);typeof n=="string"&&(n=js(n));let{pathname:d="/",search:f="",hash:h="",state:v=null,key:w="default"}=n,x=p.useMemo(()=>{let b=Ed(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:v,key:w},navigationType:s}},[c,d,f,h,v,w,s]);return x==null?null:p.createElement(Nn.Provider,{value:u},p.createElement($a.Provider,{children:r,value:x}))}function n_(e){let{children:t,location:r}=e;return Wb(eu(t),r)}new Promise(()=>{});function eu(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,s)=>{if(!p.isValidElement(n))return;let o=[...t,s];if(n.type===p.Fragment){r.push.apply(r,eu(n.props.children,o));return}n.type!==rt&&Re(!1),!n.props.index||!n.props.children||Re(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=eu(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tu.apply(this,arguments)}function s_(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function o_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function i_(e,t){return e.button===0&&(!t||t==="_self")&&!o_(e)}function ru(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function a_(e,t){let r=ru(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}const l_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],c_="6";try{window.__reactRouterVersion=c_}catch(e){}const u_="startTransition",Ph=Vp[u_];function d_(e){let{basename:t,children:r,future:n,window:s}=e,o=p.useRef();o.current==null&&(o.current=gb({window:s,v5Compat:!0}));let i=o.current,[a,c]=p.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=p.useCallback(f=>{u&&Ph?Ph(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>i.listen(d),[i,d]),p.createElement(r_,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:i,future:n})}const f_=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",h_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ze=p.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:a,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=s_(t,l_),{basename:v}=p.useContext(Nn),w,x=!1;if(typeof u=="string"&&h_.test(u)&&(w=u,f_))try{let m=new URL(window.location.href),_=u.startsWith("//")?new URL(m.protocol+u):new URL(u),S=Ed(_.pathname,v);_.origin===m.origin&&S!=null?u=S+_.search+_.hash:x=!0}catch(m){}let b=Bb(u,{relative:s}),y=p_(u,{replace:i,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:f});function g(m){n&&n(m),m.defaultPrevented||y(m)}return p.createElement("a",tu({},h,{href:w||b,onClick:x||o?n:g,ref:r,target:c}))});var Th;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Th||(Th={}));var Rh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Rh||(Rh={}));function p_(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:a}=t===void 0?{}:t,c=zt(),u=Jr(),d=tv(e,{relative:i});return p.useCallback(f=>{if(i_(f,r)){f.preventDefault();let h=n!==void 0?n:ua(u)===ua(d);c(e,{replace:h,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[u,c,d,n,s,r,e,o,i,a])}function m_(e){let t=p.useRef(ru(e)),r=p.useRef(!1),n=Jr(),s=p.useMemo(()=>a_(n.search,r.current?null:t.current),[n.search]),o=zt(),i=p.useCallback((a,c)=>{const u=ru(typeof a=="function"?a(s):a);r.current=!0,o("?"+u,c)},[o,s]);return[s,i]}const g_="modulepreload",v_=function(e){return"/"+e},Ah={},Me=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=v_(c),c in Ah)return;Ah[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":g_,u||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((h,v)=>{f.addEventListener("load",h),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},y_=e=>{let t;return e?t=e:typeof fetch=="undefined"?t=(...r)=>Me(()=>j(void 0,null,function*(){const{default:n}=yield Promise.resolve().then(()=>ks);return{default:n}}),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Pd extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class x_ extends Pd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Oh extends Pd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ih extends Pd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var nu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(nu||(nu={}));var w_=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};class b_{constructor(t,{headers:r={},customFetch:n,region:s=nu.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=y_(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return w_(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=r;let a={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(a["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob!="undefined"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(a["Content-Type"]="text/plain",d=i):typeof FormData!="undefined"&&i instanceof FormData?d=i:(a["Content-Type"]="application/json",d=JSON.stringify(i)));const f=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(x=>{throw new x_(x)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Oh(f);if(!f.ok)throw new Ih(f);let v=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return v==="application/json"?w=yield f.json():v==="application/octet-stream"?w=yield f.blob():v==="text/event-stream"?w=f:v==="multipart/form-data"?w=yield f.formData():w=yield f.text(),{data:w,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Ih||s instanceof Oh?s.context:void 0}}})}}var st={},Td={},Fa={},Uo={},Ua={},za={},__=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof globalThis!="undefined")return globalThis;throw new Error("unable to locate global object")},ys=__();const S_=ys.fetch,sv=ys.fetch.bind(ys),ov=ys.Headers,j_=ys.Request,k_=ys.Response,ks=Object.freeze(Object.defineProperty({__proto__:null,Headers:ov,Request:j_,Response:k_,default:sv,fetch:S_},Symbol.toStringTag,{value:"Module"})),E_=V0(ks);var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});let C_=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ba.default=C_;var iv=jt&&jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(za,"__esModule",{value:!0});const N_=iv(E_),P_=iv(Ba);let T_=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch=="undefined"?this.fetch=N_.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>j(this,null,function*(){var i,a,c;let u=null,d=null,f=null,h=o.status,v=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=yield o.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const x=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),b=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");x&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=yield o.text();try{u=JSON.parse(x),Array.isArray(u)&&o.status===404&&(d=[],u=null,h=200,v="OK")}catch(b){o.status===404&&x===""?(h=204,v="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,v="OK"),u&&this.shouldThrowOnError)throw new P_.default(u)}return{error:u,data:d,count:f,status:h,statusText:v}}));return this.shouldThrowOnError||(s=s.catch(o=>{var i,a,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};za.default=T_;var R_=jt&&jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ua,"__esModule",{value:!0});const A_=R_(za);let O_=class extends A_.default{select(t){let r=!1;const n=(t!=null?t:"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n=="undefined"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s=="undefined"?"offset":`${s}.offset`,i=typeof s=="undefined"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var a;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ua.default=O_;var I_=jt&&jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uo,"__esModule",{value:!0});const L_=I_(Ua);let D_=class extends L_.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Uo.default=D_;var M_=jt&&jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fa,"__esModule",{value:!0});const Vs=M_(Uo);let $_=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(t!=null?t:"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Vs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(i.length>0){const a=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Vs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const i="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Vs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Vs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Vs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Fa.default=$_;var Va={},Wa={};Object.defineProperty(Wa,"__esModule",{value:!0});Wa.version=void 0;Wa.version="0.0.0-automated";Object.defineProperty(Va,"__esModule",{value:!0});Va.DEFAULT_HEADERS=void 0;const F_=Wa;Va.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${F_.version}`};var av=jt&&jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Td,"__esModule",{value:!0});const U_=av(Fa),z_=av(Uo),B_=Va;let V_=class lv{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},B_.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new U_.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new lv(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){let i;const a=new URL(`${this.url}/rpc/${t}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(i="POST",c=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new z_.default({method:i,url:a,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Td.default=V_;var Es=jt&&jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(st,"__esModule",{value:!0});st.PostgrestError=st.PostgrestBuilder=st.PostgrestTransformBuilder=st.PostgrestFilterBuilder=st.PostgrestQueryBuilder=st.PostgrestClient=void 0;const cv=Es(Td);st.PostgrestClient=cv.default;const uv=Es(Fa);st.PostgrestQueryBuilder=uv.default;const dv=Es(Uo);st.PostgrestFilterBuilder=dv.default;const fv=Es(Ua);st.PostgrestTransformBuilder=fv.default;const hv=Es(za);st.PostgrestBuilder=hv.default;const pv=Es(Ba);st.PostgrestError=pv.default;var W_=st.default={PostgrestClient:cv.default,PostgrestQueryBuilder:uv.default,PostgrestFilterBuilder:dv.default,PostgrestTransformBuilder:fv.default,PostgrestBuilder:hv.default,PostgrestError:pv.default};const{PostgrestClient:H_,PostgrestQueryBuilder:dT,PostgrestFilterBuilder:fT,PostgrestTransformBuilder:hT,PostgrestBuilder:pT,PostgrestError:mT}=W_;function q_(){if(typeof WebSocket!="undefined")return WebSocket;if(typeof globalThis.WebSocket!="undefined")return globalThis.WebSocket;if(typeof window.WebSocket!="undefined")return window.WebSocket;if(typeof self.WebSocket!="undefined")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const K_=q_(),G_="2.11.15",Y_=`realtime-js/${G_}`,Q_="1.0.0",mv=1e4,J_=1e3;var ao;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ao||(ao={}));var Ke;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ke||(Ke={}));var At;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(At||(At={}));var su;(function(e){e.websocket="websocket"})(su||(su={}));var ln;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ln||(ln={}));class X_{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const a=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class gv{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(pe||(pe={}));const Lh=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,i)=>(o[i]=Z_(i,e,t,s),o),{})},Z_=(e,t,r,n)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?vv(o,i):ou(i)},vv=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return nS(t,r)}switch(e){case pe.bool:return eS(t);case pe.float4:case pe.float8:case pe.int2:case pe.int4:case pe.int8:case pe.numeric:case pe.oid:return tS(t);case pe.json:case pe.jsonb:return rS(t);case pe.timestamp:return sS(t);case pe.abstime:case pe.date:case pe.daterange:case pe.int4range:case pe.int8range:case pe.money:case pe.reltime:case pe.text:case pe.time:case pe.timestamptz:case pe.timetz:case pe.tsrange:case pe.tstzrange:return ou(t);default:return ou(t)}},ou=e=>e,eS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},tS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},rS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},nS=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch(a){o=i?i.split(","):[]}return o.map(a=>vv(t,a))}return e},sS=e=>typeof e=="string"?e.replace(" ","T"):e,yv=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class $l{constructor(t,r,n={},s=mv){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Dh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Dh||(Dh={}));class lo{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lo.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=lo.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=lo.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),a={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const h=d.map(b=>b.presence_ref),v=f.map(b=>b.presence_ref),w=d.filter(b=>v.indexOf(b.presence_ref)<0),x=f.filter(b=>h.indexOf(b.presence_ref)<0);w.length>0&&(a[u]=w),x.length>0&&(c[u]=x)}else a[u]=d}),this.syncDiff(o,{joins:a,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(a,c)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),d.length>0){const f=t[a].map(v=>v.presence_ref),h=d.filter(v=>f.indexOf(v.presence_ref)<0);t[a].unshift(...h)}n(a,d,c)}),this.map(i,(a,c)=>{let u=t[a];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=u,s(a,u,c),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Mh;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Mh||(Mh={}));var $h;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})($h||($h={}));var rr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(rr||(rr={}));class Rd{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new $l(this,At.join,this.params,this.timeout),this.rejoinTimer=new gv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ke.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(At.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new lo(this),this.broadcastEndpointURL=yv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ke.closed){const{config:{broadcast:o,presence:i,private:a}}=this.params;this._onError(d=>t==null?void 0:t(rr.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(rr.CLOSED));const c={},u={broadcast:o,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",f=>j(this,[f],function*({postgres_changes:d}){var h;if(this.socket.setAuth(),d===void 0){t==null||t(rr.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,w=(h=v==null?void 0:v.length)!==null&&h!==void 0?h:0,x=[];for(let b=0;b<w;b++){const y=v[b],{filter:{event:g,schema:m,table:_,filter:S}}=y,C=d&&d[b];if(C&&C.event===g&&C.schema===m&&C.table===_&&C.filter===S)x.push(Object.assign(Object.assign({},y),{id:C.id}));else{this.unsubscribe(),this.state=Ke.errored,t==null||t(rr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(rr.SUBSCRIBED);return}})).receive("error",d=>{this.state=Ke.errored,t==null||t(rr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(rr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(n){return j(this,arguments,function*(t,r={}){return yield this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)})}untrack(){return j(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,r,n){return this._on(t,r,n)}send(n){return j(this,arguments,function*(t,r={}){var s,o;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const d=yield this._fetchWithTimeout(this.broadcastEndpointURL,u,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return yield(o=d.body)===null||o===void 0?void 0:o.cancel(),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,c,u;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ke.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(At.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new $l(this,At.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(t,r,n){return j(this,null,function*(){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=yield this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i})}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new $l(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=At;if(n&&[a,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,x,b;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(x=v.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(v=>v.callback(h,n)):(o=this.bindings[i])===null||o===void 0||o.filter(v=>{var w,x,b,y,g,m;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in v){const _=v.id,S=(w=v.filter)===null||w===void 0?void 0:w.event;return _&&((x=r.ids)===null||x===void 0?void 0:x.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(g=(y=v==null?void 0:v.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===i}).map(v=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:x,table:b,commit_timestamp:y,type:g,errors:m}=w;h=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:y,eventType:g,new:{},old:{},errors:m}),this._getPayloadRecords(w))}v.callback(h,n)})}_isClosed(){return this.state===Ke.closed}_isJoined(){return this.state===Ke.joined}_isJoining(){return this.state===Ke.joining}_isLeaving(){return this.state===Ke.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Rd.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(At.close,{},t)}_onError(t){this._on(At.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ke.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Lh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Lh(t.columns,t.old_record)),r}}const Fh=()=>{},oS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iS{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=mv,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fh,this.ref=0,this.logger=Fh,this.conn=null,this.sendBuffer=[],this.serializer=new X_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch=="undefined"?i=(...a)=>Me(()=>j(this,null,function*(){const{default:c}=yield Promise.resolve().then(()=>ks);return{default:c}}),void 0).then(({default:c})=>c(...a)):i=fetch,(...a)=>i(...a)},this.endPoint=`${t}/${su.websocket}`,this.httpEndpoint=yv(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,i)=>i(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new gv(()=>j(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window!="undefined"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=K_),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Q_}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r!=null?r:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}removeChannel(t){return j(this,null,function*(){const r=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),r})}removeAllChannels(){return j(this,null,function*(){const t=yield Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ao.connecting:return ln.Connecting;case ao.open:return ln.Open;case ao.closing:return ln.Closing;default:return ln.Closed}}isConnected(){return this.connectionState()===ln.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new Rd(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}setAuth(t=null){return j(this,null,function*(){let r=t||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Y_};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(At.access_token,{access_token:r})}))})}sendHeartbeat(){return j(this,null,function*(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(J_,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:o,ref:i}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(At.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([oS],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Ad extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Le(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class aS extends Ad{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class iu extends Ad{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var lS=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const xv=e=>{let t;return e?t=e:typeof fetch=="undefined"?t=(...r)=>Me(()=>j(void 0,null,function*(){const{default:n}=yield Promise.resolve().then(()=>ks);return{default:n}}),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},cS=()=>lS(void 0,void 0,void 0,function*(){return typeof Response=="undefined"?(yield Me(()=>Promise.resolve().then(()=>ks),void 0)).Response:Response}),au=e=>{if(Array.isArray(e))return e.map(r=>au(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=au(n)}),t};var Pn=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const Fl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uS=(e,t,r)=>Pn(void 0,void 0,void 0,function*(){const n=yield cS();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new aS(Fl(s),e.status||500))}).catch(s=>{t(new iu(Fl(s),s))}):t(new iu(Fl(e),e))}),dS=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function zo(e,t,r,n,s,o){return Pn(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(r,dS(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>uS(c,a,n))})})}function fa(e,t,r,n){return Pn(this,void 0,void 0,function*(){return zo(e,"GET",t,r,n)})}function _r(e,t,r,n,s){return Pn(this,void 0,void 0,function*(){return zo(e,"POST",t,n,s,r)})}function fS(e,t,r,n,s){return Pn(this,void 0,void 0,function*(){return zo(e,"PUT",t,n,s,r)})}function hS(e,t,r,n){return Pn(this,void 0,void 0,function*(){return zo(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function wv(e,t,r,n,s){return Pn(this,void 0,void 0,function*(){return zo(e,"DELETE",t,n,s,r)})}var tt=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const pS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Uh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mS{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=xv(s)}uploadOrUpdate(t,r,n,s){return tt(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Uh),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob!="undefined"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData!="undefined"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(Le(o))return{data:null,error:o};throw o}})}upload(t,r,n){return tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return tt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Uh.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob!="undefined"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData!="undefined"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Le(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return tt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield _r(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Ad("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}update(t,r,n){return tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return tt(this,void 0,void 0,function*(){try{return{data:yield _r(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}copy(t,r,n){return tt(this,void 0,void 0,function*(){try{return{data:{path:(yield _r(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return tt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield _r(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return tt(this,void 0,void 0,function*(){try{const s=yield _r(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}download(t,r){return tt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)!="undefined"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield fa(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Le(a))return{data:null,error:a};throw a}})}info(t){return tt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield fa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:au(n),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}exists(t){return tt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield hS(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Le(n)&&n instanceof iu){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const a=typeof(r==null?void 0:r.transform)!="undefined"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return tt(this,void 0,void 0,function*(){try{return{data:yield wv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}list(t,r,n){return tt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},pS),r),{prefix:t||""});return{data:yield _r(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer!="undefined"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const gS="2.7.1",vS={"X-Client-Info":`storage-js/${gS}`};var In=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,[])).next())})};class yS{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},vS),r),this.fetch=xv(n)}listBuckets(){return In(this,void 0,void 0,function*(){try{return{data:yield fa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Le(t))return{data:null,error:t};throw t}})}getBucket(t){return In(this,void 0,void 0,function*(){try{return{data:yield fa(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return In(this,void 0,void 0,function*(){try{return{data:yield _r(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return In(this,void 0,void 0,function*(){try{return{data:yield fS(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}emptyBucket(t){return In(this,void 0,void 0,function*(){try{return{data:yield _r(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}deleteBucket(t){return In(this,void 0,void 0,function*(){try{return{data:yield wv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}}class xS extends yS{constructor(t,r={},n){super(t,r,n)}from(t){return new mS(this.url,this.headers,t,this.fetch)}}const wS="2.52.1";let Qs="";typeof Deno!="undefined"?Qs="deno":typeof document!="undefined"?Qs="web":typeof navigator!="undefined"&&navigator.product==="ReactNative"?Qs="react-native":Qs="node";const bS={"X-Client-Info":`supabase-js-${Qs}/${wS}`},_S={headers:bS},SS={schema:"public"},jS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kS={};var ES=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const CS=e=>{let t;return e?t=e:typeof fetch=="undefined"?t=sv:t=fetch,(...r)=>t(...r)},NS=()=>typeof Headers=="undefined"?ov:Headers,PS=(e,t,r)=>{const n=CS(r),s=NS();return(o,i)=>ES(void 0,void 0,void 0,function*(){var a;const c=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:u}))})};var TS=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,[])).next())})};function RS(e){return e.endsWith("/")?e:e+"/"}function AS(e,t){var r,n;const{db:s,auth:o,realtime:i,global:a}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>TS(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const bv="2.71.1",Bn=30*1e3,lu=3,Ul=lu*Bn,OS="http://localhost:9999",IS="supabase.auth.token",LS={"X-Client-Info":`gotrue-js/${bv}`},cu="X-Supabase-Api-Version",_v={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},DS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,MS=10*60*1e3;class Od extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function X(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class $S extends Od{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function FS(e){return X(e)&&e.name==="AuthApiError"}class Sv extends Od{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Xr extends Od{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class yr extends Xr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function US(e){return X(e)&&e.name==="AuthSessionMissingError"}class hi extends Xr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pi extends Xr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class mi extends Xr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zS(e){return X(e)&&e.name==="AuthImplicitGrantRedirectError"}class zh extends Xr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uu extends Xr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function zl(e){return X(e)&&e.name==="AuthRetryableFetchError"}class Bh extends Xr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class du extends Xr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ha="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vh=` 	
\r=`.split(""),BS=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Vh.length;t+=1)e[Vh[t].charCodeAt(0)]=-2;for(let t=0;t<ha.length;t+=1)e[ha[t].charCodeAt(0)]=t;return e})();function Wh(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ha[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ha[n]),t.queuedBits-=6}}function jv(e,t,r){const n=BS[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Hh(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{HS(i,n,r)};for(let i=0;i<e.length;i+=1)jv(e.charCodeAt(i),s,o);return t.join("")}function VS(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function WS(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}VS(n,t)}}function HS(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function qS(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)jv(e.charCodeAt(s),r,n);return new Uint8Array(t)}function KS(e){const t=[];return WS(e,r=>t.push(r)),new Uint8Array(t)}function GS(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Wh(s,r,n)),Wh(null,r,n),t.join("")}function YS(e){return Math.round(Date.now()/1e3)+e}function QS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Nt=()=>typeof window!="undefined"&&typeof document!="undefined",rn={tested:!1,writable:!1},kv=()=>{if(!Nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(t){return!1}if(rn.tested)return rn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),rn.tested=!0,rn.writable=!0}catch(t){rn.tested=!0,rn.writable=!1}return rn.writable};function JS(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch(n){}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Ev=e=>{let t;return e?t=e:typeof fetch=="undefined"?t=(...r)=>Me(()=>j(void 0,null,function*(){const{default:n}=yield Promise.resolve().then(()=>ks);return{default:n}}),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},XS=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Vn=(e,t,r)=>j(void 0,null,function*(){yield e.setItem(t,JSON.stringify(r))}),nn=(e,t)=>j(void 0,null,function*(){const r=yield e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(n){return r}}),mr=(e,t)=>j(void 0,null,function*(){yield e.removeItem(t)});class Ha{constructor(){this.promise=new Ha.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ha.promiseConstructor=Promise;function Bl(e){const t=e.split(".");if(t.length!==3)throw new du("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!DS.test(t[n]))throw new du("JWT not in base64url format");return{header:JSON.parse(Hh(t[0])),payload:JSON.parse(Hh(t[1])),signature:qS(t[2]),raw:{header:t[0],payload:t[1]}}}function ZS(e){return j(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),e)})})}function ej(e,t){return new Promise((n,s)=>{j(this,null,function*(){for(let o=0;o<1/0;o++)try{const i=yield e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})})}function tj(e){return("0"+e.toString(16)).substr(-2)}function rj(){const t=new Uint32Array(56);if(typeof crypto=="undefined"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,tj).join("")}function nj(e){return j(this,null,function*(){const r=new TextEncoder().encode(e),n=yield crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")})}function sj(e){return j(this,null,function*(){if(!(typeof crypto!="undefined"&&typeof crypto.subtle!="undefined"&&typeof TextEncoder!="undefined"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=yield nj(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Ln(e,t,r=!1){return j(this,null,function*(){const n=rj();let s=n;r&&(s+="/PASSWORD_RECOVERY"),yield Vn(e,`${t}-code-verifier`,s);const o=yield sj(n);return[o,n===o?"plain":"s256"]})}const oj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ij(e){const t=e.headers.get(cu);if(!t||!t.match(oj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(r){return null}}function aj(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function lj(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Dn(e){if(!cj.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vl(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qh(e){return JSON.parse(JSON.stringify(e))}var uj=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const an=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dj=[502,503,504];function Kh(e){return j(this,null,function*(){var t;if(!XS(e))throw new uu(an(e),0);if(dj.includes(e.status))throw new uu(an(e),e.status);let r;try{r=yield e.json()}catch(o){throw new Sv(an(o),o)}let n;const s=ij(e);if(s&&s.getTime()>=_v["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Bh(an(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new yr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Bh(an(r),e.status,r.weak_password.reasons);throw new $S(an(r),e.status||500,n)})}const fj=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};function te(e,t,r,n){return j(this,null,function*(){var s;const o=Object.assign({},n==null?void 0:n.headers);o[cu]||(o[cu]=_v["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=yield hj(e,t,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}})}function hj(e,t,r,n,s,o){return j(this,null,function*(){const i=fj(t,n,s,o);let a;try{a=yield e(r,Object.assign({},i))}catch(c){throw console.error(c),new uu(an(c),0)}if(a.ok||(yield Kh(a)),n!=null&&n.noResolveJson)return a;try{return yield a.json()}catch(c){yield Kh(c)}})}function er(e){var t;let r=null;vj(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=YS(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Gh(e){const t=er(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function kr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function pj(e){return{data:e,error:null}}function mj(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=uj(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:a,user:c},error:null}}function gj(e){return e}function vj(e){return e.access_token&&e.refresh_token&&e.expires_in}const Wl=["global","local","others"];var yj=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class xj{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Ev(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(n){return j(this,arguments,function*(t,r=Wl[0]){if(Wl.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wl.join(", ")}`);try{return yield te(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}})}inviteUserByEmail(n){return j(this,arguments,function*(t,r={}){try{return yield te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:kr})}catch(s){if(X(s))return{data:{user:null},error:s};throw s}})}generateLink(t){return j(this,null,function*(){try{const{options:r}=t,n=yj(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),yield te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:mj,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(X(r))return{data:{properties:null,user:null},error:r};throw r}})}createUser(t){return j(this,null,function*(){try{return yield te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:kr})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}})}listUsers(t){return j(this,null,function*(){var r,n,s,o,i,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=yield te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:gj});if(d.error)throw d.error;const f=yield d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,v=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(X(u))return{data:{users:[]},error:u};throw u}})}getUserById(t){return j(this,null,function*(){Dn(t);try{return yield te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:kr})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}})}updateUserById(t,r){return j(this,null,function*(){Dn(t);try{return yield te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:kr})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}})}deleteUser(t,r=!1){return j(this,null,function*(){Dn(t);try{return yield te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:kr})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}})}_listFactors(t){return j(this,null,function*(){Dn(t.userId);try{const{data:r,error:n}=yield te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(X(r))return{data:null,error:r};throw r}})}_deleteFactor(t){return j(this,null,function*(){Dn(t.userId),Dn(t.id);try{return{data:yield te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}})}}function Yh(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function wj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){typeof self!="undefined"&&(self.globalThis=self)}}const Mn={debug:!!(globalThis&&kv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Cv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class bj extends Cv{}function _j(e,t,r){return j(this,null,function*(){Mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Mn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},s=>j(this,null,function*(){if(s){Mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return yield r()}finally{Mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new bj(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Mn.debug)try{const o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield r()}})))})}wj();const Sj={url:OS,storageKey:IS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:LS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function Qh(e,t,r){return j(this,null,function*(){return yield r()})}const $n={};class To{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=To.nextInstanceID,To.nextInstanceID+=1,this.instanceID>0&&Nt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Sj),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new xj({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ev(s.fetch),this.lock=s.lock||Qh,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Nt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=_j:this.lock=Qh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:kv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yh(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Yh(this.memoryStorage)),Nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",o=>j(this,null,function*(){this._debug("received broadcast notification from other tab or client",o),yield this._notifyAllSubscribers(o.data.event,o.data.session,!1)}))}this.initialize()}get jwks(){var t,r;return(r=(t=$n[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){$n[this.storageKey]=Object.assign(Object.assign({},$n[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=$n[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){$n[this.storageKey]=Object.assign(Object.assign({},$n[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${bv}) ${new Date().toISOString()}`,...t),this}initialize(){return j(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=j(this,null,function*(){return yield this._acquireLock(-1,()=>j(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return j(this,null,function*(){var t;try{const r=JS(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":(yield this._isPKCECallback(r))&&(n="pkce"),Nt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=yield this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),zS(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return yield this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),yield this._saveSession(i),setTimeout(()=>j(this,null,function*(){a==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",i):yield this._notifyAllSubscribers("SIGNED_IN",i)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return X(r)?{error:r}:{error:new Sv("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return j(this,null,function*(){var r,n,s;try{const o=yield te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:er}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,u=i.user;return i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(X(o))return{data:{user:null,session:null},error:o};throw o}})}signUp(t){return j(this,null,function*(){var r,n,s;try{let o;if("email"in t){const{email:d,password:f,options:h}=t;let v=null,w=null;this.flowType==="pkce"&&([v,w]=yield Ln(this.storage,this.storageKey)),o=yield te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:v,code_challenge_method:w},xform:er})}else if("phone"in t){const{phone:d,password:f,options:h}=t;o=yield te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:er})}else throw new pi("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,u=i.user;return i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(X(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithPassword(t){return j(this,null,function*(){try{let r;if("email"in t){const{email:o,password:i,options:a}=t;r=yield te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Gh})}else if("phone"in t){const{phone:o,password:i,options:a}=t;r=yield te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Gh})}else throw new pi("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new hi}:(n.session&&(yield this._saveSession(n.session),yield this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(t){return j(this,null,function*(){var r,n,s,o;return yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})})}exchangeCodeForSession(t){return j(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>j(this,null,function*(){return this._exchangeCodeForSession(t)}))})}signInWithWeb3(t){return j(this,null,function*(){const{chain:r}=t;if(r==="solana")return yield this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(t){return j(this,null,function*(){var r,n,s,o,i,a,c,u,d,f,h,v;let w,x;if("message"in t)w=t.message,x=t.signature;else{const{chain:b,wallet:y,statement:g,options:m}=t;let _;if(Nt())if(typeof y=="object")_=y;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))_=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const S=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const C=yield _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),g?{statement:g}:null));let P;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")P=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)P=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)w=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),x=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((f=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...m.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const C=yield _.signMessage(new TextEncoder().encode(w),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=C}}try{const{data:b,error:y}=yield te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:GS(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:er});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new hi}:(b.session&&(yield this._saveSession(b.session),yield this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(X(b))return{data:{user:null,session:null},error:b};throw b}})}_exchangeCodeForSession(t){return j(this,null,function*(){const r=yield nn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r!=null?r:"").split("/");try{const{data:o,error:i}=yield te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:er});if(yield mr(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new hi}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s!=null?s:null}),error:i})}catch(o){if(X(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}})}signInWithIdToken(t){return j(this,null,function*(){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,a=yield te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:er}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new hi}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(t){return j(this,null,function*(){var r,n,s,o,i;try{if("email"in t){const{email:a,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=yield Ln(this.storage,this.storageKey));const{error:f}=yield te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:d}=yield te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new pi("You must provide either an email or phone number.")}catch(a){if(X(a))return{data:{user:null,session:null},error:a};throw a}})}verifyOtp(t){return j(this,null,function*(){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=yield te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:er});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(X(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithSSO(t){return j(this,null,function*(){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=yield Ln(this.storage,this.storageKey)),yield te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:pj})}catch(o){if(X(o))return{data:null,error:o};throw o}})}reauthenticate(){return j(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>j(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return j(this,null,function*(){try{return yield this._useSession(t=>j(this,null,function*(){const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new yr;const{error:s}=yield te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}}))}catch(t){if(X(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return j(this,null,function*(){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=yield te(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:a}=yield te(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new pi("You must provide either an email or phone number and a type")}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return j(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>j(this,null,function*(){return this._useSession(r=>j(this,null,function*(){return r}))}))})}_acquireLock(t,r){return j(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=j(this,null,function*(){return yield n,yield r()});return this.pendingInLock.push(j(this,null,function*(){try{yield s}catch(o){}})),s}return yield this.lock(`lock:${this.storageKey}`,t,()=>j(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push(j(this,null,function*(){try{yield n}catch(s){}})),yield n;this.pendingInLock.length;){const s=[...this.pendingInLock];yield Promise.all(s),this.pendingInLock.splice(0,s.length)}return yield n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return j(this,null,function*(){this._debug("#_useSession","begin");try{const r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return j(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=yield nn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ul:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=yield nn(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Vl()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=yield this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(t){return j(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,yield this._acquireLock(-1,()=>j(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return j(this,null,function*(){try{return t?yield te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:kr}):yield this._useSession(r=>j(this,null,function*(){var n,s,o;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yr}:yield te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:kr})}))}catch(r){if(X(r))return US(r)&&(yield this._removeSession(),yield mr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(n){return j(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>j(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(n){return j(this,arguments,function*(t,r={}){try{return yield this._useSession(s=>j(this,null,function*(){const{data:o,error:i}=s;if(i)throw i;if(!o.session)throw new yr;const a=o.session;let c=null,u=null;this.flowType==="pkce"&&t.email!=null&&([c,u]=yield Ln(this.storage,this.storageKey));const{data:d,error:f}=yield te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:u}),jwt:a.access_token,xform:kr});if(f)throw f;return a.user=d.user,yield this._saveSession(a),yield this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}}))}catch(s){if(X(s))return{data:{user:null},error:s};throw s}})}setSession(t){return j(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>j(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return j(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new yr;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=Bl(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:a,error:c}=yield this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:c}=yield this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(X(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(t){return j(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>j(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return j(this,null,function*(){try{return yield this._useSession(r=>j(this,null,function*(){var n;if(!t){const{data:i,error:a}=r;if(a)throw a;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new yr;const{session:s,error:o}=yield this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(t,r){return j(this,null,function*(){try{if(!Nt())throw new mi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new mi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new zh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new zh("No code detected.");const{data:g,error:m}=yield this._exchangeCodeForSession(t.code);if(m)throw m;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:c,token_type:u}=t;if(!o||!a||!i||!u)throw new mi("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let h=d+f;c&&(h=parseInt(c));const v=h-d;v*1e3<=Bn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const w=h-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,d);const{data:x,error:b}=yield this._getUser(o);if(b)throw b;const y={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(X(n))return{data:{session:null,redirectType:null},error:n};throw n}})}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}_isPKCECallback(t){return j(this,null,function*(){const r=yield nn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return j(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>j(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return j(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>j(this,null,function*(){var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=yield this.admin.signOut(i,t);if(a&&!(FS(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(yield this._removeSession(),yield mr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(t){const r=QS(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),j(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>j(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:n}}}_emitInitialSession(t){return j(this,null,function*(){return yield this._useSession(r=>j(this,null,function*(){var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;yield(n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){yield(s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}}))})}resetPasswordForEmail(n){return j(this,arguments,function*(t,r={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=yield Ln(this.storage,this.storageKey,!0));try{return yield te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(X(i))return{data:null,error:i};throw i}})}getUserIdentities(){return j(this,null,function*(){var t;try{const{data:r,error:n}=yield this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}})}linkIdentity(t){return j(this,null,function*(){var r;try{const{data:n,error:s}=yield this._useSession(o=>j(this,null,function*(){var i,a,c,u,d;const{data:f,error:h}=o;if(h)throw h;const v=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield te(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(s)throw s;return Nt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(X(n))return{data:{provider:t.provider,url:null},error:n};throw n}})}unlinkIdentity(t){return j(this,null,function*(){try{return yield this._useSession(r=>j(this,null,function*(){var n,s;const{data:o,error:i}=r;if(i)throw i;return yield te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})}))}catch(r){if(X(r))return{data:null,error:r};throw r}})}_refreshAccessToken(t){return j(this,null,function*(){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return yield ej(s=>j(this,null,function*(){return s>0&&(yield ZS(200*Math.pow(2,s-1))),this._debug(r,"refreshing attempt",s),yield te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:er})}),(s,o)=>{const i=200*Math.pow(2,s);return o&&zl(o)&&Date.now()+i-n<Bn})}catch(n){if(this._debug(r,"error",n),X(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return j(this,null,function*(){const n=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Nt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}})}_recoverAndRefresh(){return j(this,null,function*(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=yield nn(this.storage,this.storageKey);if(s&&this.userStorage){let i=yield nn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},yield Vn(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Vl()}else if(s&&!s.user&&!s.user){const i=yield nn(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,yield mr(this.storage,this.storageKey+"-user"),yield Vn(this.storage,this.storageKey,s)):s.user=Vl()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&(yield this._removeSession());return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ul;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Ul}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=yield this._callRefreshToken(s.refresh_token);i&&(console.error(i),zl(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),yield this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=yield this._getUser(s.access_token);!a&&(i!=null&&i.user)?(s.user=i.user,yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else yield this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}})}_callRefreshToken(t){return j(this,null,function*(){var r,n;if(!t)throw new yr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ha;const{data:o,error:i}=yield this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new yr;yield this._saveSession(o.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),X(o)){const i={session:null,error:o};return zl(o)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}})}_notifyAllSubscribers(t,r,n=!0){return j(this,null,function*(){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(a=>j(this,null,function*(){try{yield a.callback(t,r)}catch(c){o.push(c)}}));if(yield Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}})}_saveSession(t){return j(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&(yield Vn(this.userStorage,this.storageKey+"-user",{user:r.user}));const s=Object.assign({},r);delete s.user;const o=qh(s);yield Vn(this.storage,this.storageKey,o)}else{const s=qh(r);yield Vn(this.storage,this.storageKey,s)}})}_removeSession(){return j(this,null,function*(){this._debug("#_removeSession()"),yield mr(this.storage,this.storageKey),yield mr(this.storage,this.storageKey+"-code-verifier"),yield mr(this.storage,this.storageKey+"-user"),this.userStorage&&(yield mr(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return j(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Bn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno!="undefined"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>j(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return j(this,null,function*(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return j(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return j(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return j(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>j(this,null,function*(){try{const t=Date.now();try{return yield this._useSession(r=>j(this,null,function*(){const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Bn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Bn}ms, refresh threshold is ${lu} ticks`),s<=lu&&(yield this._callRefreshToken(n.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof Cv)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return j(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>j(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return j(this,null,function*(){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>j(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,n){return j(this,null,function*(){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=yield Ln(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`})}_unenroll(t){return j(this,null,function*(){try{return yield this._useSession(r=>j(this,null,function*(){var n;const{data:s,error:o}=r;return o?{data:null,error:o}:yield te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})}))}catch(r){if(X(r))return{data:null,error:r};throw r}})}_enroll(t){return j(this,null,function*(){try{return yield this._useSession(r=>j(this,null,function*(){var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=yield te(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(X(r))return{data:null,error:r};throw r}})}_verify(t){return j(this,null,function*(){return this._acquireLock(-1,()=>j(this,null,function*(){try{return yield this._useSession(r=>j(this,null,function*(){var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:a}=yield te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})}))}catch(r){if(X(r))return{data:null,error:r};throw r}}))})}_challenge(t){return j(this,null,function*(){return this._acquireLock(-1,()=>j(this,null,function*(){try{return yield this._useSession(r=>j(this,null,function*(){var n;const{data:s,error:o}=r;return o?{data:null,error:o}:yield te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})}))}catch(r){if(X(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(t){return j(this,null,function*(){const{data:r,error:n}=yield this._challenge({factorId:t.factorId});return n?{data:null,error:n}:yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return j(this,null,function*(){const{data:{user:t},error:r}=yield this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}})}_getAuthenticatorAssuranceLevel(){return j(this,null,function*(){return this._acquireLock(-1,()=>j(this,null,function*(){return yield this._useSession(t=>j(this,null,function*(){var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Bl(s.access_token);let a=null;i.aal&&(a=i.aal);let c=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}))})}fetchJwk(n){return j(this,arguments,function*(t,r={keys:[]}){let s=r.keys.find(c=>c.kid===t);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(c=>c.kid===t),s&&this.jwks_cached_at+MS>o)return s;const{data:i,error:a}=yield te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=o,s=i.keys.find(c=>c.kid===t),!s)?null:s})}getClaims(n){return j(this,arguments,function*(t,r={}){try{let s=t;if(!s){const{data:w,error:x}=yield this.getSession();if(x||!w.session)return{data:null,error:x};s=w.session.access_token}const{header:o,payload:i,signature:a,raw:{header:c,payload:u}}=Bl(s);r!=null&&r.allowExpired||aj(i.exp);const d=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(o.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:w}=yield this.getUser(s);if(w)throw w;return{data:{claims:i,header:o,signature:a},error:null}}const f=lj(o.alg),h=yield crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!(yield crypto.subtle.verify(f,h,a,KS(`${c}.${u}`))))throw new du("Invalid JWT signature");return{data:{claims:i,header:o,signature:a},error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}})}}To.nextInstanceID=0;const jj=To;class kj extends jj{constructor(t){super(t)}}var Ej=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,[])).next())})};class Cj{constructor(t,r,n){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=RS(t),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:SS,realtime:kS,auth:Object.assign(Object.assign({},jS),{storageKey:u}),global:_S},f=AS(n!=null?n:{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=PS(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new H_(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new b_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new xS(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Ej(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:i,lock:a,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kj({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:a,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new iS(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Nj=(e,t,r)=>new Cj(e,t,r);function Pj(){if(typeof window!="undefined"||typeof process=="undefined"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Pj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");/*! Capacitor: https://capacitorjs.com/ - MIT License */var xs;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(xs||(xs={}));class Hl extends Error{constructor(t,r,n){super(t),this.message=t,this.code=r,this.data=n}}const Tj=e=>{var t,r;return e!=null&&e.androidBridge?"android":!((r=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},Rj=e=>{const t=e.CapacitorCustomPlatform||null,r=e.Capacitor||{},n=r.Plugins=r.Plugins||{},s=()=>t!==null?t.name:Tj(e),o=()=>s()!=="web",i=f=>{const h=u.get(f);return!!(h!=null&&h.platforms.has(s())||a(f))},a=f=>{var h;return(h=r.PluginHeaders)===null||h===void 0?void 0:h.find(v=>v.name===f)},c=f=>e.console.error(f),u=new Map,d=(f,h={})=>{const v=u.get(f);if(v)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),v.proxy;const w=s(),x=a(f);let b;const y=()=>j(void 0,null,function*(){return!b&&w in h?b=typeof h[w]=="function"?b=yield h[w]():b=h[w]:t!==null&&!b&&"web"in h&&(b=typeof h.web=="function"?b=yield h.web():b=h.web),b}),g=(k,N)=>{var A,$;if(x){const T=x==null?void 0:x.methods.find(D=>N===D.name);if(T)return T.rtype==="promise"?D=>r.nativePromise(f,N.toString(),D):(D,W)=>r.nativeCallback(f,N.toString(),D,W);if(k)return(A=k[N])===null||A===void 0?void 0:A.bind(k)}else{if(k)return($=k[N])===null||$===void 0?void 0:$.bind(k);throw new Hl(`"${f}" plugin is not implemented on ${w}`,xs.Unimplemented)}},m=k=>{let N;const A=(...$)=>{const T=y().then(D=>{const W=g(D,k);if(W){const M=W(...$);return N=M==null?void 0:M.remove,M}else throw new Hl(`"${f}.${k}()" is not implemented on ${w}`,xs.Unimplemented)});return k==="addListener"&&(T.remove=()=>j(void 0,null,function*(){return N()})),T};return A.toString=()=>`${k.toString()}() { [capacitor code] }`,Object.defineProperty(A,"name",{value:k,writable:!1,configurable:!1}),A},_=m("addListener"),S=m("removeListener"),C=(k,N)=>{const A=_({eventName:k},N),$=()=>j(void 0,null,function*(){const D=yield A;S({eventName:k,callbackId:D},N)}),T=new Promise(D=>A.then(()=>D({remove:$})));return T.remove=()=>j(void 0,null,function*(){console.warn("Using addListener() without 'await' is deprecated."),yield $()}),T},P=new Proxy({},{get(k,N){switch(N){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return x?C:_;case"removeListener":return S;default:return m(N)}}});return n[f]=P,u.set(f,{name:f,proxy:P,platforms:new Set([...Object.keys(h),...x?[w]:[]])}),P};return r.convertFileSrc||(r.convertFileSrc=f=>f),r.getPlatform=s,r.handleError=c,r.isNativePlatform=o,r.isPluginAvailable=i,r.registerPlugin=d,r.Exception=Hl,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},Aj=e=>e.Capacitor=Rj(e),Pe=Aj(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:{}),Nv=Pe.registerPlugin;class Pv{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,r){let n=!1;this.listeners[t]||(this.listeners[t]=[],n=!0),this.listeners[t].push(r);const o=this.windowListeners[t];o&&!o.registered&&this.addWindowListener(o),n&&this.sendRetainedArgumentsForEvent(t);const i=()=>j(this,null,function*(){return this.removeListener(t,r)});return Promise.resolve({remove:i})}removeAllListeners(){return j(this,null,function*(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}})}notifyListeners(t,r,n){const s=this.listeners[t];if(!s){if(n){let o=this.retainedEventArguments[t];o||(o=[]),o.push(r),this.retainedEventArguments[t]=o}return}s.forEach(o=>o(r))}hasListeners(t){var r;return!!(!((r=this.listeners[t])===null||r===void 0)&&r.length)}registerWindowListener(t,r){this.windowListeners[r]={registered:!1,windowEventName:t,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(t="not implemented"){return new Pe.Exception(t,xs.Unimplemented)}unavailable(t="not available"){return new Pe.Exception(t,xs.Unavailable)}removeListener(t,r){return j(this,null,function*(){const n=this.listeners[t];if(!n)return;const s=n.indexOf(r);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])})}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const r=this.retainedEventArguments[t];r&&(delete this.retainedEventArguments[t],r.forEach(n=>{this.notifyListeners(t,n)}))}}const Jh=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Xh=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Oj extends Pv{getCookies(){return j(this,null,function*(){const t=document.cookie,r={};return t.split(";").forEach(n=>{if(n.length<=0)return;let[s,o]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Xh(s).trim(),o=Xh(o).trim(),r[s]=o}),r})}setCookie(t){return j(this,null,function*(){try{const r=Jh(t.key),n=Jh(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,o=(t.path||"/").replace("path=",""),i=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${r}=${n||""}${s}; path=${o}; ${i};`}catch(r){return Promise.reject(r)}})}deleteCookie(t){return j(this,null,function*(){try{document.cookie=`${t.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}})}clearCookies(){return j(this,null,function*(){try{const t=document.cookie.split(";")||[];for(const r of t)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}})}clearAllCookies(){return j(this,null,function*(){try{yield this.clearCookies()}catch(t){return Promise.reject(t)}})}}Nv("CapacitorCookies",{web:()=>new Oj});const Ij=e=>j(void 0,null,function*(){return new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{const s=n.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},n.onerror=s=>r(s),n.readAsDataURL(e)})}),Lj=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,o,i)=>(s[o]=e[t[i]],s),{})},Dj=(e,t=!0)=>e?Object.entries(e).reduce((n,s)=>{const[o,i]=s;let a,c;return Array.isArray(i)?(c="",i.forEach(u=>{a=t?encodeURIComponent(u):u,c+=`${o}=${a}&`}),c.slice(0,-1)):(a=t?encodeURIComponent(i):i,c=`${o}=${a}`),`${n}&${c}`},"").substr(1):null,Mj=(e,t={})=>{const r=Object.assign({method:e.method||"GET",headers:e.headers},t),s=Lj(e.headers)["content-type"]||"";if(typeof e.data=="string")r.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[i,a]of Object.entries(e.data||{}))o.set(i,a);r.body=o.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const o=new FormData;if(e.data instanceof FormData)e.data.forEach((a,c)=>{o.append(c,a)});else for(const a of Object.keys(e.data))o.append(a,e.data[a]);r.body=o;const i=new Headers(r.headers);i.delete("content-type"),r.headers=i}else(s.includes("application/json")||typeof e.data=="object")&&(r.body=JSON.stringify(e.data));return r};class $j extends Pv{request(t){return j(this,null,function*(){const r=Mj(t,t.webFetchExtra),n=Dj(t.params,t.shouldEncodeUrlParams),s=n?`${t.url}?${n}`:t.url,o=yield fetch(s,r),i=o.headers.get("content-type")||"";let{responseType:a="text"}=o.ok?t:{};i.includes("application/json")&&(a="json");let c,u;switch(a){case"arraybuffer":case"blob":u=yield o.blob(),c=yield Ij(u);break;case"json":c=yield o.json();break;case"document":case"text":default:c=yield o.text()}const d={};return o.headers.forEach((f,h)=>{d[h]=f}),{data:c,headers:d,status:o.status,url:o.url}})}get(t){return j(this,null,function*(){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))})}post(t){return j(this,null,function*(){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))})}put(t){return j(this,null,function*(){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))})}patch(t){return j(this,null,function*(){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))})}delete(t){return j(this,null,function*(){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))})}}Nv("CapacitorHttp",{web:()=>new $j});const Fj="https://wgnjrvgjfoumqnlxzmgo.supabase.co",Uj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndnbmpydmdqZm91bXFubHh6bWdvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM2MjAzNTYsImV4cCI6MjA2OTE5NjM1Nn0.fdT3BxoxHmHsxZjfNHQmvmHXbaBlUgfTXLyGBvG-RFM",zj=()=>({getItem:e=>new Promise(t=>{Pe.isNativePlatform(),t(localStorage.getItem(e))}),setItem:(e,t)=>new Promise(r=>{Pe.isNativePlatform(),localStorage.setItem(e,t),r()}),removeItem:e=>new Promise(t=>{Pe.isNativePlatform(),localStorage.removeItem(e),t()})}),z=Nj(Fj,Uj,{auth:{storage:Pe.isNativePlatform()?zj():localStorage,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1}}),Bj=Object.freeze(Object.defineProperty({__proto__:null,supabase:z},Symbol.toStringTag,{value:"Module"})),Tv=p.createContext({user:null,session:null,loading:!0,signOut:()=>j(void 0,null,function*(){})}),Id=()=>{const e=p.useContext(Tv);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};function Vj({children:e}){const[t,r]=p.useState(null),[n,s]=p.useState(null),[o,i]=p.useState(!0);p.useEffect(()=>{let c=!0;z.auth.getSession().then(({data:{session:d}})=>{var f;c&&(s(d),r((f=d==null?void 0:d.user)!=null?f:null),i(!1))});const{data:{subscription:u}}=z.auth.onAuthStateChange((d,f)=>{var h;c&&(s(f),r((h=f==null?void 0:f.user)!=null?h:null),i(!1))});return()=>{c=!1,u==null||u.unsubscribe()}},[]);const a=()=>j(this,null,function*(){try{yield z.auth.signOut({scope:"global"})}catch(c){console.error("Error signing out:",c)}});return l.jsx(Tv.Provider,{value:{user:t,session:n,loading:o,signOut:a},children:e})}const Rv=p.createContext(void 0),Wj=()=>{const e=p.useContext(Rv);if(e===void 0)throw new Error("useVideoCreate must be used within a VideoCreateProvider");return e},Hj=({children:e})=>{const[t,r]=p.useState(!1);return l.jsx(Rv.Provider,{value:{isEditing:t,setIsEditing:r},children:e})},qj=1,Kj=1e6;let ql=0;function Gj(){return ql=(ql+1)%Number.MAX_SAFE_INTEGER,ql.toString()}const Kl=new Map,Zh=e=>{if(Kl.has(e))return;const t=setTimeout(()=>{Kl.delete(e),co({type:"REMOVE_TOAST",toastId:e})},Kj);Kl.set(e,t)},Yj=(e,t)=>{switch(t.type){case"ADD_TOAST":return R(E({},e),{toasts:[t.toast,...e.toasts].slice(0,qj)});case"UPDATE_TOAST":return R(E({},e),{toasts:e.toasts.map(r=>r.id===t.toast.id?E(E({},r),t.toast):r)});case"DISMISS_TOAST":{const{toastId:r}=t;return r?Zh(r):e.toasts.forEach(n=>{Zh(n.id)}),R(E({},e),{toasts:e.toasts.map(n=>n.id===r||r===void 0?R(E({},n),{open:!1}):n)})}case"REMOVE_TOAST":return t.toastId===void 0?R(E({},e),{toasts:[]}):R(E({},e),{toasts:e.toasts.filter(r=>r.id!==t.toastId)})}},Li=[];let Di={toasts:[]};function co(e){Di=Yj(Di,e),Li.forEach(t=>{t(Di)})}function Qj(t){var e=L(t,[]);const r=Gj(),n=o=>co({type:"UPDATE_TOAST",toast:R(E({},o),{id:r})}),s=()=>co({type:"DISMISS_TOAST",toastId:r});return co({type:"ADD_TOAST",toast:R(E({},e),{id:r,open:!0,onOpenChange:o=>{o||s()}})}),{id:r,dismiss:s,update:n}}function Zr(){const[e,t]=p.useState(Di);return p.useEffect(()=>(Li.push(t),()=>{const r=Li.indexOf(t);r>-1&&Li.splice(r,1)}),[e]),R(E({},e),{toast:Qj,dismiss:r=>co({type:"DISMISS_TOAST",toastId:r})})}function Y(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Jj(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Av(...e){return t=>e.forEach(r=>Jj(r,t))}function fe(...e){return p.useCallback(Av(...e),e)}function Xj(e,t=[]){let r=[];function n(o,i){const a=p.createContext(i),c=r.length;r=[...r,i];function u(f){const y=f,{scope:h,children:v}=y,w=L(y,["scope","children"]),x=(h==null?void 0:h[e][c])||a,b=p.useMemo(()=>w,Object.values(w));return l.jsx(x.Provider,{value:b,children:v})}function d(f,h){const v=(h==null?void 0:h[e][c])||a,w=p.useContext(v);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=r.map(i=>p.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return p.useMemo(()=>({[`__scope${e}`]:R(E({},a),{[e]:c})}),[a,c])}};return s.scopeName=e,[n,Zj(s,...t)]}function Zj(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return E(E({},a),f)},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var wn=p.forwardRef((e,t)=>{const i=e,{children:r}=i,n=L(i,["children"]),s=p.Children.toArray(r),o=s.find(tk);if(o){const a=o.props.children,c=s.map(u=>u===o?p.Children.count(a)>1?p.Children.only(null):p.isValidElement(a)?a.props.children:null:u);return l.jsx(fu,R(E({},n),{ref:t,children:p.isValidElement(a)?p.cloneElement(a,void 0,c):null}))}return l.jsx(fu,R(E({},n),{ref:t,children:r}))});wn.displayName="Slot";var fu=p.forwardRef((e,t)=>{const s=e,{children:r}=s,n=L(s,["children"]);if(p.isValidElement(r)){const o=nk(r);return p.cloneElement(r,R(E({},rk(n,r.props)),{ref:t?Av(t,o):o}))}return p.Children.count(r)>1?p.Children.only(null):null});fu.displayName="SlotClone";var ek=({children:e})=>l.jsx(l.Fragment,{children:e});function tk(e){return p.isValidElement(e)&&e.type===ek}function rk(e,t){const r=E({},t);for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{o(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]=E(E({},s),o):n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return E(E({},e),r)}function nk(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ld(e){const t=e+"CollectionProvider",[r,n]=Xj(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:w,children:x}=v,b=Ht.useRef(null),y=Ht.useRef(new Map).current;return l.jsx(s,{scope:w,itemMap:y,collectionRef:b,children:x})};i.displayName=t;const a=e+"CollectionSlot",c=Ht.forwardRef((v,w)=>{const{scope:x,children:b}=v,y=o(a,x),g=fe(w,y.collectionRef);return l.jsx(wn,{ref:g,children:b})});c.displayName=a;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=Ht.forwardRef((v,w)=>{const S=v,{scope:x,children:b}=S,y=L(S,["scope","children"]),g=Ht.useRef(null),m=fe(w,g),_=o(u,x);return Ht.useEffect(()=>(_.itemMap.set(g,E({ref:g},y)),()=>void _.itemMap.delete(g))),l.jsx(wn,{[d]:"",ref:m,children:b})});f.displayName=u;function h(v){const w=o(e+"CollectionConsumer",v);return Ht.useCallback(()=>{const b=w.collectionRef.current;if(!b)return[];const y=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((_,S)=>y.indexOf(_.ref.current)-y.indexOf(S.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},h,n]}function sk(e,t){const r=p.createContext(t),n=o=>{const u=o,{children:i}=u,a=L(u,["children"]),c=p.useMemo(()=>a,Object.values(a));return l.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(o){const i=p.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function Cs(e,t=[]){let r=[];function n(o,i){const a=p.createContext(i),c=r.length;r=[...r,i];const u=f=>{var g;const y=f,{scope:h,children:v}=y,w=L(y,["scope","children"]),x=((g=h==null?void 0:h[e])==null?void 0:g[c])||a,b=p.useMemo(()=>w,Object.values(w));return l.jsx(x.Provider,{value:b,children:v})};u.displayName=o+"Provider";function d(f,h){var x;const v=((x=h==null?void 0:h[e])==null?void 0:x[c])||a,w=p.useContext(v);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(i=>p.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return p.useMemo(()=>({[`__scope${e}`]:R(E({},a),{[e]:c})}),[a,c])}};return s.scopeName=e,[n,ok(s,...t)]}function ok(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return E(E({},a),f)},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var ik=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ee=ik.reduce((e,t)=>{const r=p.forwardRef((n,s)=>{const c=n,{asChild:o}=c,i=L(c,["asChild"]),a=o?wn:t;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(a,R(E({},i),{ref:s}))});return r.displayName=`Primitive.${t}`,R(E({},e),{[t]:r})},{});function Ov(e,t){e&&Cn.flushSync(()=>e.dispatchEvent(t))}function ct(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function ak(e,t=globalThis==null?void 0:globalThis.document){const r=ct(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var lk="DismissableLayer",hu="dismissableLayer.update",ck="dismissableLayer.pointerDownOutside",uk="dismissableLayer.focusOutside",ep,Iv=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qa=p.forwardRef((e,t)=>{var k;const P=e,{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a}=P,c=L(P,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),u=p.useContext(Iv),[d,f]=p.useState(null),h=(k=d==null?void 0:d.ownerDocument)!=null?k:globalThis==null?void 0:globalThis.document,[,v]=p.useState({}),w=fe(t,N=>f(N)),x=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=x.indexOf(b),g=d?x.indexOf(d):-1,m=u.layersWithOutsidePointerEventsDisabled.size>0,_=g>=y,S=fk(N=>{const A=N.target,$=[...u.branches].some(T=>T.contains(A));!_||$||(s==null||s(N),i==null||i(N),N.defaultPrevented||a==null||a())},h),C=hk(N=>{const A=N.target;[...u.branches].some(T=>T.contains(A))||(o==null||o(N),i==null||i(N),N.defaultPrevented||a==null||a())},h);return ak(N=>{g===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&a&&(N.preventDefault(),a()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ep=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),tp(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=ep)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),tp())},[d,u]),p.useEffect(()=>{const N=()=>v({});return document.addEventListener(hu,N),()=>document.removeEventListener(hu,N)},[]),l.jsx(ee.div,R(E({},c),{ref:w,style:E({pointerEvents:m?_?"auto":"none":void 0},e.style),onFocusCapture:Y(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Y(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Y(e.onPointerDownCapture,S.onPointerDownCapture)}))});qa.displayName=lk;var dk="DismissableLayerBranch",Lv=p.forwardRef((e,t)=>{const r=p.useContext(Iv),n=p.useRef(null),s=fe(t,n);return p.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),l.jsx(ee.div,R(E({},e),{ref:s}))});Lv.displayName=dk;function fk(e,t=globalThis==null?void 0:globalThis.document){const r=ct(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let c=function(){Dv(ck,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function hk(e,t=globalThis==null?void 0:globalThis.document){const r=ct(e),n=p.useRef(!1);return p.useEffect(()=>{const s=o=>{o.target&&!n.current&&Dv(uk,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function tp(){const e=new CustomEvent(hu);document.dispatchEvent(e)}function Dv(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Ov(s,o):s.dispatchEvent(o)}var pk=qa,mk=Lv,Qe=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},gk="Portal",Ka=p.forwardRef((e,t)=>{var c;const a=e,{container:r}=a,n=L(a,["container"]),[s,o]=p.useState(!1);Qe(()=>o(!0),[]);const i=r||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return i?mb.createPortal(l.jsx(ee.div,R(E({},n),{ref:t})),i):null});Ka.displayName=gk;function vk(e,t){return p.useReducer((r,n)=>{const s=t[r][n];return s!=null?s:r},e)}var Tn=e=>{const{present:t,children:r}=e,n=yk(t),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),o=fe(n.ref,xk(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:o}):null};Tn.displayName="Presence";function yk(e){const[t,r]=p.useState(),n=p.useRef({}),s=p.useRef(e),o=p.useRef("none"),i=e?"mounted":"unmounted",[a,c]=vk(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=gi(n.current);o.current=a==="mounted"?u:"none"},[a]),Qe(()=>{const u=n.current,d=s.current;if(d!==e){const h=o.current,v=gi(u);e?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Qe(()=>{var u;if(t){let d;const f=(u=t.ownerDocument.defaultView)!=null?u:window,h=w=>{const b=gi(n.current).includes(w.animationName);if(w.target===t&&b&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},v=w=>{w.target===t&&(o.current=gi(n.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function gi(e){return(e==null?void 0:e.animationName)||"none"}function xk(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function bn({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=wk({defaultProp:t,onChange:r}),o=e!==void 0,i=o?e:n,a=ct(r),c=p.useCallback(u=>{if(o){const f=typeof u=="function"?u(e):u;f!==e&&a(f)}else s(u)},[o,e,s,a]);return[i,c]}function wk({defaultProp:e,onChange:t}){const r=p.useState(e),[n]=r,s=p.useRef(n),o=ct(t);return p.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}var bk="VisuallyHidden",Ga=p.forwardRef((e,t)=>l.jsx(ee.span,R(E({},e),{ref:t,style:E({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"},e.style)})));Ga.displayName=bk;var Dd="ToastProvider",[Md,_k,Sk]=Ld("Toast"),[Mv,gT]=Cs("Toast",[Sk]),[jk,Ya]=Mv(Dd),$v=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[a,c]=p.useState(null),[u,d]=p.useState(0),f=p.useRef(!1),h=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Dd}\`. Expected non-empty \`string\`.`),l.jsx(Md.Provider,{scope:t,children:l.jsx(jk,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:p.useCallback(()=>d(v=>v+1),[]),onToastRemove:p.useCallback(()=>d(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:i})})};$v.displayName=Dd;var Fv="ToastViewport",kk=["F8"],pu="toast.viewportPause",mu="toast.viewportResume",Uv=p.forwardRef((e,t)=>{const b=e,{__scopeToast:r,hotkey:n=kk,label:s="Notifications ({hotkey})"}=b,o=L(b,["__scopeToast","hotkey","label"]),i=Ya(Fv,r),a=_k(r),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),f=p.useRef(null),h=fe(t,f,i.onViewportChange),v=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=i.toastCount>0;p.useEffect(()=>{const y=g=>{var _;n.length!==0&&n.every(S=>g[S]||g.code===S)&&((_=f.current)==null||_.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),p.useEffect(()=>{const y=c.current,g=f.current;if(w&&y&&g){const m=()=>{if(!i.isClosePausedRef.current){const P=new CustomEvent(pu);g.dispatchEvent(P),i.isClosePausedRef.current=!0}},_=()=>{if(i.isClosePausedRef.current){const P=new CustomEvent(mu);g.dispatchEvent(P),i.isClosePausedRef.current=!1}},S=P=>{!y.contains(P.relatedTarget)&&_()},C=()=>{y.contains(document.activeElement)||_()};return y.addEventListener("focusin",m),y.addEventListener("focusout",S),y.addEventListener("pointermove",m),y.addEventListener("pointerleave",C),window.addEventListener("blur",m),window.addEventListener("focus",_),()=>{y.removeEventListener("focusin",m),y.removeEventListener("focusout",S),y.removeEventListener("pointermove",m),y.removeEventListener("pointerleave",C),window.removeEventListener("blur",m),window.removeEventListener("focus",_)}}},[w,i.isClosePausedRef]);const x=p.useCallback(({tabbingDirection:y})=>{const m=a().map(_=>{const S=_.ref.current,C=[S,...$k(S)];return y==="forwards"?C:C.reverse()});return(y==="forwards"?m.reverse():m).flat()},[a]);return p.useEffect(()=>{const y=f.current;if(y){const g=m=>{var C,P,k;const _=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!_){const N=document.activeElement,A=m.shiftKey;if(m.target===y&&A){(C=u.current)==null||C.focus();return}const D=x({tabbingDirection:A?"backwards":"forwards"}),W=D.findIndex(M=>M===N);Gl(D.slice(W+1))?m.preventDefault():A?(P=u.current)==null||P.focus():(k=d.current)==null||k.focus()}};return y.addEventListener("keydown",g),()=>y.removeEventListener("keydown",g)}},[a,x]),l.jsxs(mk,{ref:c,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&l.jsx(gu,{ref:u,onFocusFromOutsideViewport:()=>{const y=x({tabbingDirection:"forwards"});Gl(y)}}),l.jsx(Md.Slot,{scope:r,children:l.jsx(ee.ol,R(E({tabIndex:-1},o),{ref:h}))}),w&&l.jsx(gu,{ref:d,onFocusFromOutsideViewport:()=>{const y=x({tabbingDirection:"backwards"});Gl(y)}})]})});Uv.displayName=Fv;var zv="ToastFocusProxy",gu=p.forwardRef((e,t)=>{const i=e,{__scopeToast:r,onFocusFromOutsideViewport:n}=i,s=L(i,["__scopeToast","onFocusFromOutsideViewport"]),o=Ya(zv,r);return l.jsx(Ga,R(E({"aria-hidden":!0,tabIndex:0},s),{ref:t,style:{position:"fixed"},onFocus:a=>{var d;const c=a.relatedTarget;!((d=o.viewport)!=null&&d.contains(c))&&n()}}))});gu.displayName=zv;var Qa="Toast",Ek="toast.swipeStart",Ck="toast.swipeMove",Nk="toast.swipeCancel",Pk="toast.swipeEnd",Bv=p.forwardRef((e,t)=>{const u=e,{forceMount:r,open:n,defaultOpen:s,onOpenChange:o}=u,i=L(u,["forceMount","open","defaultOpen","onOpenChange"]),[a=!0,c]=bn({prop:n,defaultProp:s,onChange:o});return l.jsx(Tn,{present:r||a,children:l.jsx(Ak,R(E({open:a},i),{ref:t,onClose:()=>c(!1),onPause:ct(e.onPause),onResume:ct(e.onResume),onSwipeStart:Y(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Y(e.onSwipeMove,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Y(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Y(e.onSwipeEnd,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})}))})});Bv.displayName=Qa;var[Tk,Rk]=Mv(Qa,{onClose(){}}),Ak=p.forwardRef((e,t)=>{const W=e,{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:v}=W,w=L(W,["__scopeToast","type","duration","open","onClose","onEscapeKeyDown","onPause","onResume","onSwipeStart","onSwipeMove","onSwipeCancel","onSwipeEnd"]),x=Ya(Qa,r),[b,y]=p.useState(null),g=fe(t,M=>y(M)),m=p.useRef(null),_=p.useRef(null),S=s||x.duration,C=p.useRef(0),P=p.useRef(S),k=p.useRef(0),{onToastAdd:N,onToastRemove:A}=x,$=ct(()=>{var B;(b==null?void 0:b.contains(document.activeElement))&&((B=x.viewport)==null||B.focus()),i()}),T=p.useCallback(M=>{!M||M===1/0||(window.clearTimeout(k.current),C.current=new Date().getTime(),k.current=window.setTimeout($,M))},[$]);p.useEffect(()=>{const M=x.viewport;if(M){const B=()=>{T(P.current),u==null||u()},G=()=>{const O=new Date().getTime()-C.current;P.current=P.current-O,window.clearTimeout(k.current),c==null||c()};return M.addEventListener(pu,G),M.addEventListener(mu,B),()=>{M.removeEventListener(pu,G),M.removeEventListener(mu,B)}}},[x.viewport,S,c,u,T]),p.useEffect(()=>{o&&!x.isClosePausedRef.current&&T(S)},[o,S,x.isClosePausedRef,T]),p.useEffect(()=>(N(),()=>A()),[N,A]);const D=p.useMemo(()=>b?Yv(b):null,[b]);return x.viewport?l.jsxs(l.Fragment,{children:[D&&l.jsx(Ok,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),l.jsx(Tk,{scope:r,onClose:$,children:Cn.createPortal(l.jsx(Md.ItemSlot,{scope:r,children:l.jsx(pk,{asChild:!0,onEscapeKeyDown:Y(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||$(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(ee.li,R(E({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":x.swipeDirection},w),{ref:g,style:E({userSelect:"none",touchAction:"none"},e.style),onKeyDown:Y(e.onKeyDown,M=>{M.key==="Escape"&&(a==null||a(M.nativeEvent),M.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:Y(e.onPointerDown,M=>{M.button===0&&(m.current={x:M.clientX,y:M.clientY})}),onPointerMove:Y(e.onPointerMove,M=>{if(!m.current)return;const B=M.clientX-m.current.x,G=M.clientY-m.current.y,O=!!_.current,I=["left","right"].includes(x.swipeDirection),U=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,V=I?U(0,B):0,Q=I?0:U(0,G),oe=M.pointerType==="touch"?10:2,le={x:V,y:Q},ie={originalEvent:M,delta:le};O?(_.current=le,vi(Ck,f,ie,{discrete:!1})):rp(le,x.swipeDirection,oe)?(_.current=le,vi(Ek,d,ie,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(B)>oe||Math.abs(G)>oe)&&(m.current=null)}),onPointerUp:Y(e.onPointerUp,M=>{const B=_.current,G=M.target;if(G.hasPointerCapture(M.pointerId)&&G.releasePointerCapture(M.pointerId),_.current=null,m.current=null,B){const O=M.currentTarget,I={originalEvent:M,delta:B};rp(B,x.swipeDirection,x.swipeThreshold)?vi(Pk,v,I,{discrete:!0}):vi(Nk,h,I,{discrete:!0}),O.addEventListener("click",U=>U.preventDefault(),{once:!0})}})}))})}),x.viewport)})]}):null}),Ok=e=>{const u=e,{__scopeToast:t,children:r}=u,n=L(u,["__scopeToast","children"]),s=Ya(Qa,t),[o,i]=p.useState(!1),[a,c]=p.useState(!1);return Dk(()=>i(!0)),p.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),a?null:l.jsx(Ka,{asChild:!0,children:l.jsx(Ga,R(E({},n),{children:o&&l.jsxs(l.Fragment,{children:[s.label," ",r]})}))})},Ik="ToastTitle",Vv=p.forwardRef((e,t)=>{const s=e,{__scopeToast:r}=s,n=L(s,["__scopeToast"]);return l.jsx(ee.div,R(E({},n),{ref:t}))});Vv.displayName=Ik;var Lk="ToastDescription",Wv=p.forwardRef((e,t)=>{const s=e,{__scopeToast:r}=s,n=L(s,["__scopeToast"]);return l.jsx(ee.div,R(E({},n),{ref:t}))});Wv.displayName=Lk;var Hv="ToastAction",qv=p.forwardRef((e,t)=>{const s=e,{altText:r}=s,n=L(s,["altText"]);return r.trim()?l.jsx(Gv,{altText:r,asChild:!0,children:l.jsx($d,R(E({},n),{ref:t}))}):(console.error(`Invalid prop \`altText\` supplied to \`${Hv}\`. Expected non-empty \`string\`.`),null)});qv.displayName=Hv;var Kv="ToastClose",$d=p.forwardRef((e,t)=>{const o=e,{__scopeToast:r}=o,n=L(o,["__scopeToast"]),s=Rk(Kv,r);return l.jsx(Gv,{asChild:!0,children:l.jsx(ee.button,R(E({type:"button"},n),{ref:t,onClick:Y(e.onClick,s.onClose)}))})});$d.displayName=Kv;var Gv=p.forwardRef((e,t)=>{const o=e,{__scopeToast:r,altText:n}=o,s=L(o,["__scopeToast","altText"]);return l.jsx(ee.div,R(E({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0},s),{ref:t}))});function Yv(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Mk(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Yv(n))}}),t}function vi(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Ov(s,o):s.dispatchEvent(o)}var rp=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function Dk(e=()=>{}){const t=ct(e);Qe(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Mk(e){return e.nodeType===e.ELEMENT_NODE}function $k(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Gl(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Fk=$v,Qv=Uv,Jv=Bv,Xv=Vv,Zv=Wv,ey=qv,ty=$d;function ry(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=ry(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ny(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=ry(e))&&(n&&(n+=" "),n+=t);return n}const np=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,sp=ny,Ja=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return sp(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=o==null?void 0:o[u];if(d===null)return null;const h=np(d)||np(f);return s[u][h]}),a=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let w=d,{class:f,className:h}=w,v=L(w,["class","className"]);return Object.entries(v).every(x=>{let[b,y]=x;return Array.isArray(y)?y.includes(E(E({},o),a)[b]):E(E({},o),a)[b]===y})?[...u,f,h]:u},[]);return sp(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sy=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=p.forwardRef((u,c)=>{var d=u,{color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i}=d,a=L(d,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return p.createElement("svg",E(R(E({ref:c},zk),{width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:sy("lucide",s)}),a),[...i.map(([f,h])=>p.createElement(f,h)),...Array.isArray(o)?o:[o]])});/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(e,t)=>{const r=p.forwardRef((i,o)=>{var a=i,{className:n}=a,s=L(a,["className"]);return p.createElement(Bk,E({ref:o,iconNode:t,className:sy(`lucide-${Uk(e)}`,n)},s))});return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=J("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=J("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=J("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=J("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=J("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=J("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=J("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=J("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=J("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=J("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=J("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=J("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=J("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=J("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=J("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=J("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=J("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=J("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=J("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=J("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=J("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=J("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=J("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=J("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=J("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=J("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=J("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=J("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=J("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=J("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=J("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=J("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=J("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=J("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=J("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=J("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),zd="-",uE=e=>{const t=fE(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const a=i.split(zd);return a[0]===""&&a.length!==1&&a.shift(),py(a,t)||dE(i)},getConflictingClassGroupIds:(i,a)=>{const c=r[i]||[];return a&&n[i]?[...c,...n[i]]:c}}},py=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?py(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(zd);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},cp=/^\[(.+)\]$/,dE=e=>{if(cp.test(e)){const t=cp.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},fE=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return pE(Object.entries(e.classGroups),r).forEach(([o,i])=>{xu(i,n,o,t)}),n},xu=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:up(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(hE(s)){xu(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{xu(i,up(t,o),r,n)})})},up=(e,t)=>{let r=e;return t.split(zd).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},hE=e=>e.isThemeGetter,pE=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[r,s]}):e,mE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},my="!",gE=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=a=>{const c=[];let u=0,d=0,f;for(let b=0;b<a.length;b++){let y=a[b];if(u===0){if(y===s&&(n||a.slice(b,b+o)===t)){c.push(a.slice(d,b)),d=b+o;continue}if(y==="/"){f=b;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?a:a.substring(d),v=h.startsWith(my),w=v?h.substring(1):h,x=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:x}};return r?a=>r({className:a,parseClassName:i}):i},vE=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},yE=e=>E({cache:mE(e.cacheSize),parseClassName:gE(e)},uE(e)),xE=/\s+/,wE=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(xE);let a="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:v}=r(u);let w=!!v,x=n(w?h.substring(0,v):h);if(!x){if(!w){a=u+(a.length>0?" "+a:a);continue}if(x=n(h),!x){a=u+(a.length>0?" "+a:a);continue}w=!1}const b=vE(d).join(":"),y=f?b+my:b,g=y+x;if(o.includes(g))continue;o.push(g);const m=s(x,w);for(let _=0;_<m.length;++_){const S=m[_];o.push(y+S)}a=u+(a.length>0?" "+a:a)}return a};function bE(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=gy(t))&&(n&&(n+=" "),n+=r);return n}const gy=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=gy(e[n]))&&(r&&(r+=" "),r+=t);return r};function _E(e,...t){let r,n,s,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=yE(u),n=r.cache.get,s=r.cache.set,o=a,a(c)}function a(c){const u=n(c);if(u)return u;const d=wE(c,r);return s(c,d),d}return function(){return o(bE.apply(null,arguments))}}const ye=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},vy=/^\[(?:([a-z-]+):)?(.+)\]$/i,SE=/^\d+\/\d+$/,jE=new Set(["px","full","screen"]),kE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,EE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,NE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,PE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zt=e=>ls(e)||jE.has(e)||SE.test(e),gr=e=>Ns(e,"length",ME),ls=e=>!!e&&!Number.isNaN(Number(e)),Yl=e=>Ns(e,"number",ls),Ws=e=>!!e&&Number.isInteger(Number(e)),TE=e=>e.endsWith("%")&&ls(e.slice(0,-1)),Z=e=>vy.test(e),vr=e=>kE.test(e),RE=new Set(["length","size","percentage"]),AE=e=>Ns(e,RE,yy),OE=e=>Ns(e,"position",yy),IE=new Set(["image","url"]),LE=e=>Ns(e,IE,FE),DE=e=>Ns(e,"",$E),Hs=()=>!0,Ns=(e,t,r)=>{const n=vy.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},ME=e=>EE.test(e)&&!CE.test(e),yy=()=>!1,$E=e=>NE.test(e),FE=e=>PE.test(e),UE=()=>{const e=ye("colors"),t=ye("spacing"),r=ye("blur"),n=ye("brightness"),s=ye("borderColor"),o=ye("borderRadius"),i=ye("borderSpacing"),a=ye("borderWidth"),c=ye("contrast"),u=ye("grayscale"),d=ye("hueRotate"),f=ye("invert"),h=ye("gap"),v=ye("gradientColorStops"),w=ye("gradientColorStopPositions"),x=ye("inset"),b=ye("margin"),y=ye("opacity"),g=ye("padding"),m=ye("saturate"),_=ye("scale"),S=ye("sepia"),C=ye("skew"),P=ye("space"),k=ye("translate"),N=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",Z,t],T=()=>[Z,t],D=()=>["",Zt,gr],W=()=>["auto",ls,Z],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",Z],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[ls,Z];return{cacheSize:500,separator:":",theme:{colors:[Hs],spacing:[Zt,gr],blur:["none","",vr,Z],brightness:V(),borderColor:[e],borderRadius:["none","","full",vr,Z],borderSpacing:T(),borderWidth:D(),contrast:V(),grayscale:I(),hueRotate:V(),invert:I(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[TE,gr],inset:$(),margin:$(),opacity:V(),padding:T(),saturate:V(),scale:V(),sepia:I(),skew:V(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Z]}],container:["container"],columns:[{columns:[vr]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),Z]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ws,Z]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Z]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Ws,Z]}],"grid-cols":[{"grid-cols":[Hs]}],"col-start-end":[{col:["auto",{span:["full",Ws,Z]},Z]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Hs]}],"row-start-end":[{row:["auto",{span:[Ws,Z]},Z]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Z]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Z]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Z,t]}],"min-w":[{"min-w":[Z,t,"min","max","fit"]}],"max-w":[{"max-w":[Z,t,"none","full","min","max","fit","prose",{screen:[vr]},vr]}],h:[{h:[Z,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Z,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Z,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Z,t,"auto","min","max","fit"]}],"font-size":[{text:["base",vr,gr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Yl]}],"font-family":[{font:[Hs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Z]}],"line-clamp":[{"line-clamp":["none",ls,Yl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Zt,Z]}],"list-image":[{"list-image":["none",Z]}],"list-style-type":[{list:["none","disc","decimal",Z]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Zt,gr]}],"underline-offset":[{"underline-offset":["auto",Zt,Z]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Z]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Z]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),OE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",AE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},LE]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:B()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Zt,Z]}],"outline-w":[{outline:[Zt,gr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Zt,gr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",vr,DE]}],"shadow-color":[{shadow:[Hs]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",vr,Z]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[m]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Z]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",Z]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",Z]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Ws,Z]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Z]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Z]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Z]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Zt,gr,Yl]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},zE=_E(UE);function ne(...e){return zE(ny(e))}const BE=Fk,xy=p.forwardRef((n,r)=>{var s=n,{className:e}=s,t=L(s,["className"]);return l.jsx(Qv,E({ref:r,className:ne("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e)},t))});xy.displayName=Qv.displayName;const VE=Ja("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),wy=p.forwardRef((s,n)=>{var o=s,{className:e,variant:t}=o,r=L(o,["className","variant"]);return l.jsx(Jv,E({ref:n,className:ne(VE({variant:t}),e)},r))});wy.displayName=Jv.displayName;const WE=p.forwardRef((n,r)=>{var s=n,{className:e}=s,t=L(s,["className"]);return l.jsx(ey,E({ref:r,className:ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e)},t))});WE.displayName=ey.displayName;const by=p.forwardRef((n,r)=>{var s=n,{className:e}=s,t=L(s,["className"]);return l.jsx(ty,R(E({ref:r,className:ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":""},t),{children:l.jsx(Ud,{className:"h-4 w-4"})}))});by.displayName=ty.displayName;const _y=p.forwardRef((n,r)=>{var s=n,{className:e}=s,t=L(s,["className"]);return l.jsx(Xv,E({ref:r,className:ne("text-sm font-semibold",e)},t))});_y.displayName=Xv.displayName;const Sy=p.forwardRef((n,r)=>{var s=n,{className:e}=s,t=L(s,["className"]);return l.jsx(Zv,E({ref:r,className:ne("text-sm opacity-90",e)},t))});Sy.displayName=Zv.displayName;function HE(){const{toasts:e}=Zr();return l.jsxs(BE,{children:[e.map(function(i){var a=i,{id:t,title:r,description:n,action:s}=a,o=L(a,["id","title","description","action"]);return l.jsxs(wy,R(E({},o),{children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(_y,{children:r}),n&&l.jsx(Sy,{children:n})]}),s,l.jsx(by,{})]}),t)}),l.jsx(xy,{})]})}const qE=()=>{const e=Jr(),t=r=>r==="/"?e.pathname==="/":e.pathname.startsWith(r);return l.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-sm border-t border-border/10 pb-safe",children:l.jsx("div",{className:"max-w-md mx-auto px-4 py-3",children:l.jsxs("div",{className:"flex items-center justify-around",children:[l.jsxs(ze,{to:"/",className:`flex flex-col items-center gap-1 p-2 rounded-lg transition-colors ${t("/")?"text-velyar-earth bg-velyar-soft":"text-muted-foreground hover:text-foreground"}`,children:[l.jsx(Xk,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs font-ui",children:"Home"})]}),l.jsxs(ze,{to:"/explore",className:`flex flex-col items-center gap-1 p-2 rounded-lg transition-colors ${t("/explore")?"text-velyar-earth bg-velyar-soft":"text-muted-foreground hover:text-foreground"}`,children:[l.jsx(qk,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs font-ui",children:"Explore"})]}),l.jsxs(ze,{to:"/missions",className:`flex flex-col items-center gap-1 p-2 rounded-lg transition-colors ${t("/missions")?"text-velyar-earth bg-velyar-soft":"text-muted-foreground hover:text-foreground"}`,children:[l.jsx(Gk,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs font-ui",children:"Missions"})]}),l.jsxs(ze,{to:"/profile",className:`flex flex-col items-center gap-1 p-2 rounded-lg transition-colors ${t("/profile")?"text-velyar-earth bg-velyar-soft":"text-muted-foreground hover:text-foreground"}`,children:[l.jsx(iE,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs font-ui",children:"Profile"})]})]})})})},KE=Ja("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 ease-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:scale-[1.02] active:scale-[0.98]",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm hover:shadow-md",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm hover:shadow-md",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground shadow-sm hover:shadow-md",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm hover:shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),q=p.forwardRef((i,o)=>{var a=i,{className:e,variant:t,size:r,asChild:n=!1}=a,s=L(a,["className","variant","size","asChild"]);const c=n?wn:"button";return l.jsx(c,E({className:ne(KE({variant:t,size:r,className:e})),ref:o},s))});q.displayName="Button";const GE=()=>{const[e,t]=p.useState(!1);return l.jsxs("div",{className:"fixed bottom-20 right-4 z-50 pb-safe pr-safe",children:[l.jsx(ze,{to:"/create",children:l.jsx(q,{size:"lg",className:"w-14 h-14 rounded-full bg-velyar-earth hover:bg-velyar-warm shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:e?l.jsx(ma,{className:"w-6 h-6 animate-pulse"}):l.jsx(Xa,{className:"w-6 h-6"})})}),e&&l.jsxs("div",{className:"absolute bottom-16 right-0 bg-foreground text-background px-3 py-2 rounded-lg text-sm whitespace-nowrap shadow-lg animate-in fade-in-0 slide-in-from-bottom-2",children:["Record your story",l.jsx("div",{className:"absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-foreground"})]})]})},jy=()=>{const[e,t]=p.useState(!1),[r,n]=p.useState(null),[s,o]=p.useState(null);return p.useEffect(()=>{j(void 0,null,function*(){if(Pe.isNativePlatform()&&Pe.getPlatform()==="ios"){t(!0);try{const{Device:c}=yield Me(()=>j(void 0,null,function*(){const{Device:h}=yield import("@capacitor/device");return{Device:h}}),[]),u=yield c.getInfo();o(u),n(u.osVersion);const{StatusBar:d,Style:f}=yield Me(()=>j(void 0,null,function*(){const{StatusBar:h,Style:v}=yield import("@capacitor/status-bar");return{StatusBar:h,Style:v}}),[]);yield d.setStyle({style:f.Dark}),yield d.setBackgroundColor({color:"#fffbf0"})}catch(c){console.error("iOS detection error:",c)}}else t(!1)})},[]),{isIOS:e,iOSVersion:r,deviceInfo:s,handleIOSSpecificFeatures:()=>j(void 0,null,function*(){if(e)try{const{Keyboard:a}=yield Me(()=>j(void 0,null,function*(){const{Keyboard:d}=yield import("./index-Be-AevW3.js");return{Keyboard:d}}),[]);yield a.addListener("keyboardWillShow",d=>{document.body.style.transform=`translateY(-${d.keyboardHeight/2}px)`}),yield a.addListener("keyboardWillHide",()=>{document.body.style.transform="translateY(0)"});const{Haptics:c,ImpactStyle:u}=yield Me(()=>j(void 0,null,function*(){const{Haptics:d,ImpactStyle:f}=yield import("./index-DmYhPJd9.js");return{Haptics:d,ImpactStyle:f}}),[]);return{lightHaptic:()=>c.impact({style:u.Light}),mediumHaptic:()=>c.impact({style:u.Medium}),heavyHaptic:()=>c.impact({style:u.Heavy}),selectionHaptic:()=>c.selectionStart()}}catch(a){return console.error("iOS features setup error:",a),null}})}},YE=({children:e,className:t=""})=>{const{isIOS:r}=jy();return l.jsx("div",{className:`
        ${r?"safe-area-inset":"pb-20"}
        ${t}
      `,children:e})},QE=()=>{const{isIOS:e}=jy();return p.useEffect(()=>{if(!e)return;j(void 0,null,function*(){try{const{StatusBar:r,Style:n}=yield Me(()=>j(void 0,null,function*(){const{StatusBar:s,Style:o}=yield import("@capacitor/status-bar");return{StatusBar:s,Style:o}}),[]);yield r.setStyle({style:n.Dark}),yield r.setBackgroundColor({color:"#fffbf0"}),yield r.show()}catch(r){console.error("iOS StatusBar setup error:",r)}})},[e]),null},ae=p.forwardRef((n,r)=>{var s=n,{className:e}=s,t=L(s,["className"]);return l.jsx("div",E({ref:r,className:ne("rounded-lg border bg-card text-card-foreground shadow-sm transition-all duration-300 ease-out hover:shadow-md hover:scale-[1.01]",e)},t))});ae.displayName="Card";const Ps=p.forwardRef((n,r)=>{var s=n,{className:e}=s,t=L(s,["className"]);return l.jsx("div",E({ref:r,className:ne("flex flex-col space-y-1.5 p-6",e)},t))});Ps.displayName="CardHeader";const Ts=p.forwardRef((n,r)=>{var s=n,{className:e}=s,t=L(s,["className"]);return l.jsx("h3",E({ref:r,className:ne("text-2xl font-semibold leading-none tracking-tight",e)},t))});Ts.displayName="CardTitle";const ky=p.forwardRef((n,r)=>{var s=n,{className:e}=s,t=L(s,["className"]);return l.jsx("p",E({ref:r,className:ne("text-sm text-muted-foreground",e)},t))});ky.displayName="CardDescription";const ge=p.forwardRef((n,r)=>{var s=n,{className:e}=s,t=L(s,["className"]);return l.jsx("div",E({ref:r,className:ne("p-6 pt-0",e)},t))});ge.displayName="CardContent";const JE=p.forwardRef((n,r)=>{var s=n,{className:e}=s,t=L(s,["className"]);return l.jsx("div",E({ref:r,className:ne("flex items-center p-6 pt-0",e)},t))});JE.displayName="CardFooter";const XE=Ja("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Fr(n){var s=n,{className:e,variant:t}=s,r=L(s,["className","variant"]);return l.jsx("div",E({className:ne(XE({variant:t}),e)},r))}const ZE=()=>{const[e,t]=p.useState({voices:0,countries:0}),[r,n]=p.useState(!0),[s,o]=p.useState(""),[i,a]=p.useState(null);return p.useEffect(()=>{j(void 0,null,function*(){try{const u=new Date().toISOString().split("T")[0];console.log("DailyPrompt: Looking for prompt for date:",u);let{data:d,error:f}=yield z.from("daily_prompts").select("id, prompt_text").eq("date",u).eq("is_active",!0).maybeSingle();if(f&&console.error("DailyPrompt: Error fetching today's prompt:",f),!d){console.log("DailyPrompt: No prompt for today, fetching most recent active prompt");const{data:h,error:v}=yield z.from("daily_prompts").select("id, prompt_text").eq("is_active",!0).order("date",{ascending:!1}).limit(1).maybeSingle();v&&console.error("DailyPrompt: Error fetching recent prompt:",v),d=h,console.log("DailyPrompt: Found recent prompt:",h)}if(d){console.log("DailyPrompt: Found today's prompt:",d.id,d.prompt_text),o(d.prompt_text),a(d.id);const{data:h}=yield z.from("videos").select("id, location, daily_prompt_id").eq("daily_prompt_id",d.id).eq("is_public",!0);console.log("DailyPrompt: Found videos for prompt",d.id,":",(h==null?void 0:h.length)||0),console.log("DailyPrompt: Video IDs:",(h==null?void 0:h.map(x=>x.id))||[]);const v=(h==null?void 0:h.length)||0,w=new Set(h==null?void 0:h.map(x=>x.location).filter(x=>x&&x.trim()!=="").map(x=>{var b;return(b=x.split(",").pop())==null?void 0:b.trim().toLowerCase()}).filter(Boolean));t({voices:v,countries:w.size})}else console.log("DailyPrompt: No active prompt found, using fallback"),o("what did you eat last night?")}catch(u){console.error("Error fetching prompt data:",u)}finally{n(!1)}})},[]),l.jsx(ae,{className:"card-interactive group overflow-hidden border-velyar-warm/30 bg-gradient-to-br from-velyar-soft/50 to-background",children:l.jsx(ge,{className:"p-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"p-2 bg-velyar-earth/10 rounded-full",children:l.jsx(Hk,{className:"w-4 h-4 text-velyar-earth group-hover:animate-pulse"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-ui text-muted-foreground uppercase tracking-wide",children:"Daily Global Prompt"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Updated every 24 hours"})]})]}),l.jsx(Fr,{variant:"secondary",className:"bg-velyar-warm/20 text-velyar-earth border-velyar-warm/30",children:"Live"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h2",{className:"text-xl font-display text-foreground leading-tight group-hover:text-velyar-earth transition-colors duration-200",children:s}),l.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[l.jsx(pa,{className:"w-4 h-4"}),l.jsx("span",{className:"font-ui",children:r?"loading...":e.voices.toLocaleString()}),l.jsx("span",{children:"participants"})]}),l.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[l.jsx(Bo,{className:"w-4 h-4"}),l.jsx("span",{className:"font-ui",children:r?"loading...":`${e.countries} countries`})]})]})]}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx(ze,{to:"/create/daily-prompt",className:"flex-1",children:l.jsxs(q,{size:"sm",className:"btn-primary-enhanced w-full group-hover:scale-105 transition-transform duration-200",children:[l.jsx("span",{className:"font-ui",children:"Respond"}),l.jsx(oy,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform duration-200"})]})}),l.jsx(ze,{to:i?`/video-list/daily-prompt/${i}`:"/video-list/daily-prompt",className:"flex-1",children:l.jsxs(q,{variant:"outline",size:"sm",className:"btn-secondary-enhanced w-full group-hover:scale-105 transition-transform duration-200",children:[l.jsx(pa,{className:"w-4 h-4 mr-2 group-hover:scale-110 transition-transform duration-200"}),l.jsx("span",{className:"font-ui",children:"View"})]})})]})]})})})},Ey=({id:e,title:t,description:r,participants:n,location:s,imageUrl:o,targetRegions:i})=>{const a=i&&i.length>0?`${i.slice(0,2).join(", ")}${i.length>2?"...":""}`:s;return l.jsx(ae,{className:"card-interactive group overflow-hidden border-border/50 hover:border-velyar-warm/30",children:l.jsx(ge,{className:"p-0",children:l.jsxs("div",{className:"flex min-h-40",children:[l.jsxs("div",{className:"relative w-1/3 overflow-hidden flex-shrink-0",children:[l.jsx("img",{src:o,alt:t,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),l.jsxs("div",{className:"flex-1 p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("h3",{className:"text-base font-display text-foreground leading-tight group-hover:text-velyar-earth transition-colors duration-200 line-clamp-2",children:t}),l.jsx(Fr,{variant:"outline",className:"text-xs bg-velyar-warm/10 text-velyar-earth border-velyar-warm/20",children:"Active"})]}),l.jsx("p",{className:"text-sm text-muted-foreground font-body leading-relaxed line-clamp-2",children:r.length>80?`${r.substring(0,80)}...`:r}),l.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(aE,{className:"w-3 h-3"}),l.jsx("span",{className:"font-ui",children:n.toLocaleString()}),l.jsx("span",{children:"participants"})]}),a&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Bo,{className:"w-3 h-3"}),l.jsx("span",{className:"font-ui",children:a})]})]}),l.jsxs("div",{className:"flex gap-2 pt-1",children:[l.jsx(ze,{to:`/create/mission/${e}`,className:"flex-1",children:l.jsxs(q,{variant:"outline",size:"sm",className:"btn-secondary-enhanced w-full group-hover:bg-velyar-earth group-hover:text-white group-hover:border-velyar-earth transition-all duration-200",children:[l.jsx("span",{className:"text-xs font-ui",children:"Join Mission"}),l.jsx(oy,{className:"w-3 h-3 ml-1 group-hover:translate-x-1 transition-transform duration-200"})]})}),l.jsx(ze,{to:`/video-list/mission/${e}`,children:l.jsx(q,{variant:"ghost",size:"sm",className:"btn-secondary-enhanced px-3 group-hover:bg-velyar-soft group-hover:text-velyar-earth transition-all duration-200",children:l.jsx(pa,{className:"w-3 h-3"})})})]})]})]})})})};function Pr(r){var n=r,{className:e}=n,t=L(n,["className"]);return l.jsx("div",E({className:ne("animate-pulse rounded-md bg-muted",e)},t))}function Ot(r){var n=r,{className:e}=n,t=L(n,["className"]);return l.jsx("div",R(E({className:ne("animate-pulse rounded-md bg-muted relative overflow-hidden",e)},t),{children:l.jsx("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_2s_infinite] bg-gradient-to-r from-transparent via-white/20 to-transparent"})}))}const eC=({children:e,header:t,showBottomNav:r=!0,className:n=""})=>l.jsxs("div",{className:`min-h-screen bg-background ${n}`,children:[t&&l.jsx("div",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur-sm border-b border-border/10",children:t}),l.jsx("main",{className:`${r?"pb-20":""}`,children:e})]}),tC=()=>{const[e,t]=p.useState([]),[r,n]=p.useState(!0);p.useEffect(()=>{j(void 0,null,function*(){try{const{data:i,error:a}=yield z.from("missions").select("*").eq("is_active",!0).order("created_at",{ascending:!1}).limit(4);if(a)throw a;const c=(i||[]).map(u=>R(E({},u),{participants_count:u.participants_count||0}));t(c)}catch(i){console.error("Error fetching missions:",i)}finally{n(!1)}})},[]);const s=l.jsx("div",{className:"pt-safe-header px-4",children:l.jsxs("div",{className:"max-w-md mx-auto py-3 flex items-center justify-between",children:[l.jsx("h1",{className:"text-2xl font-display text-velyar-earth tracking-wide",children:"velyar"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("img",{src:"/lovable-uploads/6e35e706-01c0-46b9-b5c6-8c50b1848687.png",alt:"Octopus",className:"w-5 h-5 object-contain"}),l.jsx("span",{className:"text-sm text-muted-foreground leading-none font-ui self-center",children:"global voices"})]})]})});return l.jsx(eC,{header:s,children:l.jsx("div",{className:"px-4",children:l.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[l.jsx("section",{children:l.jsx(ZE,{})}),l.jsxs("section",{children:[l.jsx("div",{className:"flex items-center gap-2 mb-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yu,{className:"w-5 h-5 text-velyar-earth"}),l.jsx("h2",{className:"text-lg font-display text-foreground",children:"Live Missions"}),l.jsx(nE,{className:"w-4 h-4 text-velyar-warm animate-pulse"})]})}),l.jsx("div",{className:"space-y-4",children:r?Array.from({length:4}).map((o,i)=>l.jsx(ae,{className:"card-enhanced overflow-hidden",children:l.jsxs("div",{className:"flex",children:[l.jsx(Ot,{className:"w-24 h-20"}),l.jsxs("div",{className:"flex-1 p-4 space-y-3",children:[l.jsx(Ot,{className:"h-5 w-3/4"}),l.jsx(Ot,{className:"h-4 w-full"}),l.jsx(Ot,{className:"h-4 w-1/2"})]})]})},i)):e.length>0?l.jsx("div",{className:"space-y-4",children:e.map((o,i)=>l.jsx("div",{className:"animate-in fade-in-0 slide-in-from-bottom-2",style:{animationDelay:`${i*100}ms`},children:l.jsx(Ey,{id:o.id,title:o.title,description:o.description,participants:o.participants_count,location:o.location_needed||"",imageUrl:o.image_url||"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=400&h=200&fit=crop"})},o.id))}):l.jsx(ae,{className:"card-enhanced p-8 text-center",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(yu,{className:"w-12 h-12 text-muted-foreground mx-auto opacity-50"}),l.jsx("h3",{className:"text-lg font-display text-foreground",children:"No Active Missions"}),l.jsx("p",{className:"text-muted-foreground font-body",children:"Check back soon for new global missions to join!"})]})})})]}),l.jsx("section",{className:"pt-4",children:l.jsx(ae,{className:"card-enhanced p-6 bg-gradient-to-br from-velyar-soft to-background border-velyar-warm/20",children:l.jsxs("div",{className:"text-center space-y-3",children:[l.jsx("h3",{className:"text-lg font-display text-velyar-earth",children:"Ready to Share Your Story?"}),l.jsx("p",{className:"text-muted-foreground font-body text-sm",children:"Join the global conversation and connect with voices from around the world."}),l.jsx("div",{className:"pt-2",children:l.jsx("button",{className:"btn-primary-enhanced px-6 py-2 rounded-full font-ui text-sm",children:"Start Recording"})})]})})})]})})})},Ue=p.forwardRef((s,n)=>{var o=s,{className:e,type:t}=o,r=L(o,["className","type"]);return l.jsx("input",E({type:t,className:ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n},r))});Ue.displayName="Input";const rC=()=>{const[e,t]=p.useState(""),[r,n]=p.useState([]),[s,o]=p.useState([]),[i,a]=p.useState(!0),c=zt();p.useEffect(()=>{j(void 0,null,function*(){a(!0);try{const{data:h,error:v}=yield z.from("themes").select(`
            id,
            name,
            icon,
            description,
            video_themes(video_id)
          `).eq("is_active",!0);if(v)throw v;const w=(h==null?void 0:h.map(y=>{var g;return{id:y.id,name:y.name,icon:y.icon,description:y.description,video_count:((g=y.video_themes)==null?void 0:g.length)||0}}))||[];n(w);const{data:x,error:b}=yield z.from("archived_prompts").select("*").gte("archive_date",new Date(Date.now()-5*24*60*60*1e3).toISOString().split("T")[0]).order("archive_date",{ascending:!1}).limit(5);if(b)throw b;o(x||[])}catch(h){console.error("Error fetching explore data:",h)}finally{a(!1)}})},[]);const u=r.filter(f=>{var h;return f.name.toLowerCase().includes(e.toLowerCase())||((h=f.description)==null?void 0:h.toLowerCase().includes(e.toLowerCase()))}),d=s.filter(f=>f.prompt_text.toLowerCase().includes(e.toLowerCase()));return l.jsxs("div",{className:"min-h-screen-safe bg-background font-quicksand content-safe-bottom",children:[l.jsx("header",{className:"sticky-header header-safe",children:l.jsxs("div",{className:"max-w-md mx-auto px-4 py-3 flex items-center gap-3",children:[l.jsx(q,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>c(-1),children:l.jsx(Mt,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl font-medium text-foreground font-nunito",children:"explore"}),l.jsx(q,{variant:"ghost",size:"sm",className:"p-2 ml-auto",children:l.jsx(Yk,{className:"w-5 h-5"})})]})}),l.jsxs("main",{className:"max-w-md mx-auto px-4 pb-24",children:[l.jsxs("div",{className:"mt-6 relative",children:[l.jsx(eE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),l.jsx(Ue,{placeholder:"search stories, themes, or places...",value:e,onChange:f=>t(f.target.value),className:"pl-10"})]}),l.jsxs("section",{className:"mt-8",children:[l.jsx("h2",{className:"text-lg font-medium text-foreground mb-4 font-nunito",children:"browse themes"}),i?l.jsx("div",{className:"grid grid-cols-2 gap-3",children:Array.from({length:6}).map((f,h)=>l.jsx(ae,{className:"border-0 shadow-gentle",children:l.jsxs(ge,{className:"p-4 text-center",children:[l.jsx(Ot,{className:"w-8 h-8 rounded mx-auto mb-2"}),l.jsx(Ot,{className:"h-4 w-3/4 mx-auto mb-1"}),l.jsx(Ot,{className:"h-3 w-1/2 mx-auto"})]})},h))}):l.jsx("div",{className:"grid grid-cols-2 gap-3",children:u.map(f=>l.jsx(ze,{to:`/video-list/theme/${f.id}`,children:l.jsx(ae,{className:"border-0 shadow-gentle cursor-pointer hover:shadow-warm transition-all",children:l.jsxs(ge,{className:"p-4 text-center",children:[l.jsx("div",{className:"text-2xl mb-2",children:f.icon}),l.jsx("h3",{className:"text-sm font-medium text-foreground mb-1 font-nunito",children:f.name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[f.video_count," global voices"]})]})})},f.id))})]}),l.jsxs("section",{className:"mt-8",children:[l.jsx("h2",{className:"text-lg font-medium text-foreground mb-4 font-nunito",children:"recent prompts"}),i?l.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((f,h)=>l.jsx(ae,{className:"border-0 shadow-gentle",children:l.jsxs(ge,{className:"p-4",children:[l.jsx(Ot,{className:"h-4 w-full mb-2"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ot,{className:"h-3 w-20"}),l.jsx(Ot,{className:"h-3 w-24"})]}),l.jsx(Ot,{className:"h-3 w-16"})]})]})},h))}):l.jsx("div",{className:"space-y-3",children:d.map(f=>l.jsx(ze,{to:`/video-list/archived-prompt/${f.id}`,children:l.jsx(ae,{className:"border-0 shadow-gentle cursor-pointer hover:shadow-warm transition-all",children:l.jsxs(ge,{className:"p-4",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("h3",{className:"text-sm font-medium text-foreground font-nunito",children:['"',f.prompt_text,'"']}),l.jsx(ma,{className:"w-4 h-4 text-velyar-earth flex-shrink-0 ml-2"})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(iy,{className:"w-3 h-3"}),l.jsx("span",{children:new Date(f.archive_date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}).toLowerCase()})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Bo,{className:"w-3 h-3"}),l.jsxs("span",{children:[f.country_count," countries"]})]})]}),l.jsxs("span",{children:[f.response_count.toLocaleString()," responses"]})]})]})})},f.id))})]})]})]})};function nC(){const[e,t]=p.useState(null),[r,n]=p.useState(!0),[s,o]=p.useState(null);return p.useEffect(()=>{function a(){return j(this,null,function*(){try{const{data:c,error:u}=yield z.from("geographic_analysis").select("*").order("analysis_date",{ascending:!1}).limit(1).maybeSingle();if(u)throw u;t(c)}catch(c){console.error("Error fetching geographic analysis:",c),o(c instanceof Error?c.message:"An error occurred")}finally{n(!1)}})}a()},[]),{analysis:e,loading:r,error:s,triggerAnalysis:()=>j(this,null,function*(){try{n(!0);const{data:a,error:c}=yield z.functions.invoke("analyze-geography");if(c)throw c;const{data:u,error:d}=yield z.from("geographic_analysis").select("*").order("analysis_date",{ascending:!1}).limit(1).maybeSingle();if(d)throw d;return t(u),a}catch(a){throw console.error("Error triggering analysis:",a),o(a instanceof Error?a.message:"An error occurred"),a}finally{n(!1)}})}}const sC=()=>{const e=zt(),[t,r]=p.useState([]),[n,s]=p.useState({voicesShared:0,countries:0,languages:0}),[o,i]=p.useState(null),[a,c]=p.useState(!0),[u,d]=p.useState(null),{analysis:f}=nC();return p.useEffect(()=>{j(void 0,null,function*(){try{const{data:v,error:w}=yield z.from("missions").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(w)throw w;const x=v.map(N=>({id:N.id,title:N.title,description:N.description,participants:N.participants_count,location:N.location_needed||"",imageUrl:N.image_url||"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=400&h=200&fit=crop",targetRegions:Array.isArray(N.target_regions)?N.target_regions:null}));r(x);const b=new Date;b.setDate(b.getDate()-7);const{data:y,error:g}=yield z.from("videos").select("id, location, language, user_id").eq("is_public",!0).gte("created_at",b.toISOString());if(g)throw g;const m=(y==null?void 0:y.length)||0,_=(y==null?void 0:y.map(N=>N.location).filter(N=>N&&N.trim()!=="").map(N=>{var A;return(A=N.split(",").pop())==null?void 0:A.trim().toLowerCase()}).filter(Boolean))||[],S=new Set(_).size,C=new Set(y==null?void 0:y.map(N=>N.language).filter(Boolean)).size;s({voicesShared:m,countries:S,languages:C});const{data:P,error:k}=yield z.from("global_prompts").select("*").eq("is_active",!0).order("priority",{ascending:!1}).limit(1);if(k)throw k;if(P&&P.length>0){const N=P[0];i({id:N.id,message_text:N.message_text,priority:N.priority,target_regions:Array.isArray(N.target_regions)?N.target_regions:void 0})}else f&&f.recommended_targets.length>0&&i({id:"auto-generated",message_text:f.recommended_targets[0],priority:0,target_regions:f.underrepresented_regions})}catch(v){d(v instanceof Error?v.message:"Failed to fetch data")}finally{c(!1)}})},[f]),l.jsxs("div",{className:"min-h-screen-safe bg-background font-quicksand content-safe-bottom",children:[l.jsx("header",{className:"sticky-header header-safe",children:l.jsxs("div",{className:"max-w-md mx-auto px-4 py-3 flex items-center gap-3",children:[l.jsx(q,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>e(-1),children:l.jsx(Mt,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl font-medium text-foreground font-nunito",children:"mission hub"})]})}),l.jsxs("main",{className:"max-w-md mx-auto px-4 pb-24",children:[o&&l.jsx(ae,{className:"mt-6 bg-velyar-glow/20 border-velyar-earth/20",children:l.jsxs(ge,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(uy,{className:"w-4 h-4 text-velyar-earth"}),l.jsx("span",{className:"text-sm font-medium text-velyar-earth font-nunito",children:"global balance needed"})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:o.message_text.toLowerCase()})]})}),l.jsxs("section",{className:"mt-8",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(yu,{className:"w-5 h-5 text-velyar-earth"}),l.jsx("h2",{className:"text-lg font-medium text-foreground font-nunito",children:"active missions"}),l.jsx("span",{className:"text-sm text-muted-foreground ml-auto",children:a?"...":`${t.length} live`})]}),u&&l.jsx(ae,{className:"bg-destructive/10 border-destructive/20 mb-4",children:l.jsx(ge,{className:"p-4",children:l.jsxs("p",{className:"text-sm text-destructive",children:["Failed to load missions: ",u]})})}),l.jsx("div",{className:"space-y-4",children:a?Array.from({length:3}).map((h,v)=>l.jsx(ae,{className:"overflow-hidden",children:l.jsxs("div",{className:"flex",children:[l.jsx(Pr,{className:"w-24 h-20"}),l.jsxs("div",{className:"flex-1 p-4 space-y-2",children:[l.jsx(Pr,{className:"h-4 w-3/4"}),l.jsx(Pr,{className:"h-3 w-full"}),l.jsx(Pr,{className:"h-3 w-1/2"})]})]})},v)):t.map(h=>l.jsx(Ey,{id:h.id,title:h.title,description:h.description,participants:h.participants,location:h.location,imageUrl:h.imageUrl,targetRegions:h.targetRegions||void 0},h.id))})]}),l.jsx("section",{className:"mt-8",children:l.jsx(ae,{className:"bg-card border-0 shadow-gentle",children:l.jsxs(ge,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-foreground mb-4 font-nunito",children:"this week's impact"}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-medium text-velyar-earth font-nunito",children:a?"...":n.voicesShared.toLocaleString()}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"voices shared"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-medium text-velyar-earth font-nunito",children:a?"...":n.countries}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"countries"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-medium text-velyar-earth font-nunito",children:a?"...":n.languages}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"languages"})]})]})]})})})]})]})},Rn=p.forwardRef((n,r)=>{var s=n,{className:e}=s,t=L(s,["className"]);return l.jsx("textarea",E({className:ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r},t))});Rn.displayName="Textarea";var oC="Label",Cy=p.forwardRef((e,t)=>l.jsx(ee.label,R(E({},e),{ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}})));Cy.displayName=oC;var Ny=Cy;const iC=Ja("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),we=p.forwardRef((n,r)=>{var s=n,{className:e}=s,t=L(s,["className"]);return l.jsx(Ny,E({ref:r,className:ne(iC(),e)},t))});we.displayName=Ny.displayName;const aC=({videoDuration:e,onTextOverlaysChange:t})=>{const[r,n]=p.useState([]),[s,o]=p.useState(!1),[i,a]=p.useState("text"),[c,u]=p.useState(""),[d,f]=p.useState("heart"),[h,v]=p.useState(0),[w,x]=p.useState(2),b=[{name:"heart",icon:Jk},{name:"star",icon:sE},{name:"flame",icon:Qk},{name:"zap",icon:cE},{name:"smile",icon:ip}],y=()=>{if(i==="text"&&c.trim()||i==="icon"){const m={id:Date.now().toString(),type:i,text:i==="text"?c:void 0,icon:i==="icon"?d:void 0,startTime:h,endTime:w,x:50,y:50},_=[...r,m];n(_),t(_),u(""),v(0),x(2),o(!1)}},g=m=>{const _=r.filter(S=>S.id!==m);n(_),t(_)};return l.jsx(ae,{className:"border-0 shadow-gentle",children:l.jsxs(ge,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(lp,{className:"w-4 h-4 text-velyar-earth"}),l.jsx("span",{className:"text-sm font-medium text-foreground font-nunito",children:"overlays"})]}),l.jsx("div",{className:"space-y-2 mb-3",children:r.map(m=>{var _;return l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/50 rounded",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-sm font-medium flex items-center gap-2",children:m.type==="text"?l.jsx("span",{children:m.text}):l.jsxs("span",{className:"flex items-center gap-1",children:[((_=b.find(S=>S.name===m.icon))==null?void 0:_.icon)&&Ht.createElement(b.find(S=>S.name===m.icon).icon,{className:"w-4 h-4"}),m.icon]})}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[m.startTime,"s - ",m.endTime,"s"]})]}),l.jsx(q,{variant:"ghost",size:"sm",onClick:()=>g(m.id),className:"h-8 w-8 p-0",children:l.jsx(Ud,{className:"w-4 h-4"})})]},m.id)})}),s?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(q,{variant:i==="text"?"default":"outline",size:"sm",onClick:()=>a("text"),className:"flex-1",children:[l.jsx(lp,{className:"w-4 h-4 mr-1"}),"Text"]}),l.jsxs(q,{variant:i==="icon"?"default":"outline",size:"sm",onClick:()=>a("icon"),className:"flex-1",children:[l.jsx(ip,{className:"w-4 h-4 mr-1"}),"Icon"]})]}),i==="text"?l.jsx(Ue,{placeholder:"Enter text overlay...",value:c,onChange:m=>u(m.target.value)}):l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-xs text-muted-foreground",children:"Choose icon"}),l.jsx("div",{className:"flex gap-2 flex-wrap",children:b.map(m=>l.jsx(q,{variant:d===m.name?"default":"outline",size:"sm",onClick:()=>f(m.name),className:"flex items-center gap-1",children:l.jsx(m.icon,{className:"w-4 h-4"})},m.name))})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-xs text-muted-foreground",children:"Start (seconds)"}),l.jsx(Ue,{type:"number",min:"0",max:e,value:h,onChange:m=>v(Number(m.target.value))})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-xs text-muted-foreground",children:"End (seconds)"}),l.jsx(Ue,{type:"number",min:"0",max:e,value:w,onChange:m=>x(Number(m.target.value))})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(q,{onClick:y,className:"flex-1",children:["Add ",i==="text"?"Text":"Icon"]}),l.jsx(q,{variant:"outline",onClick:()=>o(!1),children:"Cancel"})]})]}):l.jsxs(q,{variant:"outline",onClick:()=>o(!0),className:"w-full",children:[l.jsx(Xa,{className:"w-4 h-4 mr-2"}),"Add Overlay"]})]})})},lC=(e,t=2)=>new Promise((r,n)=>{const s=document.createElement("video"),o=document.createElement("canvas"),i=o.getContext("2d");if(!i){n(new Error("Canvas context not available"));return}s.preload="metadata",s.muted=!0,s.crossOrigin="anonymous";const a=()=>{try{s.src&&(URL.revokeObjectURL(s.src),s.src=""),s.removeEventListener("loadedmetadata",u),s.removeEventListener("seeked",d),s.removeEventListener("error",f)}catch(h){}},c=setTimeout(()=>{a(),n(new Error("Thumbnail generation timeout"))},5e3),u=()=>{try{if(s.videoWidth===0||s.videoHeight===0){clearTimeout(c),a(),n(new Error("Invalid video dimensions"));return}const h=1280,v=s.videoWidth/s.videoHeight;s.videoWidth>s.videoHeight?(o.width=Math.min(s.videoWidth,h),o.height=o.width/v):(o.height=Math.min(s.videoHeight,h),o.width=o.height*v);const w=Math.min(t,s.duration-.1);s.currentTime=w}catch(h){clearTimeout(c),a(),n(new Error("Failed to set video metadata"))}},d=()=>{try{i.drawImage(s,0,0,o.width,o.height);const h=o.toDataURL("image/jpeg",.7);if(!h||h.length<100){clearTimeout(c),a(),n(new Error("Generated thumbnail is invalid"));return}clearTimeout(c),a(),r(h)}catch(h){clearTimeout(c),a(),n(h)}},f=()=>{clearTimeout(c),a(),n(new Error("Video loading failed"))};s.addEventListener("loadedmetadata",u),s.addEventListener("seeked",d),s.addEventListener("error",f);try{const h=URL.createObjectURL(e);s.src=h}catch(h){clearTimeout(c),n(new Error("Failed to create object URL"))}}),cC=(e,t)=>j(void 0,null,function*(){const{supabase:r}=yield Me(()=>j(void 0,null,function*(){const{supabase:n}=yield Promise.resolve().then(()=>Bj);return{supabase:n}}),void 0);try{if(!e.split(",")[1])throw new Error("Invalid base64 data");const o=yield(yield fetch(e)).blob(),{data:{user:i}}=yield r.auth.getUser();if(!i)throw new Error("User not authenticated");const a=`${i.id}/thumbnails/${t}_${Date.now()}.jpg`,{data:c,error:u}=yield r.storage.from("videos").upload(a,o,{contentType:"image/jpeg",upsert:!1});if(u)throw u;const{data:d}=r.storage.from("videos").getPublicUrl(c.path);return d.publicUrl}catch(n){throw console.error("Thumbnail upload failed:",n),console.error("Error message:",(n==null?void 0:n.message)||"No message"),console.error("Error details:",JSON.stringify(n,null,2)),n}}),uC=(r,...n)=>j(void 0,[r,...n],function*(e,t={}){const{maxSizeMB:s=50,maxWidthOrHeight:o=1280,useWebWorker:i=!0,fileType:a="video/mp4",initialQuality:c=.8}=t;return new Promise((u,d)=>{const f=document.createElement("video"),h=document.createElement("canvas"),v=h.getContext("2d");if(!v){d(new Error("Canvas context not available"));return}f.onloadedmetadata=()=>{let{videoWidth:w,videoHeight:x}=f;if(w>o||x>o){const _=w/x;w>x?(w=o,x=o/_):(x=o,w=o*_)}h.width=w,h.height=x;const b=h.captureStream(30),y=new MediaRecorder(b,{mimeType:"video/webm;codecs=vp8",videoBitsPerSecond:2e6}),g=[];y.ondataavailable=_=>{_.data.size>0&&g.push(_.data)},y.onstop=()=>{const _=new Blob(g,{type:"video/webm"});if(_.size<=s*1024*1024){const S=new File([_],e.name.replace(/\.[^/.]+$/,".webm"),{type:"video/webm",lastModified:Date.now()});u(S)}else d(new Error("Video still too large after compression"))},y.onerror=_=>{d(_)},y.start(),f.currentTime=0,f.play();const m=()=>{if(f.ended){y.stop();return}v.drawImage(f,0,0,w,x),requestAnimationFrame(m)};m()},f.onerror=()=>{d(new Error("Error loading video for compression"))},f.src=URL.createObjectURL(e),f.load()})}),dC=e=>new Promise((t,r)=>{const n=document.createElement("video");n.onloadedmetadata=()=>{t({duration:n.duration,width:n.videoWidth,height:n.videoHeight,size:e.size})},n.onerror=()=>{r(new Error("Error loading video metadata"))},n.src=URL.createObjectURL(e),n.load()}),fC=()=>{const[e,t]=p.useState(!1),[r,n]=p.useState(null);p.useEffect(()=>{t(Pe.isNativePlatform()),Pe.isNativePlatform()&&s()},[]);const s=()=>j(void 0,null,function*(){try{const{Device:d}=yield Me(()=>j(void 0,null,function*(){const{Device:w}=yield import("@capacitor/device");return{Device:w}}),[]),{StatusBar:f,Style:h}=yield Me(()=>j(void 0,null,function*(){const{StatusBar:w,Style:x}=yield import("@capacitor/status-bar");return{StatusBar:w,Style:x}}),[]),v=yield d.getInfo();n(v),yield f.setStyle({style:h.Default}),yield f.setBackgroundColor({color:"#fffbf0"})}catch(d){console.error("Mobile initialization error:",d)}});return{isNative:e,deviceInfo:r,takePhoto:()=>j(void 0,null,function*(){try{if(!Pe.isNativePlatform())throw new Error("Camera not available on web platform");const{Camera:d,CameraResultType:f,CameraSource:h}=yield Me(()=>j(void 0,null,function*(){const{Camera:w,CameraResultType:x,CameraSource:b}=yield import("@capacitor/camera");return{Camera:w,CameraResultType:x,CameraSource:b}}),[]);return(yield d.getPhoto({quality:90,allowEditing:!1,resultType:f.Uri,source:h.Camera})).webPath}catch(d){throw console.error("Camera error:",d),d}}),recordVideo:()=>j(void 0,null,function*(){try{if(!Pe.isNativePlatform())throw new Error("Video recording not available on web platform");const{Camera:d,CameraResultType:f,CameraSource:h}=yield Me(()=>j(void 0,null,function*(){const{Camera:w,CameraResultType:x,CameraSource:b}=yield import("@capacitor/camera");return{Camera:w,CameraResultType:x,CameraSource:b}}),[]);return(yield d.getPhoto({quality:90,allowEditing:!1,resultType:f.Uri,source:h.Camera})).webPath}catch(d){throw console.error("Video recording error:",d),d}}),getCurrentLocation:()=>j(void 0,null,function*(){try{if(!Pe.isNativePlatform())throw new Error("Geolocation not available on web platform");const{Geolocation:d}=yield Me(()=>j(void 0,null,function*(){const{Geolocation:h}=yield import("@capacitor/geolocation");return{Geolocation:h}}),[]),f=yield d.getCurrentPosition();return{lat:f.coords.latitude,lng:f.coords.longitude}}catch(d){throw console.error("Location error:",d),d}}),saveFile:(d,f)=>j(void 0,null,function*(){try{if(!Pe.isNativePlatform())throw new Error("File system not available on web platform");const{Filesystem:h,Directory:v,Encoding:w}=yield Me(()=>j(void 0,null,function*(){const{Filesystem:x,Directory:b,Encoding:y}=yield import("@capacitor/filesystem");return{Filesystem:x,Directory:b,Encoding:y}}),[]);return yield h.writeFile({path:f,data:d,directory:v.Documents,encoding:w.UTF8}),!0}catch(h){return console.error("File save error:",h),!1}}),readFile:d=>j(void 0,null,function*(){try{if(!Pe.isNativePlatform())throw new Error("File system not available on web platform");const{Filesystem:f,Directory:h,Encoding:v}=yield Me(()=>j(void 0,null,function*(){const{Filesystem:x,Directory:b,Encoding:y}=yield import("@capacitor/filesystem");return{Filesystem:x,Directory:b,Encoding:y}}),[]);return(yield f.readFile({path:d,directory:h.Documents,encoding:v.UTF8})).data}catch(f){return console.error("File read error:",f),null}})}};function Py(e){const[t,r]=p.useState(null),[n,s]=p.useState({mediaShared:0,octosReceived:0,countriesReached:0}),[o,i]=p.useState([]),[a,c]=p.useState(null),[u,d]=p.useState(!0),[f,h]=p.useState(null);return p.useEffect(()=>{if(!e){d(!1);return}function v(){return j(this,null,function*(){try{const{data:w,error:x}=yield z.from("profiles").select("*").eq("user_id",e).maybeSingle();if(x)throw x;if(r(w),console.log("useProfile: profileData:",w),console.log("useProfile: city:",w==null?void 0:w.city),console.log("useProfile: country:",w==null?void 0:w.country),w!=null&&w.city&&(w!=null&&w.country)){const C=`${w.city}, ${w.country}`;console.log("useProfile: Setting location to:",C),c(C)}else console.log("useProfile: No city or country data available");const{data:b,error:y}=yield z.from("videos").select(`
            id,
            created_at,
            mission_id,
            missions(title)
          `).eq("user_id",e).eq("is_public",!0);if(y)throw y;const g=(b==null?void 0:b.length)||0;let m=0;if(b&&b.length>0){const C=b.map(N=>N.id),{data:P,error:k}=yield z.from("video_likes").select("id").in("video_id",C);k||(m=(P==null?void 0:P.length)||0)}const _=Math.min(g*2,23);s({mediaShared:g,octosReceived:m,countriesReached:_});const S=new Map;b==null||b.forEach(C=>{var P;if((P=C.missions)!=null&&P.title){const k=C.missions.title;S.has(k)||S.set(k,{mission:k,date:new Date(C.created_at).toLocaleDateString("en-US",{month:"long",day:"numeric"}),type:"view",missionId:C.mission_id})}}),i(Array.from(S.values()).slice(0,3))}catch(w){console.error("Error fetching profile:",w),h(w instanceof Error?w.message:"An error occurred")}finally{d(!1)}})}v()},[e]),{profile:t,userStats:n,contributions:o,location:a,loading:u,error:f}}const hC=["kill","murder","death","suicide","bomb","weapon","gun","knife","violence","attack","hurt","harm","threat","dangerous","hate","racist","nazi","fascist","terrorist","supremacist","slur","bigot","discrimination","prejudice","sexual","porn","nude","naked","sex","adult","explicit","nsfw","erotic","fetish","xxx","illegal","drug","cocaine","heroin","meth","cannabis","weed","steal","robbery","fraud","scam","hack","piracy","spam","advertising","promotion","sale","buy now","click here","make money","get rich","free money","earn cash","copyright","trademark","registered","intellectual property","unauthorized","pirated","bootleg"],pC=[/\b\d{3}-\d{2}-\d{4}\b/,/\b\d{4}[\s-]?\d{4}[\s-]?\d{4}[\s-]?\d{4}\b/,/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/,/\b(?:\+?1[-.\s]?)?\(?[0-9]{3}\)?[-.\s]?[0-9]{3}[-.\s]?[0-9]{4}\b/,/\b(?:https?:\/\/)?(?:www\.)?[a-zA-Z0-9-]+\.[a-zA-Z]{2,}(?:\/\S*)?\b/g],dp=e=>{if(!e||typeof e!="string")return{isAllowed:!0,confidence:1,severity:"low"};const t=e.toLowerCase(),r=[],n=[];for(const o of hC)t.includes(o.toLowerCase())&&r.push(o);for(const o of pC)e.match(o)&&n.push(o.toString());let s="low";return r.some(o=>["kill","murder","bomb","terrorist"].includes(o))?s="high":(r.length>2||n.length>0)&&(s="medium"),s==="high"?{isAllowed:!1,reason:`Contains high-risk content: ${r.join(", ")}`,flaggedWords:r,flaggedPatterns:n,confidence:.95,severity:s}:r.length>0?{isAllowed:!1,reason:`Contains prohibited words: ${r.join(", ")}`,flaggedWords:r,flaggedPatterns:n,confidence:.8,severity:s}:n.length>0?{isAllowed:!1,reason:"Contains potentially sensitive information (email, phone, etc.)",flaggedWords:r,flaggedPatterns:n,confidence:.7,severity:s}:{isAllowed:!0,confidence:.9,severity:"low"}},mC=e=>{if(!e)return 0;const t=new Date,r=new Date(e);if(isNaN(r.getTime()))return 0;let n=t.getFullYear()-r.getFullYear();const s=t.getMonth()-r.getMonth();return(s<0||s===0&&t.getDate()<r.getDate())&&n--,n},Ql=e=>{const t=mC(e);return t<13?{isValid:!1,accountType:"blocked",reason:"Must be 13 or older to use this platform",age:t}:t<16?{isValid:!0,accountType:"restricted",reason:"Limited features due to age restrictions (under 16)",age:t}:{isValid:!0,accountType:"full",age:t}},gC=(e,t)=>{const r=dp(e);if(!r.isAllowed)return{isValid:!1,message:`Caption: ${r.reason}`,severity:r.severity};if(t&&t.trim()){const n=dp(t);if(!n.isAllowed)return{isValid:!1,message:`Location: ${n.reason}`,severity:n.severity}}return{isValid:!0,severity:"low"}},fp=[{value:"inappropriate",label:"Inappropriate content",description:"Content that is offensive or unsuitable"},{value:"spam",label:"Spam or misleading",description:"Unwanted promotional content or false information"},{value:"harassment",label:"Harassment or bullying",description:"Content that targets or attacks individuals"},{value:"copyright",label:"Copyright violation",description:"Unauthorized use of copyrighted material"},{value:"violence",label:"Violence or dangerous content",description:"Content promoting violence or harmful activities"},{value:"other",label:"Other",description:"Other violations not listed above"}],vC=()=>{const[e,t]=p.useState(()=>localStorage.getItem("videoCreate_step")||"record"),[r,n]=p.useState(null),[s,o]=p.useState(null),[i,a]=p.useState(()=>localStorage.getItem("videoCreate_caption")||""),[c,u]=p.useState(()=>localStorage.getItem("videoCreate_location")||""),[d,f]=p.useState(0),[h,v]=p.useState([]),[w,x]=p.useState(null),[b,y]=p.useState(!1),g=30,m=50,{missionId:_}=Nd(),{isNative:S,recordVideo:C,getCurrentLocation:P}=fC(),{toast:k}=Zr(),{setIsEditing:N}=Wj(),{user:A}=Id(),{location:$}=Py(A==null?void 0:A.id);console.log("VideoCreate: isNative =",S,"platform:",Pe.getPlatform());const T=zt();p.useEffect(()=>{j(void 0,null,function*(){var I,U;if(_){const{data:V}=yield z.from("missions").select(`
            title, 
            description, 
            target_regions, 
            theme_id,
            themes:theme_id (
              name
            )
          `).eq("id",_).single();V&&x({text:V.description,theme_id:V.theme_id||"",theme_name:((I=V.themes)==null?void 0:I.name)||"No theme",type:"mission",title:V.title})}else{const V=new Date().toISOString().split("T")[0],{data:Q}=yield z.from("daily_prompts").select(`
            id,
            prompt_text,
            theme_id,
            themes:theme_id (
              name
            )
          `).eq("date",V).eq("is_active",!0).single();Q&&x({text:Q.prompt_text,theme_id:Q.theme_id,theme_name:((U=Q.themes)==null?void 0:U.name)||"No theme",type:"daily",id:Q.id})}})},[_]),p.useEffect(()=>{console.log("VideoCreate: userLocation:",$),console.log("VideoCreate: current location state:",c),console.log("VideoCreate: user:",A==null?void 0:A.id),$&&!c&&(console.log("VideoCreate: Setting user profile location:",$),u($))},[$,c,A]),p.useEffect(()=>{console.log("VideoCreate: Component mounted/updated"),console.log("VideoCreate: Current step:",e),console.log("VideoCreate: recordedVideo exists:",!!r),console.log("VideoCreate: videoFile exists:",!!s);const O=localStorage.getItem("videoCreate_hasVideo"),I=localStorage.getItem("videoCreate_step");console.log("VideoCreate: localStorage hasVideo:",O),console.log("VideoCreate: localStorage step:",I),O==="true"&&I==="edit"&&!r&&!s&&(console.log("VideoCreate: Video was lost due to app restart, resetting to capture"),t("record"),localStorage.removeItem("videoCreate_hasVideo"),localStorage.removeItem("videoCreate_step"))},[r,s,e]),p.useEffect(()=>{console.log("VideoCreate: Persisting step to localStorage:",e),localStorage.setItem("videoCreate_step",e),N(e==="edit")},[e,N]),p.useEffect(()=>{r&&(console.log("VideoCreate: Persisting recordedVideo existence to localStorage"),localStorage.setItem("videoCreate_hasVideo","true"))},[r]),p.useEffect(()=>{localStorage.setItem("videoCreate_caption",i)},[i]),p.useEffect(()=>{localStorage.setItem("videoCreate_location",c)},[c]);const D=()=>{console.log("VideoCreate: Clearing localStorage state"),localStorage.removeItem("videoCreate_step"),localStorage.removeItem("videoCreate_recordedVideo"),localStorage.removeItem("videoCreate_caption"),localStorage.removeItem("videoCreate_location"),localStorage.removeItem("videoCreate_hasVideo"),N(!1)},W=()=>j(void 0,null,function*(){var O,I,U,V,Q;try{if(console.log("VideoCreate: Starting native recording"),console.log("VideoCreate: Platform:",Pe.getPlatform()),console.log("VideoCreate: isNative:",S),Pe.getPlatform()==="android"||Pe.getPlatform()==="ios"){console.log("VideoCreate: Attempting native video recording...");const oe=C(),le=new Promise((Ae,Ne)=>{setTimeout(()=>Ne(new Error("Recording timeout")),3e4)}),ie=yield Promise.race([oe,le]);console.log("VideoCreate: Video recording result:",{hasFile:!!ie.file,hasUrl:!!ie.url,fileSize:((O=ie.file)==null?void 0:O.size)||0,fileName:((I=ie.file)==null?void 0:I.name)||"unknown",fileType:((U=ie.file)==null?void 0:U.type)||"unknown"}),console.log("VideoCreate: Setting video state and moving to edit step"),n(ie.url),o(ie.file),localStorage.setItem("videoCreate_hasVideo","true"),f(30),t("edit")}else console.log("VideoCreate: Web platform detected, using file upload"),(V=document.getElementById("video-file-input"))==null||V.click()}catch(oe){console.error("VideoCreate: Video recording failed:",oe),console.log("VideoCreate: Falling back to file upload due to error"),(Q=document.getElementById("video-file-input"))==null||Q.click()}}),M=O=>j(void 0,null,function*(){var U;const I=(U=O.target.files)==null?void 0:U[0];if(I)try{console.log("VideoCreate: File upload - file selected:",{name:I.name,size:I.size,type:I.type});const V=yield dC(I);if(V.duration>g){k({title:"Video too long",description:`Please record a video under ${g} seconds. Current: ${Math.round(V.duration)}s`,variant:"destructive"});return}const Q=I.size/(1024*1024),oe=URL.createObjectURL(I);n(oe),o(I),localStorage.setItem("videoCreate_hasVideo","true"),f(V.duration),t("edit"),console.log("VideoCreate: File upload complete, moved to edit step"),Q>m&&(y(!0),k({title:"Compressing video",description:"Large video detected, compressing in background..."}),uC(I,{maxSizeMB:m,maxWidthOrHeight:1280}).then(le=>{const ie=URL.createObjectURL(le);n(ie),o(le),y(!1),k({title:"Video compressed",description:`Size reduced from ${Q.toFixed(1)}MB to ${(le.size/(1024*1024)).toFixed(1)}MB`})}).catch(le=>{console.error("Compression failed:",le),y(!1),k({title:"Compression failed",description:"Video will be uploaded as-is",variant:"destructive"})}))}catch(V){console.error("Error processing video:",V),k({title:"Error processing video",description:"Please try again with a different video",variant:"destructive"})}}),B=()=>j(void 0,null,function*(){if(!r||!s){k({title:"No video selected",description:"Please record or upload a video first",variant:"destructive"});return}const O=gC(i,c);if(!O.isValid){k({title:"Content policy violation",description:O.message,variant:"destructive"});return}try{console.log("Starting video submission process...");const{data:{user:I}}=yield z.auth.getUser();if(!I){console.error("User not authenticated"),alert("Please log in to upload videos");return}console.log("User authenticated:",I.id);let U=null;try{console.log("Generating video thumbnail..."),console.log("Video file details:",{name:s.name,size:s.size,type:s.type});const K=yield lC(s,2);console.log("Thumbnail generated successfully, uploading to storage..."),U=yield cC(K,`${I.id}_${Date.now()}`),console.log("Thumbnail generated and uploaded:",U),k({title:"Thumbnail generated",description:"Video thumbnail created successfully",duration:2e3})}catch(K){console.error("Thumbnail generation failed:",K),console.error("Error message:",(K==null?void 0:K.message)||"No message"),console.error("Error string:",JSON.stringify(K,null,2)),k({title:"Thumbnail generation failed",description:(K==null?void 0:K.message)||"Video will be uploaded without thumbnail",variant:"destructive",duration:3e3})}const V=`${I.id}/${Date.now()}.${s.name.split(".").pop()||"mp4"}`;console.log("Uploading file:",V,"Size:",s.size);const{data:Q,error:oe}=yield z.storage.from("videos").upload(V,s,{cacheControl:"3600",upsert:!1});if(oe){console.error("Upload error:",oe),console.error("Upload error message:",(oe==null?void 0:oe.message)||"No message"),console.error("Upload error details:",JSON.stringify(oe,null,2)),console.error("File size:",s.size,"bytes"),console.error("File type:",s.type),k({title:"Video upload failed",description:(oe==null?void 0:oe.message)||"Unknown upload error",variant:"destructive",duration:5e3});return}console.log("Upload successful:",Q);const{data:{publicUrl:le}}=z.storage.from("videos").getPublicUrl(V);console.log("Public URL generated:",le);let ie=null;w&&w.type==="daily"&&(ie=w.id,console.log("Using stored daily prompt ID for video:",ie));const{data:Ae,error:Ne}=yield z.from("videos").insert({user_id:I.id,video_url:le,thumbnail_url:U,title:i||((w==null?void 0:w.type)==="mission"?"Mission Response":"Daily Prompt Response"),description:i,location:c||null,daily_prompt_id:ie,mission_id:_||null,is_public:!0,moderation_status:"approved"}).select().single();if(Ne){console.error("Database error:",Ne),alert(`Database error: ${Ne.message}`);return}if(console.log("Video record created:",Ae),w&&w.theme_id&&Ae){console.log("Adding theme to video...",{videoId:Ae.id,themeId:w.theme_id,promptType:w.type});const{error:K}=yield z.from("video_themes").insert({video_id:Ae.id,theme_id:w.theme_id});K?console.error("Theme assignment error:",K):console.log("Theme assigned successfully")}console.log("Video submission complete, showing success message..."),k({title:"Video uploaded successfully!",description:"Your video has been saved and will appear in the feed.",duration:3e3}),setTimeout(()=>{D(),T("/")},1500)}catch(I){console.error("Error submitting video:",I),alert(`An error occurred: ${I.message||"Unknown error"}`)}}),G=()=>{e==="record"?(D(),T(-1)):e==="edit"&&t("record")};return l.jsxs("div",{className:"min-h-screen-safe bg-background font-quicksand",children:[l.jsx("header",{className:"sticky-header header-safe",children:l.jsxs("div",{className:"max-w-md mx-auto px-4 py-3 flex items-center gap-3",children:[l.jsx(q,{variant:"ghost",size:"sm",onClick:G,className:"p-2 text-velyar-earth hover:bg-velyar-soft",children:l.jsx(Mt,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl font-medium text-velyar-earth font-nunito",children:"share your story"})]})}),w&&l.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:l.jsxs("div",{className:"bg-velyar-soft/50 rounded-lg p-4 border border-velyar-earth/10",children:[l.jsxs("p",{className:"text-xs text-velyar-earth/70 mb-1 font-nunito",children:[w.type==="mission"?"mission":"today's prompt","  ",w.theme_name," theme"]}),w.type==="mission"&&w.title&&l.jsx("p",{className:"text-sm text-velyar-earth/80 mb-2 font-nunito font-medium",children:w.title}),l.jsx("p",{className:"text-velyar-earth font-medium",children:w.text})]})}),l.jsxs("main",{className:"max-w-md mx-auto px-4 content-safe-bottom",children:[e==="record"&&l.jsx("div",{className:"mt-8 space-y-6",children:l.jsx(ae,{className:"border-velyar-earth/10",children:l.jsxs(ge,{className:"p-6 text-center",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h2",{className:"text-velyar-earth font-nunito font-medium text-lg mb-4",children:"record your story"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:S?"tap to open your camera and record a video":"use the file upload to share a video"}),l.jsxs("p",{className:"text-sm text-muted-foreground mb-6",children:[" Maximum duration: ",g," seconds |  Videos will be compressed if over ",m,"MB"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs(q,{onClick:W,className:"w-full bg-velyar-warm hover:bg-velyar-glow text-velyar-earth font-nunito font-medium",children:[l.jsx(ma,{className:"w-5 h-5 mr-2"}),"record video"]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"video-file-input",type:"file",accept:"video/*",capture:"environment",onChange:M,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:b}),l.jsxs(q,{variant:"outline",className:`w-full ${b?"opacity-50 cursor-not-allowed":""}`,children:[l.jsx(oE,{className:"w-5 h-5 mr-2"}),b?"processing...":"or upload video"]})]})]})]})})}),e==="edit"&&l.jsxs("div",{className:"mt-8 space-y-6",children:[l.jsx(ae,{className:"border-velyar-earth/10",children:l.jsx(ge,{className:"p-4",children:l.jsx("div",{className:"aspect-[9/16] bg-black rounded-lg overflow-hidden mb-4",children:r?l.jsx("video",{src:r,className:"w-full h-full object-cover",controls:!0,playsInline:!0,muted:!0}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-muted",children:l.jsx(ma,{className:"w-16 h-16 text-muted-foreground"})})})})}),l.jsx(ae,{className:"border-velyar-earth/10",children:l.jsxs(ge,{className:"p-4 space-y-4",children:[l.jsxs("div",{children:[l.jsx(we,{htmlFor:"caption",className:"text-velyar-earth font-nunito",children:"caption"}),l.jsx(Rn,{id:"caption",placeholder:"tell us about your story...",value:i,onChange:O=>a(O.target.value),className:"mt-2 border-velyar-earth/20 focus:border-velyar-earth"})]}),l.jsxs("div",{children:[l.jsx(we,{htmlFor:"location",className:"text-velyar-earth font-nunito",children:"location"}),l.jsx(Ue,{id:"location",placeholder:"city, country",value:c,onChange:O=>u(O.target.value),className:"mt-2 border-velyar-earth/20 focus:border-velyar-earth"})]})]})}),l.jsx(aC,{videoDuration:d,onTextOverlaysChange:v}),l.jsx(q,{onClick:B,disabled:!s||!i.trim()||!c.trim()||b,className:"w-full bg-velyar-warm hover:bg-velyar-glow text-velyar-earth font-nunito font-medium disabled:opacity-50",children:b?"compressing...":"share your story"})]})]})]})},yC=()=>{const{type:e,id:t}=Nd(),r=zt(),[n,s]=p.useState([]),[o,i]=p.useState(!0),[a,c]=p.useState(null),[u,d]=p.useState("");p.useEffect(()=>{f()},[e,t]);const f=()=>j(void 0,null,function*(){try{if(i(!0),c(null),e==="theme"&&t){const{data:m,error:_}=yield z.from("video_themes").select(`
            videos!inner (
              *
            )
          `).eq("theme_id",t);if(_)throw _;const S=(m==null?void 0:m.map(k=>k.videos).filter(Boolean))||[],C=[];for(const k of S){const{data:N}=yield z.from("profiles").select("username, display_name").eq("user_id",k.user_id).single();C.push(R(E({},k),{profiles:N}))}s(C);const{data:P}=yield z.from("themes").select("name").eq("id",t).single();P&&d(P.name);return}if(e==="archived-prompt"&&t){const{data:m}=yield z.from("archived_prompts").select("prompt_text").eq("id",t).single();if(m){d(`"${m.prompt_text}"`);const{data:_}=yield z.from("daily_prompts").select("id").eq("prompt_text",m.prompt_text).limit(1).single();if(_){const{data:S}=yield z.from("videos").select("*").eq("daily_prompt_id",_.id).eq("is_public",!0).order("created_at",{ascending:!1}),C=[];if(S)for(const P of S){const{data:k}=yield z.from("profiles").select("username, display_name").eq("user_id",P.user_id).single();C.push(R(E({},P),{profiles:k}))}s(C)}}return}let x=z.from("videos").select("*").eq("is_public",!0).order("created_at",{ascending:!1});if(e==="mission"&&t){x=x.eq("mission_id",t);const{data:m}=yield z.from("missions").select("title").eq("id",t).single();m&&d(m.title)}else e==="daily-prompt"&&t&&(x=x.eq("daily_prompt_id",t),console.log("VideoList: Fetching videos for daily prompt ID:",t));const{data:b,error:y}=yield x;if(y)throw y;const g=[];if(b)for(const m of b){const{data:_}=yield z.from("profiles").select("username, display_name").eq("user_id",m.user_id).single();g.push(R(E({},m),{profiles:_}))}console.log("VideoList: Found videos:",g.length),console.log("VideoList: Video IDs:",g.map(m=>m.id)),s(g)}catch(x){console.error("Error fetching videos:",x),c("Failed to load videos")}finally{i(!1)}}),h=x=>{r(e==="mission"?`/videos/${e}/${t}?video=${x}`:e==="daily-prompt"?`/videos/${e}/${t}?video=${x}`:`/videos/${e}/${x}`)},v=()=>{r(e==="daily-prompt"?"/":e==="theme"||e==="archived-prompt"?"/explore":-1)},w=()=>{if(u){if(e==="mission")return`${u} mission`;if(e==="theme")return`${u} voices`;if(e==="archived-prompt")return u}switch(e){case"daily-prompt":return"daily prompt responses";case"mission":return"mission voices";case"theme":return"theme voices";case"archived-prompt":return"archived prompt";default:return"global voices"}};return l.jsxs("div",{className:"min-h-screen-safe bg-background font-quicksand content-safe-bottom",children:[l.jsx("header",{className:"sticky-header header-safe",children:l.jsxs("div",{className:"max-w-md mx-auto px-4 py-3 flex items-center gap-3",children:[l.jsx(q,{variant:"ghost",size:"sm",onClick:v,className:"p-2 text-velyar-earth hover:bg-velyar-soft",children:l.jsx(Mt,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl font-medium text-velyar-earth font-nunito",children:w()})]})}),l.jsxs("main",{className:"max-w-md mx-auto px-4 pb-24",children:[o&&l.jsx("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[...Array(6)].map((x,b)=>l.jsx(ae,{className:"border-velyar-earth/10",children:l.jsxs(ge,{className:"p-0",children:[l.jsx(Pr,{className:"aspect-[3/4] rounded-t-lg"}),l.jsxs("div",{className:"p-3 space-y-2",children:[l.jsx(Pr,{className:"h-4 w-3/4"}),l.jsx(Pr,{className:"h-3 w-1/2"}),l.jsx(Pr,{className:"h-3 w-full"})]})]})},b))}),a&&l.jsx("div",{className:"mt-8 text-center text-muted-foreground",children:l.jsx("p",{children:a})}),!o&&!a&&n.length===0&&l.jsx("div",{className:"mt-8 text-center text-muted-foreground",children:l.jsxs("p",{children:["No videos found for this ",e==="mission"?"mission":"category"," yet."]})}),!o&&!a&&n.length>0&&l.jsx("div",{className:"mt-6 grid grid-cols-2 gap-3",children:n.map(x=>{var b,y;return l.jsx(ae,{className:"cursor-pointer hover:shadow-gentle transition-shadow border-velyar-earth/10",onClick:()=>h(x.id),children:l.jsxs(ge,{className:"p-0",children:[l.jsxs("div",{className:"relative aspect-[3/4] rounded-t-lg overflow-hidden",children:[x.thumbnail_url?l.jsx("img",{src:x.thumbnail_url,alt:x.title||"Video thumbnail",className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full bg-gradient-to-br from-velyar-earth/20 to-velyar-warm/20 flex items-center justify-center",children:l.jsx("div",{className:"text-velyar-earth/60 text-xs text-center px-2",children:"Video Preview"})}),l.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:l.jsx(dy,{className:"w-8 h-8 text-white"})})]}),l.jsxs("div",{className:"p-3",children:[l.jsx("div",{className:"font-medium text-velyar-earth font-nunito text-sm mb-1",children:x.location||"Unknown location"}),l.jsx("div",{className:"text-xs text-muted-foreground",children:((b=x.profiles)==null?void 0:b.display_name)||((y=x.profiles)==null?void 0:y.username)||"Anonymous"})]})]})},x.id)})}),!o&&!a&&n.length>0&&l.jsx("div",{className:"mt-8 text-center",children:l.jsx(q,{variant:"outline",className:"border-velyar-earth/20 text-velyar-earth hover:bg-velyar-soft",onClick:f,children:"load more voices"})})]})]})},xC=({isLiked:e=!1,onLike:t,size:r="md"})=>{const[n,s]=p.useState(e),o=()=>{s(!n),t==null||t()},i={sm:"w-6 h-6 text-lg",md:"w-8 h-8 text-xl",lg:"w-10 h-10 text-2xl"};return l.jsx(q,{variant:"ghost",size:"icon",className:`${i[r]} rounded-full ${n?"bg-velyar-warm/20 text-velyar-earth":"bg-black/20 text-white hover:bg-black/40"} transition-all duration-300`,onClick:o,children:l.jsx("img",{src:"/lovable-uploads/6e35e706-01c0-46b9-b5c6-8c50b1848687.png",alt:"Octopus",className:`object-contain transition-transform duration-300 ${n?"scale-110":"scale-100"} ${i[r].includes("w-6")?"w-4 h-4":i[r].includes("w-8")?"w-6 h-6":"w-8 h-8"}`})})},wC=({videoUrl:e,onVideoEnd:t,autoPlay:r=!0,className:n=""})=>{const s=p.useRef(null);return p.useEffect(()=>{const o=s.current;if(!o)return;const i=()=>{t==null||t()};return o.addEventListener("ended",i),r&&o.play().catch(console.error),()=>{o.removeEventListener("ended",i),o.pause(),o.currentTime=0}},[e,t,r]),l.jsx("video",{ref:s,src:e,className:`w-full h-full ${n}`,controls:!1,playsInline:!0,muted:!1,autoPlay:r,preload:"metadata",onError:o=>{console.error("Video playback error:",o)}})};var bC=Vp.useId||(()=>{}),_C=0;function pn(e){const[t,r]=p.useState(bC());return Qe(()=>{r(n=>n!=null?n:String(_C++))},[e]),t?`radix-${t}`:""}var Jl="focusScope.autoFocusOnMount",Xl="focusScope.autoFocusOnUnmount",hp={bubbles:!1,cancelable:!0},SC="FocusScope",Bd=p.forwardRef((e,t)=>{const x=e,{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o}=x,i=L(x,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[a,c]=p.useState(null),u=ct(s),d=ct(o),f=p.useRef(null),h=fe(t,b=>c(b)),v=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let b=function(_){if(v.paused||!a)return;const S=_.target;a.contains(S)?f.current=S:xr(f.current,{select:!0})},y=function(_){if(v.paused||!a)return;const S=_.relatedTarget;S!==null&&(a.contains(S)||xr(f.current,{select:!0}))},g=function(_){if(document.activeElement===document.body)for(const C of _)C.removedNodes.length>0&&xr(a)};document.addEventListener("focusin",b),document.addEventListener("focusout",y);const m=new MutationObserver(g);return a&&m.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",y),m.disconnect()}}},[n,a,v.paused]),p.useEffect(()=>{if(a){mp.add(v);const b=document.activeElement;if(!a.contains(b)){const g=new CustomEvent(Jl,hp);a.addEventListener(Jl,u),a.dispatchEvent(g),g.defaultPrevented||(jC(PC(Ty(a)),{select:!0}),document.activeElement===b&&xr(a))}return()=>{a.removeEventListener(Jl,u),setTimeout(()=>{const g=new CustomEvent(Xl,hp);a.addEventListener(Xl,d),a.dispatchEvent(g),g.defaultPrevented||xr(b!=null?b:document.body,{select:!0}),a.removeEventListener(Xl,d),mp.remove(v)},0)}}},[a,u,d,v]);const w=p.useCallback(b=>{if(!r&&!n||v.paused)return;const y=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,g=document.activeElement;if(y&&g){const m=b.currentTarget,[_,S]=kC(m);_&&S?!b.shiftKey&&g===S?(b.preventDefault(),r&&xr(_,{select:!0})):b.shiftKey&&g===_&&(b.preventDefault(),r&&xr(S,{select:!0})):g===m&&b.preventDefault()}},[r,n,v.paused]);return l.jsx(ee.div,R(E({tabIndex:-1},i),{ref:h,onKeyDown:w}))});Bd.displayName=SC;function jC(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(xr(n,{select:t}),document.activeElement!==r)return}function kC(e){const t=Ty(e),r=pp(t,e),n=pp(t.reverse(),e);return[r,n]}function Ty(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function pp(e,t){for(const r of e)if(!EC(r,{upTo:t}))return r}function EC(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function CC(e){return e instanceof HTMLInputElement&&"select"in e}function xr(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&CC(e)&&t&&e.select()}}var mp=NC();function NC(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=gp(e,t),e.unshift(t)},remove(t){var r;e=gp(e,t),(r=e[0])==null||r.resume()}}}function gp(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function PC(e){return e.filter(t=>t.tagName!=="A")}var Zl=0;function Ry(){p.useEffect(()=>{var t,r;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:vp()),document.body.insertAdjacentElement("beforeend",(r=e[1])!=null?r:vp()),Zl++,()=>{Zl===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Zl--}},[])}function vp(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Kt=function(){return Kt=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Kt.apply(this,arguments)};function Ay(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function TC(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Mi="right-scroll-bar-position",$i="width-before-scroll-bar",RC="with-scroll-bars-hidden",AC="--removed-body-scroll-bar-size";function ec(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function OC(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var IC=typeof window!="undefined"?p.useLayoutEffect:p.useEffect,yp=new WeakMap;function LC(e,t){var r=OC(null,function(n){return e.forEach(function(s){return ec(s,n)})});return IC(function(){var n=yp.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(a){o.has(a)||ec(a,null)}),o.forEach(function(a){s.has(a)||ec(a,i)})}yp.set(r,e)},[e]),r}function DC(e){return e}function MC(e,t){t===void 0&&(t=DC);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(o),i=r}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function $C(e){e===void 0&&(e={});var t=MC(null);return t.options=Kt({async:!0,ssr:!1},e),t}var Oy=function(e){var t=e.sideCar,r=Ay(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,Kt({},r))};Oy.isSideCarExport=!0;function FC(e,t){return e.useMedium(t),Oy}var Iy=$C(),tc=function(){},Za=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:tc,onWheelCapture:tc,onTouchMoveCapture:tc}),s=n[0],o=n[1],i=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,v=e.noIsolation,w=e.inert,x=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,g=e.gapMode,m=Ay(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=LC([r,t]),C=Kt(Kt({},m),s);return p.createElement(p.Fragment,null,d&&p.createElement(_,{sideCar:Iy,removeScrollBar:u,shards:f,noIsolation:v,inert:w,setCallbacks:o,allowPinchZoom:!!x,lockRef:r,gapMode:g}),i?p.cloneElement(p.Children.only(a),Kt(Kt({},C),{ref:S})):p.createElement(y,Kt({},C,{className:c,ref:S}),a))});Za.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Za.classNames={fullWidth:$i,zeroRight:Mi};var UC=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function zC(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=UC();return t&&e.setAttribute("nonce",t),e}function BC(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function VC(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var WC=function(){var e=0,t=null;return{add:function(r){e==0&&(t=zC())&&(BC(t,r),VC(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},HC=function(){var e=WC();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Ly=function(){var e=HC(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},qC={left:0,top:0,right:0,gap:0},rc=function(e){return parseInt(e||"",10)||0},KC=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[rc(r),rc(n),rc(s)]},GC=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return qC;var t=KC(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},YC=Ly(),cs="data-scroll-locked",QC=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(RC,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(cs,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Mi,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat($i,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Mi," .").concat(Mi,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat($i," .").concat($i,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(cs,`] {
    `).concat(AC,": ").concat(a,`px;
  }
`)},xp=function(){var e=parseInt(document.body.getAttribute(cs)||"0",10);return isFinite(e)?e:0},JC=function(){p.useEffect(function(){return document.body.setAttribute(cs,(xp()+1).toString()),function(){var e=xp()-1;e<=0?document.body.removeAttribute(cs):document.body.setAttribute(cs,e.toString())}},[])},XC=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;JC();var o=p.useMemo(function(){return GC(s)},[s]);return p.createElement(YC,{styles:QC(o,!t,s,r?"":"!important")})},wu=!1;if(typeof window!="undefined")try{var yi=Object.defineProperty({},"passive",{get:function(){return wu=!0,!0}});window.addEventListener("test",yi,yi),window.removeEventListener("test",yi,yi)}catch(e){wu=!1}var Fn=wu?{passive:!1}:!1,ZC=function(e){return e.tagName==="TEXTAREA"},Dy=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!ZC(e)&&r[t]==="visible")},eN=function(e){return Dy(e,"overflowY")},tN=function(e){return Dy(e,"overflowX")},wp=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot!="undefined"&&n instanceof ShadowRoot&&(n=n.host);var s=My(e,n);if(s){var o=$y(e,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},rN=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},nN=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},My=function(e,t){return e==="v"?eN(t):tN(t)},$y=function(e,t){return e==="v"?rN(t):nN(t)},sN=function(e,t){return e==="h"&&t==="rtl"?-1:1},oN=function(e,t,r,n,s){var o=sN(e,window.getComputedStyle(t).direction),i=o*n,a=r.target,c=t.contains(a),u=!1,d=i>0,f=0,h=0;do{var v=$y(e,a),w=v[0],x=v[1],b=v[2],y=x-b-o*w;(w||y)&&My(e,a)&&(f+=y,h+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},xi=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},bp=function(e){return[e.deltaX,e.deltaY]},_p=function(e){return e&&"current"in e?e.current:e},iN=function(e,t){return e[0]===t[0]&&e[1]===t[1]},aN=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},lN=0,Un=[];function cN(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(lN++)[0],o=p.useState(Ly)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=TC([e.lockRef.current],(e.shards||[]).map(_p),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=p.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var y=xi(x),g=r.current,m="deltaX"in x?x.deltaX:g[0]-y[0],_="deltaY"in x?x.deltaY:g[1]-y[1],S,C=x.target,P=Math.abs(m)>Math.abs(_)?"h":"v";if("touches"in x&&P==="h"&&C.type==="range")return!1;var k=wp(P,C);if(!k)return!0;if(k?S=P:(S=P==="v"?"h":"v",k=wp(P,C)),!k)return!1;if(!n.current&&"changedTouches"in x&&(m||_)&&(n.current=S),!S)return!0;var N=n.current||S;return oN(N,b,x,N==="h"?m:_,!0)},[]),c=p.useCallback(function(x){var b=x;if(!(!Un.length||Un[Un.length-1]!==o)){var y="deltaY"in b?bp(b):xi(b),g=t.current.filter(function(S){return S.name===b.type&&(S.target===b.target||b.target===S.shadowParent)&&iN(S.delta,y)})[0];if(g&&g.should){b.cancelable&&b.preventDefault();return}if(!g){var m=(i.current.shards||[]).map(_p).filter(Boolean).filter(function(S){return S.contains(b.target)}),_=m.length>0?a(b,m[0]):!i.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=p.useCallback(function(x,b,y,g){var m={name:x,delta:b,target:y,should:g,shadowParent:uN(y)};t.current.push(m),setTimeout(function(){t.current=t.current.filter(function(_){return _!==m})},1)},[]),d=p.useCallback(function(x){r.current=xi(x),n.current=void 0},[]),f=p.useCallback(function(x){u(x.type,bp(x),x.target,a(x,e.lockRef.current))},[]),h=p.useCallback(function(x){u(x.type,xi(x),x.target,a(x,e.lockRef.current))},[]);p.useEffect(function(){return Un.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Fn),document.addEventListener("touchmove",c,Fn),document.addEventListener("touchstart",d,Fn),function(){Un=Un.filter(function(x){return x!==o}),document.removeEventListener("wheel",c,Fn),document.removeEventListener("touchmove",c,Fn),document.removeEventListener("touchstart",d,Fn)}},[]);var v=e.removeScrollBar,w=e.inert;return p.createElement(p.Fragment,null,w?p.createElement(o,{styles:aN(s)}):null,v?p.createElement(XC,{gapMode:e.gapMode}):null)}function uN(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const dN=FC(Iy,cN);var Vd=p.forwardRef(function(e,t){return p.createElement(Za,Kt({},e,{ref:t,sideCar:dN}))});Vd.classNames=Za.classNames;var fN=function(e){if(typeof document=="undefined")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zn=new WeakMap,wi=new WeakMap,bi={},nc=0,Fy=function(e){return e&&(e.host||Fy(e.parentNode))},hN=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Fy(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},pN=function(e,t,r,n){var s=hN(t,Array.isArray(e)?e:[e]);bi[r]||(bi[r]=new WeakMap);var o=bi[r],i=[],a=new Set,c=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var v=h.getAttribute(n),w=v!==null&&v!=="false",x=(zn.get(h)||0)+1,b=(o.get(h)||0)+1;zn.set(h,x),o.set(h,b),i.push(h),x===1&&w&&wi.set(h,!0),b===1&&h.setAttribute(r,"true"),w||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),a.clear(),nc++,function(){i.forEach(function(f){var h=zn.get(f)-1,v=o.get(f)-1;zn.set(f,h),o.set(f,v),h||(wi.has(f)||f.removeAttribute(n),wi.delete(f)),v||f.removeAttribute(r)}),nc--,nc||(zn=new WeakMap,zn=new WeakMap,wi=new WeakMap,bi={})}},Uy=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=fN(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),pN(n,s,r,"aria-hidden")):function(){return null}},Wd="Dialog",[zy,vT]=Cs(Wd),[mN,Bt]=zy(Wd),By=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=p.useRef(null),c=p.useRef(null),[u=!1,d]=bn({prop:n,defaultProp:s,onChange:o});return l.jsx(mN,{scope:t,triggerRef:a,contentRef:c,contentId:pn(),titleId:pn(),descriptionId:pn(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};By.displayName=Wd;var Vy="DialogTrigger",Wy=p.forwardRef((e,t)=>{const i=e,{__scopeDialog:r}=i,n=L(i,["__scopeDialog"]),s=Bt(Vy,r),o=fe(t,s.triggerRef);return l.jsx(ee.button,R(E({type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Kd(s.open)},n),{ref:o,onClick:Y(e.onClick,s.onOpenToggle)}))});Wy.displayName=Vy;var Hd="DialogPortal",[gN,Hy]=zy(Hd,{forceMount:void 0}),qy=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=Bt(Hd,t);return l.jsx(gN,{scope:t,forceMount:r,children:p.Children.map(n,i=>l.jsx(Tn,{present:r||o.open,children:l.jsx(Ka,{asChild:!0,container:s,children:i})}))})};qy.displayName=Hd;var ga="DialogOverlay",Ky=p.forwardRef((e,t)=>{const r=Hy(ga,e.__scopeDialog),i=e,{forceMount:n=r.forceMount}=i,s=L(i,["forceMount"]),o=Bt(ga,e.__scopeDialog);return o.modal?l.jsx(Tn,{present:n||o.open,children:l.jsx(vN,R(E({},s),{ref:t}))}):null});Ky.displayName=ga;var vN=p.forwardRef((e,t)=>{const o=e,{__scopeDialog:r}=o,n=L(o,["__scopeDialog"]),s=Bt(ga,r);return l.jsx(Vd,{as:wn,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(ee.div,R(E({"data-state":Kd(s.open)},n),{ref:t,style:E({pointerEvents:"auto"},n.style)}))})}),_n="DialogContent",Gy=p.forwardRef((e,t)=>{const r=Hy(_n,e.__scopeDialog),i=e,{forceMount:n=r.forceMount}=i,s=L(i,["forceMount"]),o=Bt(_n,e.__scopeDialog);return l.jsx(Tn,{present:n||o.open,children:o.modal?l.jsx(yN,R(E({},s),{ref:t})):l.jsx(xN,R(E({},s),{ref:t}))})});Gy.displayName=_n;var yN=p.forwardRef((e,t)=>{const r=Bt(_n,e.__scopeDialog),n=p.useRef(null),s=fe(t,r.contentRef,n);return p.useEffect(()=>{const o=n.current;if(o)return Uy(o)},[]),l.jsx(Yy,R(E({},e),{ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Y(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Y(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:Y(e.onFocusOutside,o=>o.preventDefault())}))}),xN=p.forwardRef((e,t)=>{const r=Bt(_n,e.__scopeDialog),n=p.useRef(!1),s=p.useRef(!1);return l.jsx(Yy,R(E({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}}))}),Yy=p.forwardRef((e,t)=>{const d=e,{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o}=d,i=L(d,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),a=Bt(_n,r),c=p.useRef(null),u=fe(t,c);return Ry(),l.jsxs(l.Fragment,{children:[l.jsx(Bd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(qa,R(E({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Kd(a.open)},i),{ref:u,onDismiss:()=>a.onOpenChange(!1)}))}),l.jsxs(l.Fragment,{children:[l.jsx(wN,{titleId:a.titleId}),l.jsx(_N,{contentRef:c,descriptionId:a.descriptionId})]})]})}),qd="DialogTitle",Qy=p.forwardRef((e,t)=>{const o=e,{__scopeDialog:r}=o,n=L(o,["__scopeDialog"]),s=Bt(qd,r);return l.jsx(ee.h2,R(E({id:s.titleId},n),{ref:t}))});Qy.displayName=qd;var Jy="DialogDescription",Xy=p.forwardRef((e,t)=>{const o=e,{__scopeDialog:r}=o,n=L(o,["__scopeDialog"]),s=Bt(Jy,r);return l.jsx(ee.p,R(E({id:s.descriptionId},n),{ref:t}))});Xy.displayName=Jy;var Zy="DialogClose",ex=p.forwardRef((e,t)=>{const o=e,{__scopeDialog:r}=o,n=L(o,["__scopeDialog"]),s=Bt(Zy,r);return l.jsx(ee.button,R(E({type:"button"},n),{ref:t,onClick:Y(e.onClick,()=>s.onOpenChange(!1))}))});ex.displayName=Zy;function Kd(e){return e?"open":"closed"}var tx="DialogTitleWarning",[yT,rx]=sk(tx,{contentName:_n,titleName:qd,docsSlug:"dialog"}),wN=({titleId:e})=>{const t=rx(tx),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},bN="DialogDescriptionWarning",_N=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${rx(bN).contentName}}.`;return p.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},SN=By,jN=Wy,kN=qy,nx=Ky,sx=Gy,ox=Qy,ix=Xy,EN=ex;const el=SN,tl=jN,CN=kN,ax=p.forwardRef((n,r)=>{var s=n,{className:e}=s,t=L(s,["className"]);return l.jsx(nx,E({ref:r,className:ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e)},t))});ax.displayName=nx.displayName;const Vo=p.forwardRef((s,n)=>{var o=s,{className:e,children:t}=o,r=L(o,["className","children"]);return l.jsxs(CN,{children:[l.jsx(ax,{}),l.jsxs(sx,R(E({ref:n,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e)},r),{children:[t,l.jsxs(EN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Ud,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})});Vo.displayName=sx.displayName;const Wo=r=>{var n=r,{className:e}=n,t=L(n,["className"]);return l.jsx("div",E({className:ne("flex flex-col space-y-1.5 text-center sm:text-left",e)},t))};Wo.displayName="DialogHeader";const Ho=p.forwardRef((n,r)=>{var s=n,{className:e}=s,t=L(s,["className"]);return l.jsx(ox,E({ref:r,className:ne("text-lg font-semibold leading-none tracking-tight",e)},t))});Ho.displayName=ox.displayName;const NN=p.forwardRef((n,r)=>{var s=n,{className:e}=s,t=L(s,["className"]);return l.jsx(ix,E({ref:r,className:ne("text-sm text-muted-foreground",e)},t))});NN.displayName=ix.displayName;function PN(e,t=[]){let r=[];function n(o,i){const a=p.createContext(i),c=r.length;r=[...r,i];function u(f){const y=f,{scope:h,children:v}=y,w=L(y,["scope","children"]),x=(h==null?void 0:h[e][c])||a,b=p.useMemo(()=>w,Object.values(w));return l.jsx(x.Provider,{value:b,children:v})}function d(f,h){const v=(h==null?void 0:h[e][c])||a,w=p.useContext(v);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=r.map(i=>p.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return p.useMemo(()=>({[`__scope${e}`]:R(E({},a),{[e]:c})}),[a,c])}};return s.scopeName=e,[n,TN(s,...t)]}function TN(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return E(E({},a),f)},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var RN=p.createContext(void 0);function Gd(e){const t=p.useContext(RN);return e||t||"ltr"}var sc="rovingFocusGroup.onEntryFocus",AN={bubbles:!1,cancelable:!0},rl="RovingFocusGroup",[bu,lx,ON]=Ld(rl),[IN,cx]=PN(rl,[ON]),[LN,DN]=IN(rl),ux=p.forwardRef((e,t)=>l.jsx(bu.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(bu.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(MN,R(E({},e),{ref:t}))})}));ux.displayName=rl;var MN=p.forwardRef((e,t)=>{const k=e,{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1}=k,f=L(k,["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus"]),h=p.useRef(null),v=fe(t,h),w=Gd(o),[x=null,b]=bn({prop:i,defaultProp:a,onChange:c}),[y,g]=p.useState(!1),m=ct(u),_=lx(r),S=p.useRef(!1),[C,P]=p.useState(0);return p.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(sc,m),()=>N.removeEventListener(sc,m)},[m]),l.jsx(LN,{scope:r,orientation:n,dir:w,loop:s,currentTabStopId:x,onItemFocus:p.useCallback(N=>b(N),[b]),onItemShiftTab:p.useCallback(()=>g(!0),[]),onFocusableItemAdd:p.useCallback(()=>P(N=>N+1),[]),onFocusableItemRemove:p.useCallback(()=>P(N=>N-1),[]),children:l.jsx(ee.div,R(E({tabIndex:y||C===0?-1:0,"data-orientation":n},f),{ref:v,style:E({outline:"none"},e.style),onMouseDown:Y(e.onMouseDown,()=>{S.current=!0}),onFocus:Y(e.onFocus,N=>{const A=!S.current;if(N.target===N.currentTarget&&A&&!y){const $=new CustomEvent(sc,AN);if(N.currentTarget.dispatchEvent($),!$.defaultPrevented){const T=_().filter(G=>G.focusable),D=T.find(G=>G.active),W=T.find(G=>G.id===x),B=[D,W,...T].filter(Boolean).map(G=>G.ref.current);hx(B,d)}}S.current=!1}),onBlur:Y(e.onBlur,()=>g(!1))}))})}),dx="RovingFocusGroupItem",fx=p.forwardRef((e,t)=>{const w=e,{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o}=w,i=L(w,["__scopeRovingFocusGroup","focusable","active","tabStopId"]),a=pn(),c=o||a,u=DN(dx,r),d=u.currentTabStopId===c,f=lx(r),{onFocusableItemAdd:h,onFocusableItemRemove:v}=u;return p.useEffect(()=>{if(n)return h(),()=>v()},[n,h,v]),l.jsx(bu.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:l.jsx(ee.span,R(E({tabIndex:d?0:-1,"data-orientation":u.orientation},i),{ref:t,onMouseDown:Y(e.onMouseDown,x=>{n?u.onItemFocus(c):x.preventDefault()}),onFocus:Y(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Y(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=UN(x,u.orientation,u.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let g=f().filter(m=>m.focusable).map(m=>m.ref.current);if(b==="last")g.reverse();else if(b==="prev"||b==="next"){b==="prev"&&g.reverse();const m=g.indexOf(x.currentTarget);g=u.loop?zN(g,m+1):g.slice(m+1)}setTimeout(()=>hx(g))}})}))})});fx.displayName=dx;var $N={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function FN(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function UN(e,t,r){const n=FN(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return $N[n]}function hx(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function zN(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var BN=ux,VN=fx;function Yd(e){const[t,r]=p.useState(void 0);return Qe(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;r({width:i,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}function Qd(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Jd="Radio",[WN,px]=Cs(Jd),[HN,qN]=WN(Jd),mx=p.forwardRef((e,t)=>{const b=e,{__scopeRadio:r,name:n,checked:s=!1,required:o,disabled:i,value:a="on",onCheck:c,form:u}=b,d=L(b,["__scopeRadio","name","checked","required","disabled","value","onCheck","form"]),[f,h]=p.useState(null),v=fe(t,y=>h(y)),w=p.useRef(!1),x=f?u||!!f.closest("form"):!0;return l.jsxs(HN,{scope:r,checked:s,disabled:i,children:[l.jsx(ee.button,R(E({type:"button",role:"radio","aria-checked":s,"data-state":yx(s),"data-disabled":i?"":void 0,disabled:i,value:a},d),{ref:v,onClick:Y(e.onClick,y=>{s||c==null||c(),x&&(w.current=y.isPropagationStopped(),w.current||y.stopPropagation())})})),x&&l.jsx(KN,{control:f,bubbles:!w.current,name:n,value:a,checked:s,required:o,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});mx.displayName=Jd;var gx="RadioIndicator",vx=p.forwardRef((e,t)=>{const i=e,{__scopeRadio:r,forceMount:n}=i,s=L(i,["__scopeRadio","forceMount"]),o=qN(gx,r);return l.jsx(Tn,{present:n||o.checked,children:l.jsx(ee.span,R(E({"data-state":yx(o.checked),"data-disabled":o.disabled?"":void 0},s),{ref:t}))})});vx.displayName=gx;var KN=e=>{const c=e,{control:t,checked:r,bubbles:n=!0}=c,s=L(c,["control","checked","bubbles"]),o=p.useRef(null),i=Qd(r),a=Yd(t);return p.useEffect(()=>{const u=o.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==r&&h){const v=new Event("click",{bubbles:n});h.call(u,r),u.dispatchEvent(v)}},[i,r,n]),l.jsx("input",R(E({type:"radio","aria-hidden":!0,defaultChecked:r},s),{tabIndex:-1,ref:o,style:R(E(E({},e.style),a),{position:"absolute",pointerEvents:"none",opacity:0,margin:0})}))};function yx(e){return e?"checked":"unchecked"}var GN=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Xd="RadioGroup",[YN,xT]=Cs(Xd,[cx,px]),xx=cx(),wx=px(),[QN,JN]=YN(Xd),bx=p.forwardRef((e,t)=>{const y=e,{__scopeRadioGroup:r,name:n,defaultValue:s,value:o,required:i=!1,disabled:a=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f}=y,h=L(y,["__scopeRadioGroup","name","defaultValue","value","required","disabled","orientation","dir","loop","onValueChange"]),v=xx(r),w=Gd(u),[x,b]=bn({prop:o,defaultProp:s,onChange:f});return l.jsx(QN,{scope:r,name:n,required:i,disabled:a,value:x,onValueChange:b,children:l.jsx(BN,R(E({asChild:!0},v),{orientation:c,dir:w,loop:d,children:l.jsx(ee.div,R(E({role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":a?"":void 0,dir:w},h),{ref:t}))}))})});bx.displayName=Xd;var _x="RadioGroupItem",Sx=p.forwardRef((e,t)=>{const v=e,{__scopeRadioGroup:r,disabled:n}=v,s=L(v,["__scopeRadioGroup","disabled"]),o=JN(_x,r),i=o.disabled||n,a=xx(r),c=wx(r),u=p.useRef(null),d=fe(t,u),f=o.value===s.value,h=p.useRef(!1);return p.useEffect(()=>{const w=b=>{GN.includes(b.key)&&(h.current=!0)},x=()=>h.current=!1;return document.addEventListener("keydown",w),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",w),document.removeEventListener("keyup",x)}},[]),l.jsx(VN,R(E({asChild:!0},a),{focusable:!i,active:f,children:l.jsx(mx,R(E(E({disabled:i,required:o.required,checked:f},c),s),{name:o.name,ref:d,onCheck:()=>o.onValueChange(s.value),onKeyDown:Y(w=>{w.key==="Enter"&&w.preventDefault()}),onFocus:Y(s.onFocus,()=>{var w;h.current&&((w=u.current)==null||w.click())})}))}))});Sx.displayName=_x;var XN="RadioGroupIndicator",jx=p.forwardRef((e,t)=>{const o=e,{__scopeRadioGroup:r}=o,n=L(o,["__scopeRadioGroup"]),s=wx(r);return l.jsx(vx,R(E(E({},s),n),{ref:t}))});jx.displayName=XN;var kx=bx,Ex=Sx,ZN=jx;const Cx=p.forwardRef((n,r)=>{var s=n,{className:e}=s,t=L(s,["className"]);return l.jsx(kx,R(E({className:ne("grid gap-2",e)},t),{ref:r}))});Cx.displayName=kx.displayName;const Nx=p.forwardRef((n,r)=>{var s=n,{className:e}=s,t=L(s,["className"]);return l.jsx(Ex,R(E({ref:r,className:ne("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e)},t),{children:l.jsx(ZN,{className:"flex items-center justify-center",children:l.jsx(Wk,{className:"h-2.5 w-2.5 fill-current text-current"})})}))});Nx.displayName=Ex.displayName;const eP=({videoId:e,children:t})=>{const[r,n]=p.useState(!1),[s,o]=p.useState(""),[i,a]=p.useState(""),[c,u]=p.useState(!1),{toast:d}=Zr(),f=v=>j(void 0,null,function*(){var w;if(v.preventDefault(),!s){d({title:"Category required",description:"Please select a reason for reporting",variant:"destructive"});return}u(!0);try{const{data:x}=yield z.auth.getUser();if(!x.user){d({title:"Authentication required",description:"Please log in to report content",variant:"destructive"}),u(!1);return}const{error:b}=yield z.from("content_reports").insert({video_id:e,reporter_id:x.user.id,reason:((w=fp.find(y=>y.value===s))==null?void 0:w.label)||s,category:s,description:i.trim()||null});b?b.code==="23505"?d({title:"Already reported",description:"You have already reported this content. Thank you for helping keep our community safe.",variant:"destructive"}):(console.error("Error submitting report:",b),d({title:"Error submitting report",description:"Please try again later",variant:"destructive"})):(d({title:"Report submitted",description:"Thank you for helping keep our community safe. We'll review this content within 24 hours."}),n(!1),o(""),a(""))}catch(x){console.error("Error submitting report:",x),d({title:"Error submitting report",description:"Please try again later",variant:"destructive"})}finally{u(!1)}}),h=()=>{o(""),a("")};return l.jsxs(el,{open:r,onOpenChange:v=>{n(v),v||h()},children:[l.jsx(tl,{asChild:!0,children:t||l.jsxs(q,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-destructive",children:[l.jsx(cy,{className:"w-4 h-4 mr-1"}),"Report"]})}),l.jsxs(Vo,{className:"sm:max-w-md",children:[l.jsx(Wo,{children:l.jsxs(Ho,{className:"flex items-center gap-2",children:[l.jsx(ap,{className:"w-5 h-5 text-orange-500"}),"Report Content"]})}),l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx(we,{className:"text-sm font-medium",children:"Why are you reporting this content?"}),l.jsx(Cx,{value:s,onValueChange:o,children:fp.map(v=>l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Nx,{value:v.value,id:v.value,className:"mt-1"}),l.jsxs("div",{className:"grid gap-1.5 leading-none",children:[l.jsx(we,{htmlFor:v.value,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:v.label}),l.jsx("p",{className:"text-xs text-muted-foreground",children:v.description})]})]},v.value))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"description",className:"text-sm font-medium",children:"Additional details (optional)"}),l.jsx(Rn,{id:"description",value:i,onChange:v=>a(v.target.value),placeholder:"Provide more details about why you're reporting this content...",className:"min-h-[80px] resize-none",maxLength:500}),l.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[i.length,"/500"]})]}),l.jsx("div",{className:"bg-muted/50 p-3 rounded-lg",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(ap,{className:"w-4 h-4 text-orange-500 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.jsx("p",{className:"font-medium mb-1",children:"Please note:"}),l.jsxs("ul",{className:"space-y-1",children:[l.jsx("li",{children:" Reports are reviewed within 24 hours"}),l.jsx("li",{children:" False reports may result in account restrictions"}),l.jsx("li",{children:" Your report will remain anonymous to the content creator"})]})]})]})}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[l.jsx(q,{type:"button",variant:"outline",onClick:()=>n(!1),disabled:c,children:"Cancel"}),l.jsx(q,{type:"submit",disabled:c||!s,className:"bg-destructive hover:bg-destructive/90",children:c?"Submitting...":"Submit Report"})]})]})]})]})},tP=({videoId:e,removalReason:t,children:r})=>{const[n,s]=p.useState(!1),[o,i]=p.useState(""),[a,c]=p.useState(!1),{toast:u}=Zr(),d=h=>j(void 0,null,function*(){if(h.preventDefault(),!o.trim()){u({title:"Appeal reason required",description:"Please explain why you believe this decision should be reversed",variant:"destructive"});return}if(o.trim().length<20){u({title:"Appeal too short",description:"Please provide at least 20 characters explaining your appeal",variant:"destructive"});return}c(!0);try{const{data:v}=yield z.auth.getUser();if(!v.user){u({title:"Authentication required",description:"Please log in to submit an appeal",variant:"destructive"}),c(!1);return}const{data:w,error:x}=yield z.from("videos").select("user_id").eq("id",e).single();if(x||!w){u({title:"Video not found",description:"Unable to find the video to appeal",variant:"destructive"}),c(!1);return}if(w.user_id!==v.user.id){u({title:"Not authorized",description:"You can only appeal your own content",variant:"destructive"}),c(!1);return}const{data:b}=yield z.from("content_appeals").select("id, status").eq("video_id",e).eq("user_id",v.user.id).single();if(b){const g=b.status==="pending"?"pending review":b.status;u({title:"Appeal already submitted",description:`You have already submitted an appeal for this content. Status: ${g}`,variant:"destructive"}),c(!1);return}const{error:y}=yield z.from("content_appeals").insert({video_id:e,user_id:v.user.id,appeal_reason:o.trim()});y?(console.error("Error submitting appeal:",y),u({title:"Error submitting appeal",description:"Please try again later",variant:"destructive"})):(u({title:"Appeal submitted",description:"Your appeal has been submitted and will be reviewed within 48 hours. You'll receive an email notification with the decision."}),s(!1),i(""))}catch(v){console.error("Error submitting appeal:",v),u({title:"Error submitting appeal",description:"Please try again later",variant:"destructive"})}finally{c(!1)}}),f=()=>{i("")};return l.jsxs(el,{open:n,onOpenChange:h=>{s(h),h||f()},children:[l.jsx(tl,{asChild:!0,children:r||l.jsxs(q,{variant:"outline",size:"sm",className:"text-blue-600 hover:text-blue-700",children:[l.jsx(vu,{className:"w-4 h-4 mr-1"}),"Appeal Decision"]})}),l.jsxs(Vo,{className:"sm:max-w-lg",children:[l.jsx(Wo,{children:l.jsxs(Ho,{className:"flex items-center gap-2",children:[l.jsx(vu,{className:"w-5 h-5 text-blue-500"}),"Appeal Content Decision"]})}),l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[t&&l.jsx("div",{className:"bg-destructive/10 border border-destructive/20 p-3 rounded-lg",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(op,{className:"w-4 h-4 text-destructive mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-destructive mb-1",children:"Content was flagged for:"}),l.jsx("p",{className:"text-sm text-destructive/80",children:t})]})]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"appealReason",className:"text-sm font-medium",children:"Why do you believe this decision should be reversed? *"}),l.jsx(Rn,{id:"appealReason",value:o,onChange:h=>i(h.target.value),placeholder:"Please explain why you believe your content was incorrectly flagged or removed. Be specific about why you think it follows our community guidelines...",className:"min-h-[120px] resize-none",required:!0,maxLength:1e3}),l.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[o.length,"/1000 characters"]})]}),l.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-3 rounded-lg border border-blue-200 dark:border-blue-800",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(op,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"text-xs text-blue-700 dark:text-blue-300",children:[l.jsx("p",{className:"font-medium mb-2",children:"Appeal Process:"}),l.jsxs("ul",{className:"space-y-1",children:[l.jsx("li",{children:" Appeals are reviewed by human moderators within 48 hours"}),l.jsx("li",{children:" You can only submit one appeal per piece of content"}),l.jsx("li",{children:" Decisions are based on our community guidelines"}),l.jsx("li",{children:" You'll receive an email notification with the decision"}),l.jsx("li",{children:" If approved, your content will be restored immediately"})]})]})]})}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[l.jsx(q,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:a,children:"Cancel"}),l.jsx(q,{type:"submit",disabled:a||o.trim().length<20,className:"bg-blue-600 hover:bg-blue-700",children:a?"Submitting...":"Submit Appeal"})]})]})]})]})},rP=e=>{const[t,r]=p.useState([]),[n,s]=p.useState([]),[o,i]=p.useState(!1),[a,c]=p.useState(!0);p.useEffect(()=>{u()},[e]);const u=()=>j(void 0,null,function*(){try{c(!0);const{data:{user:h}}=yield z.auth.getUser(),{data:v}=yield z.from("video_comments").select(`
          id,
          content,
          user_id,
          created_at
        `).eq("video_id",e).order("created_at",{ascending:!0});let w=[];if(v){const y=v.map(g=>j(void 0,null,function*(){const{data:m}=yield z.from("profiles").select("username, display_name").eq("user_id",g.user_id).single();return R(E({},g),{profiles:m})}));w=yield Promise.all(y)}const{data:x}=yield z.from("video_likes").select("id, user_id").eq("video_id",e),b=h&&(x==null?void 0:x.some(y=>y.user_id===h.id));r(w),s(x||[]),i(!!b)}catch(h){console.error("Error fetching video data:",h)}finally{c(!1)}});return{comments:t,likes:n,isLiked:o,loading:a,addComment:h=>j(void 0,null,function*(){try{const{data:{user:v}}=yield z.auth.getUser();if(!v)return!1;const{error:w}=yield z.from("video_comments").insert({video_id:e,user_id:v.id,content:h.trim()});return w?(console.error("Error adding comment:",w),!1):(yield u(),!0)}catch(v){return console.error("Error adding comment:",v),!1}}),toggleLike:()=>j(void 0,null,function*(){const{data:{user:h}}=yield z.auth.getUser();if(h)if(o){const{error:v}=yield z.from("video_likes").delete().eq("video_id",e).eq("user_id",h.id);v||(i(!1),s(w=>w.filter(x=>x.user_id!==h.id)))}else{const{error:v}=yield z.from("video_likes").insert({video_id:e,user_id:h.id});v||(i(!0),s(w=>[...w,{id:"",user_id:h.id}]))}}),likesCount:n.length}},nP=({videos:e,initialIndex:t=0,onBack:r})=>{var A,$;const[n,s]=p.useState(t),[o,i]=p.useState(!1),[a,c]=p.useState(""),[u,d]=p.useState(null),{toast:f}=Zr(),h=p.useRef(null),v=e[n],w=100,{comments:x,likes:b,isLiked:y,loading:g,addComment:m,toggleLike:_,likesCount:S}=rP((v==null?void 0:v.id)||"");p.useEffect(()=>{j(void 0,null,function*(){const{data:{user:D}}=yield z.auth.getUser();d(D)})},[]),p.useEffect(()=>{i(!1),c("")},[n]);const C=T=>{T==="next"?n<e.length-1?s(n+1):s(0):T==="prev"&&n>0&&s(n-1)},P=()=>{C("next")},k=()=>j(void 0,null,function*(){a.trim()&&((yield m(a))?(c(""),f({title:"Comment added!",duration:2e3})):f({title:"Failed to add comment",description:"Please try again",variant:"destructive",duration:3e3}))}),N=()=>j(void 0,null,function*(){if(!(!u||u.id!==v.user_id)&&confirm("Are you sure you want to delete this video?"))try{const{error:T}=yield z.from("videos").delete().eq("id",v.id);if(T)throw T;f({title:"Video deleted",duration:2e3}),r()}catch(T){f({title:"Failed to delete video",description:"Please try again",variant:"destructive",duration:3e3})}});return p.useEffect(()=>{let T=0,D=0;const W=G=>{T=G.touches[0].clientX,D=G.touches[0].clientY},M=G=>{const O=G.changedTouches[0].clientX,I=G.changedTouches[0].clientY,U=T-O,V=D-I;Math.abs(U)>Math.abs(V)&&Math.abs(U)>50&&(U>0?C("next"):C("prev"))},B=h.current;if(B)return B.addEventListener("touchstart",W),B.addEventListener("touchend",M),()=>{B.removeEventListener("touchstart",W),B.removeEventListener("touchend",M)}},[n,e.length]),l.jsxs("div",{ref:h,className:"fixed inset-0 bg-black z-50 flex flex-col",children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 z-10 bg-gradient-to-b from-black/60 to-transparent p-4 header-safe",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(q,{variant:"ghost",size:"sm",onClick:r,className:"text-white hover:bg-white/20",children:l.jsx(Mt,{className:"w-5 h-5"})}),l.jsxs("div",{className:"text-white text-center flex-1",children:[l.jsx("div",{className:"text-xl font-bold",children:v.location||"Unknown Location"}),l.jsx("div",{className:"text-sm text-white/80",children:((A=v.profiles)==null?void 0:A.display_name)||(($=v.profiles)==null?void 0:$.username)||"Unknown User"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[(u==null?void 0:u.id)===v.user_id&&l.jsx(q,{variant:"ghost",size:"sm",onClick:N,className:"text-white hover:bg-red-500/20",children:l.jsx(Fd,{className:"w-5 h-5"})}),(u==null?void 0:u.id)!==v.user_id&&l.jsx(eP,{videoId:v.id,children:l.jsx(q,{variant:"ghost",size:"sm",className:"text-white hover:bg-red-500/20",children:l.jsx(cy,{className:"w-5 h-5"})})}),(u==null?void 0:u.id)===v.user_id&&(v.moderation_status==="flagged"||v.is_hidden)&&l.jsx(tP,{videoId:v.id,removalReason:v.removal_reason,children:l.jsx(q,{variant:"ghost",size:"sm",className:"text-white hover:bg-blue-500/20",children:l.jsx(vu,{className:"w-5 h-5"})})}),l.jsx(q,{variant:"ghost",size:"sm",onClick:()=>{navigator.share?navigator.share({title:v.title||"Check out this video",url:window.location.href}):(navigator.clipboard.writeText(window.location.href),f({title:"Link copied to clipboard",duration:2e3}))},className:"text-white hover:bg-white/20",children:l.jsx(fy,{className:"w-5 h-5"})})]})]})}),l.jsxs("div",{className:"flex-1 relative bg-black",children:[l.jsx(wC,{videoUrl:v.video_url,onVideoEnd:P,autoPlay:!0,className:"w-full h-full object-contain"}),l.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-4",children:n>0&&l.jsx(q,{variant:"ghost",size:"sm",onClick:()=>C("prev"),className:"text-white hover:bg-white/20 bg-black/20",children:l.jsx(Mt,{className:"w-6 h-6"})})}),l.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4",children:l.jsx(q,{variant:"ghost",size:"sm",onClick:()=>C("next"),className:"text-white hover:bg-white/20 bg-black/20",children:l.jsx(Mt,{className:"w-6 h-6 rotate-180"})})})]}),l.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 pb-safe-only",children:[(v.title||v.description)&&l.jsxs("div",{className:"text-white mb-4",children:[v.title&&l.jsx("p",{className:"text-lg font-medium mb-1",children:v.title}),v.description&&l.jsx("p",{className:"text-sm text-white/80",children:v.description})]}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(xC,{size:"lg",isLiked:y,onLike:_}),l.jsx("span",{className:"text-white text-sm",children:S})]}),l.jsxs(q,{variant:"ghost",size:"sm",onClick:()=>i(!o),className:"text-white hover:bg-white/20",children:[l.jsx(Zk,{className:"w-5 h-5"}),l.jsx("span",{className:"ml-1 text-sm",children:x.length})]})]}),l.jsxs("div",{className:"text-white text-sm",children:[n+1," / ",e.length]})]}),o&&l.jsx(ae,{className:"mb-4 max-h-80 flex flex-col",children:l.jsxs(ge,{className:"p-4 flex-1 flex flex-col",children:[l.jsx("div",{className:"flex-1 overflow-y-auto mb-4 max-h-40",children:g?l.jsx("div",{className:"text-muted-foreground text-sm",children:"Loading comments..."}):x.length>0?l.jsx("div",{className:"space-y-3",children:x.map(T=>{var D,W;return l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium text-foreground",children:((D=T.profiles)==null?void 0:D.display_name)||((W=T.profiles)==null?void 0:W.username)||"Anonymous"}),l.jsx("div",{className:"text-muted-foreground",children:T.content})]},T.id)})}):l.jsx("div",{className:"text-muted-foreground text-sm",children:"No comments yet. Be the first!"})}),l.jsxs("div",{className:"flex items-end gap-2 border-t pt-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx(Rn,{placeholder:"Add a thoughtful comment (max 100 characters)...",value:a,onChange:T=>c(T.target.value.slice(0,w)),className:"min-h-20 resize-none border-velyar-earth/20 focus:border-velyar-earth",maxLength:w}),l.jsxs("div",{className:"text-xs text-muted-foreground mt-1 text-right",children:[a.length,"/",w," characters"]})]}),l.jsx(q,{onClick:k,disabled:!a.trim(),className:"bg-velyar-warm hover:bg-velyar-glow text-velyar-earth",children:"Send"})]})]})})]})]})},sP=()=>{const{type:e,id:t}=Nd(),r=zt(),[n]=m_(),[s,o]=p.useState(!!t),[i,a]=p.useState([]),[c,u]=p.useState(!0);p.useEffect(()=>{d()},[e,t]);const d=()=>j(void 0,null,function*(){try{u(!0);let h=z.from("videos").select("*").eq("is_public",!0).order("created_at",{ascending:!1});e==="mission"&&t?h=h.eq("mission_id",t):e==="daily-prompt"&&t&&(h=h.eq("daily_prompt_id",t),console.log("Videos: Fetching videos for daily prompt ID:",t)),console.log("Videos: Executing query for type:",e,"id:",t);const{data:v,error:w}=yield h;if(w)throw console.error("Videos: Query error:",w),w;console.log("Videos: Query result count:",(v==null?void 0:v.length)||0);const x=[];if(v)for(const b of v){const{data:y}=yield z.from("profiles").select("username, display_name").eq("user_id",b.user_id).single();x.push(R(E({},b),{profiles:y}))}a(x)}catch(h){console.error("Error fetching videos:",h)}finally{u(!1)}});p.useEffect(()=>{!t&&e?r(`/video-list/${e}`):!t&&!e&&r("/")},[t,e,r]);const f=()=>{var h,v;if(e==="daily-prompt"&&i.length>0){const w=(h=i.find(x=>x.daily_prompt_id))==null?void 0:h.daily_prompt_id;r(w?`/video-list/daily-prompt/${w}`:"/")}else if(e==="mission"&&i.length>0){const w=(v=i.find(x=>x.mission_id))==null?void 0:v.mission_id;r(w?`/video-list/mission/${w}`:"/missions")}else e&&i.length>0?r(`/video-list/${e}`):r(-1)};if(c)return l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsx("div",{className:"text-center text-muted-foreground",children:"Loading video..."})});if(t&&!c&&i.length===0)return l.jsxs("div",{className:"min-h-screen-safe bg-background font-quicksand content-safe-bottom",children:[l.jsx("header",{className:"sticky-header header-safe",children:l.jsxs("div",{className:"max-w-md mx-auto px-4 py-3 flex items-center gap-3",children:[l.jsx(q,{variant:"ghost",size:"sm",onClick:f,className:"p-2 text-velyar-earth hover:bg-velyar-soft",children:l.jsx(Mt,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl font-medium text-velyar-earth font-nunito",children:e==="daily-prompt"?"daily prompt responses":e==="mission"?"mission voices":"videos"})]})}),l.jsx("main",{className:"max-w-md mx-auto px-4 pb-24",children:l.jsxs("div",{className:"mt-8 text-center text-muted-foreground",children:[l.jsxs("p",{children:["No videos found for this ",e==="mission"?"mission":"prompt"," yet."]}),l.jsx("p",{className:"text-sm mt-2",children:"Be the first to share!"})]})})]});if(t&&s&&i.length>0){const h=n.get("video");let v=0;return h?v=i.findIndex(w=>w.id===h):v=i.findIndex(w=>w.id===t),v===-1?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsx("div",{className:"text-center text-muted-foreground",children:"Video not found"})}):l.jsx(nP,{videos:i,initialIndex:v,onBack:f})}return null},oP=()=>{const e=zt(),{user:t,loading:r,signOut:n}=Id(),{profile:s,userStats:o,contributions:i,location:a,loading:c}=Py(t==null?void 0:t.id);if(c)return l.jsx("div",{className:"min-h-screen-safe bg-background font-quicksand flex items-center justify-center",children:l.jsx("div",{className:"text-center",children:l.jsx("div",{className:"text-lg font-medium text-foreground font-nunito",children:"Loading..."})})});const u=(s==null?void 0:s.display_name)||(s==null?void 0:s.username)||"storyteller",d=t!=null&&t.created_at?new Date(t.created_at).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"recently",f=()=>j(void 0,null,function*(){yield n()});return l.jsxs("div",{className:"min-h-screen-safe bg-background font-quicksand content-safe-bottom",children:[l.jsx("header",{className:"sticky-header header-safe",children:l.jsxs("div",{className:"max-w-md mx-auto px-4 py-3 flex items-center gap-3",children:[l.jsx(q,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>e(-1),children:l.jsx(Mt,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl font-medium text-foreground font-nunito",children:"your profile"}),l.jsx(q,{variant:"ghost",size:"sm",className:"p-2 ml-auto",children:l.jsx(fy,{className:"w-5 h-5"})})]})}),l.jsxs("main",{className:"max-w-md mx-auto px-4 pb-24",children:[l.jsx("section",{className:"mt-6",children:l.jsx(ae,{className:"bg-gradient-soft border-0 shadow-gentle",children:l.jsxs(ge,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-velyar-warm rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("span",{className:"text-2xl",children:""})}),l.jsx("h2",{className:"text-lg font-medium text-foreground mb-1 font-nunito",children:u}),l.jsxs("div",{className:"flex items-center justify-center gap-1 text-sm text-muted-foreground mb-3",children:[l.jsx(Bo,{className:"w-4 h-4"}),l.jsx("span",{children:a||"location not set"})]}),l.jsxs("div",{className:"flex items-center justify-center gap-1 text-sm text-muted-foreground",children:[l.jsx(iy,{className:"w-4 h-4"}),l.jsxs("span",{children:["joined ",d]})]})]})})}),l.jsx("section",{className:"mt-6",children:l.jsx(ae,{className:"border-0 shadow-gentle",children:l.jsxs(ge,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-foreground mb-4 font-nunito",children:"your impact"}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-medium text-velyar-earth font-nunito",children:o.mediaShared}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"media shared"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-medium text-velyar-earth font-nunito",children:o.octosReceived}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"octos received"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-medium text-velyar-earth font-nunito",children:o.countriesReached}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"countries reached"})]})]})]})})}),l.jsxs("section",{className:"mt-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-medium text-foreground font-nunito",children:"mission contributions"}),l.jsx(ze,{to:"/contributions",children:l.jsx(q,{variant:"ghost",size:"sm",className:"text-velyar-brown hover:bg-velyar-brown/10",children:"view all"})})]}),l.jsx("div",{className:"space-y-3",children:i.slice(0,3).map((h,v)=>l.jsx(ae,{className:"border-0 shadow-gentle",children:l.jsx(ge,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-foreground font-nunito",children:h.mission}),l.jsx("p",{className:"text-xs text-muted-foreground",children:h.date})]}),l.jsx(Fr,{variant:"secondary",className:"text-xs",children:h.type})]})})},v))})]}),l.jsx("section",{className:"mt-8",children:l.jsx(ae,{className:"border-0 shadow-gentle",children:l.jsxs(ge,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-foreground mb-4 font-nunito",children:"settings"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(q,{variant:"ghost",className:"w-full justify-start text-sm gap-2",children:[l.jsx(tE,{className:"w-4 h-4"}),"notification preferences"]}),l.jsx(ze,{to:"/privacy",className:"w-full",children:l.jsxs(q,{variant:"ghost",className:"w-full justify-start text-sm gap-2",children:[l.jsx(rE,{className:"w-4 h-4"}),"privacy & safety"]})}),l.jsxs(q,{variant:"ghost",className:"w-full justify-start text-sm gap-2",children:[l.jsx(uy,{className:"w-4 h-4"}),"general"]}),l.jsx(q,{variant:"ghost",className:"w-full justify-start text-sm text-destructive hover:bg-destructive/10",onClick:f,children:"sign out"})]})]})})})]})]})};function Sp(e,[t,r]){return Math.min(r,Math.max(t,e))}const iP=["top","right","bottom","left"],Vr=Math.min,ht=Math.max,va=Math.round,_i=Math.floor,Wr=e=>({x:e,y:e}),aP={left:"right",right:"left",bottom:"top",top:"bottom"},lP={start:"end",end:"start"};function _u(e,t,r){return ht(e,Vr(t,r))}function dr(e,t){return typeof e=="function"?e(t):e}function fr(e){return e.split("-")[0]}function Rs(e){return e.split("-")[1]}function Zd(e){return e==="x"?"y":"x"}function ef(e){return e==="y"?"height":"width"}function Hr(e){return["top","bottom"].includes(fr(e))?"y":"x"}function tf(e){return Zd(Hr(e))}function cP(e,t,r){r===void 0&&(r=!1);const n=Rs(e),s=tf(e),o=ef(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=ya(i)),[i,ya(i)]}function uP(e){const t=ya(e);return[Su(e),t,Su(t)]}function Su(e){return e.replace(/start|end/g,t=>lP[t])}function dP(e,t,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?o:i;default:return[]}}function fP(e,t,r,n){const s=Rs(e);let o=dP(fr(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Su)))),o}function ya(e){return e.replace(/left|right|bottom|top/g,t=>aP[t])}function hP(e){return E({top:0,right:0,bottom:0,left:0},e)}function Px(e){return typeof e!="number"?hP(e):{top:e,right:e,bottom:e,left:e}}function xa(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function jp(e,t,r){let{reference:n,floating:s}=e;const o=Hr(t),i=tf(t),a=ef(i),c=fr(t),u=o==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[a]/2-s[a]/2;let v;switch(c){case"top":v={x:d,y:n.y-s.height};break;case"bottom":v={x:d,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:f};break;case"left":v={x:n.x-s.width,y:f};break;default:v={x:n.x,y:n.y}}switch(Rs(t)){case"start":v[i]-=h*(r&&u?-1:1);break;case"end":v[i]+=h*(r&&u?-1:1);break}return v}const pP=(e,t,r)=>j(void 0,null,function*(){const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,a=o.filter(Boolean),c=yield i.isRTL==null?void 0:i.isRTL(t);let u=yield i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=jp(u,n,c),h=n,v={},w=0;for(let x=0;x<a.length;x++){const{name:b,fn:y}=a[x],{x:g,y:m,data:_,reset:S}=yield y({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:v,rects:u,platform:i,elements:{reference:e,floating:t}});d=g!=null?g:d,f=m!=null?m:f,v=R(E({},v),{[b]:E(E({},v[b]),_)}),S&&w<=50&&(w++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?yield i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=jp(u,h,c)),x=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:v}});function Ro(e,t){return j(this,null,function*(){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:v=0}=dr(t,e),w=Px(v),b=a[h?f==="floating"?"reference":"floating":f],y=xa(yield o.getClippingRect({element:(r=yield o.isElement==null?void 0:o.isElement(b))==null||r?b:b.contextElement||(yield o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,m=yield o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating),_=(yield o.isElement==null?void 0:o.isElement(m))?(yield o.getScale==null?void 0:o.getScale(m))||{x:1,y:1}:{x:1,y:1},S=xa(o.convertOffsetParentRelativeRectToViewportRelativeRect?yield o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:m,strategy:c}):g);return{top:(y.top-S.top+w.top)/_.y,bottom:(S.bottom-y.bottom+w.bottom)/_.y,left:(y.left-S.left+w.left)/_.x,right:(S.right-y.right+w.right)/_.x}})}const mP=e=>({name:"arrow",options:e,fn(r){return j(this,null,function*(){const{x:n,y:s,placement:o,rects:i,platform:a,elements:c,middlewareData:u}=r,{element:d,padding:f=0}=dr(e,r)||{};if(d==null)return{};const h=Px(f),v={x:n,y:s},w=tf(o),x=ef(w),b=yield a.getDimensions(d),y=w==="y",g=y?"top":"left",m=y?"bottom":"right",_=y?"clientHeight":"clientWidth",S=i.reference[x]+i.reference[w]-v[w]-i.floating[x],C=v[w]-i.reference[w],P=yield a.getOffsetParent==null?void 0:a.getOffsetParent(d);let k=P?P[_]:0;(!k||!(yield a.isElement==null?void 0:a.isElement(P)))&&(k=c.floating[_]||i.floating[x]);const N=S/2-C/2,A=k/2-b[x]/2-1,$=Vr(h[g],A),T=Vr(h[m],A),D=$,W=k-b[x]-T,M=k/2-b[x]/2+N,B=_u(D,M,W),G=!u.arrow&&Rs(o)!=null&&M!==B&&i.reference[x]/2-(M<D?$:T)-b[x]/2<0,O=G?M<D?M-D:M-W:0;return{[w]:v[w]+O,data:E({[w]:B,centerOffset:M-B-O},G&&{alignmentOffset:O}),reset:G}})}}),gP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(r){return j(this,null,function*(){var n,s;const{placement:o,middlewareData:i,rects:a,initialPlacement:c,platform:u,elements:d}=r,M=dr(e,r),{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:b=!0}=M,y=L(M,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const g=fr(o),m=Hr(c),_=fr(c)===c,S=yield u.isRTL==null?void 0:u.isRTL(d.floating),C=v||(_||!b?[ya(c)]:uP(c)),P=x!=="none";!v&&P&&C.push(...fP(c,b,x,S));const k=[c,...C],N=yield Ro(r,y),A=[];let $=((s=i.flip)==null?void 0:s.overflows)||[];if(f&&A.push(N[g]),h){const B=cP(o,a,S);A.push(N[B[0]],N[B[1]])}if($=[...$,{placement:o,overflows:A}],!A.every(B=>B<=0)){var T,D;const B=(((T=i.flip)==null?void 0:T.index)||0)+1,G=k[B];if(G)return{data:{index:B,overflows:$},reset:{placement:G}};let O=(D=$.filter(I=>I.overflows[0]<=0).sort((I,U)=>I.overflows[1]-U.overflows[1])[0])==null?void 0:D.placement;if(!O)switch(w){case"bestFit":{var W;const I=(W=$.filter(U=>{if(P){const V=Hr(U.placement);return V===m||V==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(V=>V>0).reduce((V,Q)=>V+Q,0)]).sort((U,V)=>U[1]-V[1])[0])==null?void 0:W[0];I&&(O=I);break}case"initialPlacement":O=c;break}if(o!==O)return{reset:{placement:O}}}return{}})}}};function kp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ep(e){return iP.some(t=>e[t]>=0)}const vP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,fn(r){return j(this,null,function*(){const{rects:n}=r,i=dr(e,r),{strategy:s="referenceHidden"}=i,o=L(i,["strategy"]);switch(s){case"referenceHidden":{const a=yield Ro(r,R(E({},o),{elementContext:"reference"})),c=kp(a,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Ep(c)}}}case"escaped":{const a=yield Ro(r,R(E({},o),{altBoundary:!0})),c=kp(a,n.floating);return{data:{escapedOffsets:c,escaped:Ep(c)}}}default:return{}}})}}};function yP(e,t){return j(this,null,function*(){const{placement:r,platform:n,elements:s}=e,o=yield n.isRTL==null?void 0:n.isRTL(s.floating),i=fr(r),a=Rs(r),c=Hr(r)==="y",u=["left","top"].includes(i)?-1:1,d=o&&c?-1:1,f=dr(t,e);let{mainAxis:h,crossAxis:v,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof w=="number"&&(v=a==="end"?w*-1:w),c?{x:v*d,y:h*u}:{x:h*u,y:v*d}})}const xP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(r){return j(this,null,function*(){var n,s;const{x:o,y:i,placement:a,middlewareData:c}=r,u=yield yP(r,e);return a===((n=c.offset)==null?void 0:n.placement)&&(s=c.arrow)!=null&&s.alignmentOffset?{}:{x:o+u.x,y:i+u.y,data:R(E({},u),{placement:a})}})}}},wP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(r){return j(this,null,function*(){const{x:n,y:s,placement:o}=r,y=dr(e,r),{mainAxis:i=!0,crossAxis:a=!1,limiter:c={fn:g=>{let{x:m,y:_}=g;return{x:m,y:_}}}}=y,u=L(y,["mainAxis","crossAxis","limiter"]),d={x:n,y:s},f=yield Ro(r,u),h=Hr(fr(o)),v=Zd(h);let w=d[v],x=d[h];if(i){const g=v==="y"?"top":"left",m=v==="y"?"bottom":"right",_=w+f[g],S=w-f[m];w=_u(_,w,S)}if(a){const g=h==="y"?"top":"left",m=h==="y"?"bottom":"right",_=x+f[g],S=x-f[m];x=_u(_,x,S)}const b=c.fn(R(E({},r),{[v]:w,[h]:x}));return R(E({},b),{data:{x:b.x-n,y:b.y-s,enabled:{[v]:i,[h]:a}}})})}}},bP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=dr(e,t),d={x:r,y:n},f=Hr(s),h=Zd(f);let v=d[h],w=d[f];const x=dr(a,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:E({mainAxis:0,crossAxis:0},x);if(c){const m=h==="y"?"height":"width",_=o.reference[h]-o.floating[m]+b.mainAxis,S=o.reference[h]+o.reference[m]-b.mainAxis;v<_?v=_:v>S&&(v=S)}if(u){var y,g;const m=h==="y"?"width":"height",_=["top","left"].includes(fr(s)),S=o.reference[f]-o.floating[m]+(_&&((y=i.offset)==null?void 0:y[f])||0)+(_?0:b.crossAxis),C=o.reference[f]+o.reference[m]+(_?0:((g=i.offset)==null?void 0:g[f])||0)-(_?b.crossAxis:0);w<S?w=S:w>C&&(w=C)}return{[h]:v,[f]:w}}}},_P=function(e){return e===void 0&&(e={}),{name:"size",options:e,fn(r){return j(this,null,function*(){var n,s;const{placement:o,rects:i,platform:a,elements:c}=r,$=dr(e,r),{apply:u=()=>{}}=$,d=L($,["apply"]),f=yield Ro(r,d),h=fr(o),v=Rs(o),w=Hr(o)==="y",{width:x,height:b}=i.floating;let y,g;h==="top"||h==="bottom"?(y=h,g=v===((yield a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(g=h,y=v==="end"?"top":"bottom");const m=b-f.top-f.bottom,_=x-f.left-f.right,S=Vr(b-f[y],m),C=Vr(x-f[g],_),P=!r.middlewareData.shift;let k=S,N=C;if((n=r.middlewareData.shift)!=null&&n.enabled.x&&(N=_),(s=r.middlewareData.shift)!=null&&s.enabled.y&&(k=m),P&&!v){const T=ht(f.left,0),D=ht(f.right,0),W=ht(f.top,0),M=ht(f.bottom,0);w?N=x-2*(T!==0||D!==0?T+D:ht(f.left,f.right)):k=b-2*(W!==0||M!==0?W+M:ht(f.top,f.bottom))}yield u(R(E({},r),{availableWidth:N,availableHeight:k}));const A=yield a.getDimensions(c.floating);return x!==A.width||b!==A.height?{reset:{rects:!0}}:{}})}}};function nl(){return typeof window!="undefined"}function As(e){return Tx(e)?(e.nodeName||"").toLowerCase():"#document"}function gt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Jt(e){var t;return(t=(Tx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Tx(e){return nl()?e instanceof Node||e instanceof gt(e).Node:!1}function Ft(e){return nl()?e instanceof Element||e instanceof gt(e).Element:!1}function Qt(e){return nl()?e instanceof HTMLElement||e instanceof gt(e).HTMLElement:!1}function Cp(e){return!nl()||typeof ShadowRoot=="undefined"?!1:e instanceof ShadowRoot||e instanceof gt(e).ShadowRoot}function qo(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Ut(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function SP(e){return["table","td","th"].includes(As(e))}function sl(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(r){return!1}})}function rf(e){const t=nf(),r=Ft(e)?Ut(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function jP(e){let t=qr(e);for(;Qt(t)&&!ws(t);){if(rf(t))return t;if(sl(t))return null;t=qr(t)}return null}function nf(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ws(e){return["html","body","#document"].includes(As(e))}function Ut(e){return gt(e).getComputedStyle(e)}function ol(e){return Ft(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qr(e){if(As(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Cp(e)&&e.host||Jt(e);return Cp(t)?t.host:t}function Rx(e){const t=qr(e);return ws(t)?e.ownerDocument?e.ownerDocument.body:e.body:Qt(t)&&qo(t)?t:Rx(t)}function Ao(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Rx(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=gt(s);if(o){const a=ju(i);return t.concat(i,i.visualViewport||[],qo(s)?s:[],a&&r?Ao(a):[])}return t.concat(s,Ao(s,[],r))}function ju(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ax(e){const t=Ut(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Qt(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,a=va(r)!==o||va(n)!==i;return a&&(r=o,n=i),{width:r,height:n,$:a}}function sf(e){return Ft(e)?e:e.contextElement}function us(e){const t=sf(e);if(!Qt(t))return Wr(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=Ax(t);let i=(o?va(r.width):r.width)/n,a=(o?va(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const kP=Wr(0);function Ox(e){const t=gt(e);return!nf()||!t.visualViewport?kP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function EP(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==gt(e)?!1:t}function Sn(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=sf(e);let i=Wr(1);t&&(n?Ft(n)&&(i=us(n)):i=us(e));const a=EP(o,r,n)?Ox(o):Wr(0);let c=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const h=gt(o),v=n&&Ft(n)?gt(n):n;let w=h,x=ju(w);for(;x&&n&&v!==w;){const b=us(x),y=x.getBoundingClientRect(),g=Ut(x),m=y.left+(x.clientLeft+parseFloat(g.paddingLeft))*b.x,_=y.top+(x.clientTop+parseFloat(g.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=m,u+=_,w=gt(x),x=ju(w)}}return xa({width:d,height:f,x:c,y:u})}function CP(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=Jt(n),a=t?sl(t.floating):!1;if(n===i||a&&o)return r;let c={scrollLeft:0,scrollTop:0},u=Wr(1);const d=Wr(0),f=Qt(n);if((f||!f&&!o)&&((As(n)!=="body"||qo(i))&&(c=ol(n)),Qt(n))){const h=Sn(n);u=us(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function NP(e){return Array.from(e.getClientRects())}function ku(e,t){const r=ol(e).scrollLeft;return t?t.left+r:Sn(Jt(e)).left+r}function PP(e){const t=Jt(e),r=ol(e),n=e.ownerDocument.body,s=ht(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=ht(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+ku(e);const a=-r.scrollTop;return Ut(n).direction==="rtl"&&(i+=ht(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:a}}function TP(e,t){const r=gt(e),n=Jt(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;const u=nf();(!u||u&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:a,y:c}}function RP(e,t){const r=Sn(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=Qt(e)?us(e):Wr(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:i,height:a,x:c,y:u}}function Np(e,t,r){let n;if(t==="viewport")n=TP(e,r);else if(t==="document")n=PP(Jt(e));else if(Ft(t))n=RP(t,r);else{const s=Ox(e);n=R(E({},t),{x:t.x-s.x,y:t.y-s.y})}return xa(n)}function Ix(e,t){const r=qr(e);return r===t||!Ft(r)||ws(r)?!1:Ut(r).position==="fixed"||Ix(r,t)}function AP(e,t){const r=t.get(e);if(r)return r;let n=Ao(e,[],!1).filter(a=>Ft(a)&&As(a)!=="body"),s=null;const o=Ut(e).position==="fixed";let i=o?qr(e):e;for(;Ft(i)&&!ws(i);){const a=Ut(i),c=rf(i);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||qo(i)&&!c&&Ix(e,i))?n=n.filter(d=>d!==i):s=a,i=qr(i)}return t.set(e,n),n}function OP(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?sl(t)?[]:AP(t,this._c):[].concat(r),n],a=i[0],c=i.reduce((u,d)=>{const f=Np(t,d,s);return u.top=ht(f.top,u.top),u.right=Vr(f.right,u.right),u.bottom=Vr(f.bottom,u.bottom),u.left=ht(f.left,u.left),u},Np(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function IP(e){const{width:t,height:r}=Ax(e);return{width:t,height:r}}function LP(e,t,r){const n=Qt(t),s=Jt(t),o=r==="fixed",i=Sn(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=Wr(0);if(n||!n&&!o)if((As(t)!=="body"||qo(s))&&(a=ol(t)),n){const v=Sn(t,!0,o,t);c.x=v.x+t.clientLeft,c.y=v.y+t.clientTop}else s&&(c.x=ku(s));let u=0,d=0;if(s&&!n&&!o){const v=s.getBoundingClientRect();d=v.top+a.scrollTop,u=v.left+a.scrollLeft-ku(s,v)}const f=i.left+a.scrollLeft-c.x-u,h=i.top+a.scrollTop-c.y-d;return{x:f,y:h,width:i.width,height:i.height}}function oc(e){return Ut(e).position==="static"}function Pp(e,t){if(!Qt(e)||Ut(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Jt(e)===r&&(r=r.ownerDocument.body),r}function Lx(e,t){const r=gt(e);if(sl(e))return r;if(!Qt(e)){let s=qr(e);for(;s&&!ws(s);){if(Ft(s)&&!oc(s))return s;s=qr(s)}return r}let n=Pp(e,t);for(;n&&SP(n)&&oc(n);)n=Pp(n,t);return n&&ws(n)&&oc(n)&&!rf(n)?r:n||jP(e)||r}const DP=function(e){return j(this,null,function*(){const t=this.getOffsetParent||Lx,r=this.getDimensions,n=yield r(e.floating);return{reference:LP(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}})};function MP(e){return Ut(e).direction==="rtl"}const $P={convertOffsetParentRelativeRectToViewportRelativeRect:CP,getDocumentElement:Jt,getClippingRect:OP,getOffsetParent:Lx,getElementRects:DP,getClientRects:NP,getDimensions:IP,getScale:us,isElement:Ft,isRTL:MP};function FP(e,t){let r=null,n;const s=Jt(e);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(a||t(),!f||!h)return;const v=_i(d),w=_i(s.clientWidth-(u+f)),x=_i(s.clientHeight-(d+h)),b=_i(u),g={rootMargin:-v+"px "+-w+"px "+-x+"px "+-b+"px",threshold:ht(0,Vr(1,c))||1};let m=!0;function _(S){const C=S[0].intersectionRatio;if(C!==c){if(!m)return i();C?i(!1,C):n=setTimeout(()=>{i(!1,1e-7)},1e3)}m=!1}try{r=new IntersectionObserver(_,R(E({},g),{root:s.ownerDocument}))}catch(S){r=new IntersectionObserver(_,g)}r.observe(e)}return i(!0),o}function UP(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=sf(e),d=s||o?[...u?Ao(u):[],...Ao(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),o&&y.addEventListener("resize",r)});const f=u&&a?FP(u,r):null;let h=-1,v=null;i&&(v=new ResizeObserver(y=>{let[g]=y;g&&g.target===u&&v&&(v.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var m;(m=v)==null||m.observe(t)})),r()}),u&&!c&&v.observe(u),v.observe(t));let w,x=c?Sn(e):null;c&&b();function b(){const y=Sn(e);x&&(y.x!==x.x||y.y!==x.y||y.width!==x.width||y.height!==x.height)&&r(),x=y,w=requestAnimationFrame(b)}return r(),()=>{var y;d.forEach(g=>{s&&g.removeEventListener("scroll",r),o&&g.removeEventListener("resize",r)}),f==null||f(),(y=v)==null||y.disconnect(),v=null,c&&cancelAnimationFrame(w)}}const zP=xP,BP=wP,VP=gP,WP=_P,HP=vP,Tp=mP,qP=bP,KP=(e,t,r)=>{const n=new Map,s=E({platform:$P},r),o=R(E({},s.platform),{_c:n});return pP(e,t,R(E({},s),{platform:o}))};var Fi=typeof document!="undefined"?p.useLayoutEffect:p.useEffect;function wa(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!wa(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!wa(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Dx(e){return typeof window=="undefined"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Rp(e,t){const r=Dx(e);return Math.round(t*r)/r}function ic(e){const t=p.useRef(e);return Fi(()=>{t.current=e}),t}function GP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,v]=p.useState(n);wa(h,n)||v(n);const[w,x]=p.useState(null),[b,y]=p.useState(null),g=p.useCallback(O=>{O!==C.current&&(C.current=O,x(O))},[]),m=p.useCallback(O=>{O!==P.current&&(P.current=O,y(O))},[]),_=o||w,S=i||b,C=p.useRef(null),P=p.useRef(null),k=p.useRef(d),N=c!=null,A=ic(c),$=ic(s),T=ic(u),D=p.useCallback(()=>{if(!C.current||!P.current)return;const O={placement:t,strategy:r,middleware:h};$.current&&(O.platform=$.current),KP(C.current,P.current,O).then(I=>{const U=R(E({},I),{isPositioned:T.current!==!1});W.current&&!wa(k.current,U)&&(k.current=U,Cn.flushSync(()=>{f(U)}))})},[h,t,r,$,T]);Fi(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(O=>R(E({},O),{isPositioned:!1})))},[u]);const W=p.useRef(!1);Fi(()=>(W.current=!0,()=>{W.current=!1}),[]),Fi(()=>{if(_&&(C.current=_),S&&(P.current=S),_&&S){if(A.current)return A.current(_,S,D);D()}},[_,S,D,A,N]);const M=p.useMemo(()=>({reference:C,floating:P,setReference:g,setFloating:m}),[g,m]),B=p.useMemo(()=>({reference:_,floating:S}),[_,S]),G=p.useMemo(()=>{const O={position:r,left:0,top:0};if(!B.floating)return O;const I=Rp(B.floating,d.x),U=Rp(B.floating,d.y);return a?E(R(E({},O),{transform:"translate("+I+"px, "+U+"px)"}),Dx(B.floating)>=1.5&&{willChange:"transform"}):{position:r,left:I,top:U}},[r,a,B.floating,d.x,d.y]);return p.useMemo(()=>R(E({},d),{update:D,refs:M,elements:B,floatingStyles:G}),[d,D,M,B,G])}const YP=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Tp({element:n.current,padding:s}).fn(r):{}:n?Tp({element:n,padding:s}).fn(r):{}}}},QP=(e,t)=>R(E({},zP(e)),{options:[e,t]}),JP=(e,t)=>R(E({},BP(e)),{options:[e,t]}),XP=(e,t)=>R(E({},qP(e)),{options:[e,t]}),ZP=(e,t)=>R(E({},VP(e)),{options:[e,t]}),e2=(e,t)=>R(E({},WP(e)),{options:[e,t]}),t2=(e,t)=>R(E({},HP(e)),{options:[e,t]}),r2=(e,t)=>R(E({},YP(e)),{options:[e,t]});var n2="Arrow",Mx=p.forwardRef((e,t)=>{const i=e,{children:r,width:n=10,height:s=5}=i,o=L(i,["children","width","height"]);return l.jsx(ee.svg,R(E({},o),{ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})}))});Mx.displayName=n2;var s2=Mx;function o2(e,t=[]){let r=[];function n(o,i){const a=p.createContext(i),c=r.length;r=[...r,i];function u(f){const y=f,{scope:h,children:v}=y,w=L(y,["scope","children"]),x=(h==null?void 0:h[e][c])||a,b=p.useMemo(()=>w,Object.values(w));return l.jsx(x.Provider,{value:b,children:v})}function d(f,h){const v=(h==null?void 0:h[e][c])||a,w=p.useContext(v);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=r.map(i=>p.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return p.useMemo(()=>({[`__scope${e}`]:R(E({},a),{[e]:c})}),[a,c])}};return s.scopeName=e,[n,i2(s,...t)]}function i2(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return E(E({},a),f)},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var of="Popper",[$x,Fx]=o2(of),[a2,Ux]=$x(of),zx=e=>{const{__scopePopper:t,children:r}=e,[n,s]=p.useState(null);return l.jsx(a2,{scope:t,anchor:n,onAnchorChange:s,children:r})};zx.displayName=of;var Bx="PopperAnchor",Vx=p.forwardRef((e,t)=>{const c=e,{__scopePopper:r,virtualRef:n}=c,s=L(c,["__scopePopper","virtualRef"]),o=Ux(Bx,r),i=p.useRef(null),a=fe(t,i);return p.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:l.jsx(ee.div,R(E({},s),{ref:a}))});Vx.displayName=Bx;var af="PopperContent",[l2,c2]=$x(af),Wx=p.forwardRef((e,t)=>{var K,ve,We,he,ue,de,ut,dt;const Ne=e,{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:v="optimized",onPlaced:w}=Ne,x=L(Ne,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),b=Ux(af,r),[y,g]=p.useState(null),m=fe(t,Xt=>g(Xt)),[_,S]=p.useState(null),C=Yd(_),P=(K=C==null?void 0:C.width)!=null?K:0,k=(ve=C==null?void 0:C.height)!=null?ve:0,N=n+(o!=="center"?"-"+o:""),A=typeof d=="number"?d:E({top:0,right:0,bottom:0,left:0},d),$=Array.isArray(u)?u:[u],T=$.length>0,D={padding:A,boundary:$.filter(d2),altBoundary:T},{refs:W,floatingStyles:M,placement:B,isPositioned:G,middlewareData:O}=GP({strategy:"fixed",placement:N,whileElementsMounted:(...Xt)=>UP(...Xt,{animationFrame:v==="always"}),elements:{reference:b.anchor},middleware:[QP({mainAxis:s+k,alignmentAxis:i}),c&&JP(E({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?XP():void 0},D)),c&&ZP(E({},D)),e2(R(E({},D),{apply:({elements:Xt,rects:An,availableWidth:Is,availableHeight:D0})=>{const{width:M0,height:$0}=An.reference,Go=Xt.floating.style;Go.setProperty("--radix-popper-available-width",`${Is}px`),Go.setProperty("--radix-popper-available-height",`${D0}px`),Go.setProperty("--radix-popper-anchor-width",`${M0}px`),Go.setProperty("--radix-popper-anchor-height",`${$0}px`)}})),_&&r2({element:_,padding:a}),f2({arrowWidth:P,arrowHeight:k}),h&&t2(E({strategy:"referenceHidden"},D))]}),[I,U]=Kx(B),V=ct(w);Qe(()=>{G&&(V==null||V())},[G,V]);const Q=(We=O.arrow)==null?void 0:We.x,oe=(he=O.arrow)==null?void 0:he.y,le=((ue=O.arrow)==null?void 0:ue.centerOffset)!==0,[ie,Ae]=p.useState();return Qe(()=>{y&&Ae(window.getComputedStyle(y).zIndex)},[y]),l.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:E(R(E({},M),{transform:G?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(de=O.transformOrigin)==null?void 0:de.x,(ut=O.transformOrigin)==null?void 0:ut.y].join(" ")}),((dt=O.hide)==null?void 0:dt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:l.jsx(l2,{scope:r,placedSide:I,onArrowChange:S,arrowX:Q,arrowY:oe,shouldHideArrow:le,children:l.jsx(ee.div,R(E({"data-side":I,"data-align":U},x),{ref:m,style:R(E({},x.style),{animation:G?void 0:"none"})}))})})});Wx.displayName=af;var Hx="PopperArrow",u2={top:"bottom",right:"left",bottom:"top",left:"right"},qx=p.forwardRef(function(t,r){const a=t,{__scopePopper:n}=a,s=L(a,["__scopePopper"]),o=c2(Hx,n),i=u2[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(s2,R(E({},s),{ref:r,style:R(E({},s.style),{display:"block"})}))})});qx.displayName=Hx;function d2(e){return e!==null}var f2=e=>({name:"transformOrigin",options:e,fn(t){var b,y,g,m,_;const{placement:r,rects:n,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=Kx(r),f={start:"0%",center:"50%",end:"100%"}[d],h=((g=(y=s.arrow)==null?void 0:y.x)!=null?g:0)+a/2,v=((_=(m=s.arrow)==null?void 0:m.y)!=null?_:0)+c/2;let w="",x="";return u==="bottom"?(w=i?f:`${h}px`,x=`${-c}px`):u==="top"?(w=i?f:`${h}px`,x=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,x=i?f:`${v}px`):u==="left"&&(w=`${n.floating.width+c}px`,x=i?f:`${v}px`),{data:{x:w,y:x}}}});function Kx(e){const[t,r="center"]=e.split("-");return[t,r]}var h2=zx,p2=Vx,m2=Wx,g2=qx,v2=[" ","Enter","ArrowUp","ArrowDown"],y2=[" ","Enter"],Ko="Select",[il,al,x2]=Ld(Ko),[Os,wT]=Cs(Ko,[x2,Fx]),ll=Fx(),[w2,en]=Os(Ko),[b2,_2]=Os(Ko),Gx=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:v,form:w}=e,x=ll(t),[b,y]=p.useState(null),[g,m]=p.useState(null),[_,S]=p.useState(!1),C=Gd(u),[P=!1,k]=bn({prop:n,defaultProp:s,onChange:o}),[N,A]=bn({prop:i,defaultProp:a,onChange:c}),$=p.useRef(null),T=b?w||!!b.closest("form"):!0,[D,W]=p.useState(new Set),M=Array.from(D).map(B=>B.props.value).join(";");return l.jsx(h2,R(E({},x),{children:l.jsxs(w2,{required:v,scope:t,trigger:b,onTriggerChange:y,valueNode:g,onValueNodeChange:m,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:pn(),value:N,onValueChange:A,open:P,onOpenChange:k,dir:C,triggerPointerDownPosRef:$,disabled:h,children:[l.jsx(il.Provider,{scope:t,children:l.jsx(b2,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(B=>{W(G=>new Set(G).add(B))},[]),onNativeOptionRemove:p.useCallback(B=>{W(G=>{const O=new Set(G);return O.delete(B),O})},[]),children:r})}),T?l.jsxs(x0,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:B=>A(B.target.value),disabled:h,form:w,children:[N===void 0?l.jsx("option",{value:""}):null,Array.from(D)]},M):null]})}))};Gx.displayName=Ko;var Yx="SelectTrigger",Qx=p.forwardRef((e,t)=>{const x=e,{__scopeSelect:r,disabled:n=!1}=x,s=L(x,["__scopeSelect","disabled"]),o=ll(r),i=en(Yx,r),a=i.disabled||n,c=fe(t,i.onTriggerChange),u=al(r),d=p.useRef("touch"),[f,h,v]=w0(b=>{const y=u().filter(_=>!_.disabled),g=y.find(_=>_.value===i.value),m=b0(y,b,g);m!==void 0&&i.onValueChange(m.value)}),w=b=>{a||(i.onOpenChange(!0),v()),b&&(i.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return l.jsx(p2,R(E({asChild:!0},o),{children:l.jsx(ee.button,R(E({type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":y0(i.value)?"":void 0},s),{ref:c,onClick:Y(s.onClick,b=>{b.currentTarget.focus(),d.current!=="mouse"&&w(b)}),onPointerDown:Y(s.onPointerDown,b=>{d.current=b.pointerType;const y=b.target;y.hasPointerCapture(b.pointerId)&&y.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(w(b),b.preventDefault())}),onKeyDown:Y(s.onKeyDown,b=>{const y=f.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&h(b.key),!(y&&b.key===" ")&&v2.includes(b.key)&&(w(),b.preventDefault())})}))}))});Qx.displayName=Yx;var Jx="SelectValue",Xx=p.forwardRef((e,t)=>{const h=e,{__scopeSelect:r,className:n,style:s,children:o,placeholder:i=""}=h,a=L(h,["__scopeSelect","className","style","children","placeholder"]),c=en(Jx,r),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=fe(t,c.onValueNodeChange);return Qe(()=>{u(d)},[u,d]),l.jsx(ee.span,R(E({},a),{ref:f,style:{pointerEvents:"none"},children:y0(c.value)?l.jsx(l.Fragment,{children:i}):o}))});Xx.displayName=Jx;var S2="SelectIcon",Zx=p.forwardRef((e,t)=>{const o=e,{__scopeSelect:r,children:n}=o,s=L(o,["__scopeSelect","children"]);return l.jsx(ee.span,R(E({"aria-hidden":!0},s),{ref:t,children:n||""}))});Zx.displayName=S2;var j2="SelectPortal",e0=e=>l.jsx(Ka,E({asChild:!0},e));e0.displayName=j2;var jn="SelectContent",t0=p.forwardRef((e,t)=>{const r=en(jn,e.__scopeSelect),[n,s]=p.useState();if(Qe(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Cn.createPortal(l.jsx(r0,{scope:e.__scopeSelect,children:l.jsx(il.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),o):null}return l.jsx(n0,R(E({},e),{ref:t}))});t0.displayName=jn;var Pt=10,[r0,tn]=Os(jn),k2="SelectContentImpl",n0=p.forwardRef((e,t)=>{const Ne=e,{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:v,sticky:w,hideWhenDetached:x,avoidCollisions:b}=Ne,y=L(Ne,["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"]),g=en(jn,r),[m,_]=p.useState(null),[S,C]=p.useState(null),P=fe(t,K=>_(K)),[k,N]=p.useState(null),[A,$]=p.useState(null),T=al(r),[D,W]=p.useState(!1),M=p.useRef(!1);p.useEffect(()=>{if(m)return Uy(m)},[m]),Ry();const B=p.useCallback(K=>{const[ve,...We]=T().map(de=>de.ref.current),[he]=We.slice(-1),ue=document.activeElement;for(const de of K)if(de===ue||(de==null||de.scrollIntoView({block:"nearest"}),de===ve&&S&&(S.scrollTop=0),de===he&&S&&(S.scrollTop=S.scrollHeight),de==null||de.focus(),document.activeElement!==ue))return},[T,S]),G=p.useCallback(()=>B([k,m]),[B,k,m]);p.useEffect(()=>{D&&G()},[D,G]);const{onOpenChange:O,triggerPointerDownPosRef:I}=g;p.useEffect(()=>{if(m){let K={x:0,y:0};const ve=he=>{var ue,de,ut,dt;K={x:Math.abs(Math.round(he.pageX)-((de=(ue=I.current)==null?void 0:ue.x)!=null?de:0)),y:Math.abs(Math.round(he.pageY)-((dt=(ut=I.current)==null?void 0:ut.y)!=null?dt:0))}},We=he=>{K.x<=10&&K.y<=10?he.preventDefault():m.contains(he.target)||O(!1),document.removeEventListener("pointermove",ve),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",We,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",We,{capture:!0})}}},[m,O,I]),p.useEffect(()=>{const K=()=>O(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[O]);const[U,V]=w0(K=>{const ve=T().filter(ue=>!ue.disabled),We=ve.find(ue=>ue.ref.current===document.activeElement),he=b0(ve,K,We);he&&setTimeout(()=>he.ref.current.focus())}),Q=p.useCallback((K,ve,We)=>{const he=!M.current&&!We;(g.value!==void 0&&g.value===ve||he)&&(N(K),he&&(M.current=!0))},[g.value]),oe=p.useCallback(()=>m==null?void 0:m.focus(),[m]),le=p.useCallback((K,ve,We)=>{const he=!M.current&&!We;(g.value!==void 0&&g.value===ve||he)&&$(K)},[g.value]),ie=n==="popper"?Eu:s0,Ae=ie===Eu?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:v,sticky:w,hideWhenDetached:x,avoidCollisions:b}:{};return l.jsx(r0,{scope:r,content:m,viewport:S,onViewportChange:C,itemRefCallback:Q,selectedItem:k,onItemLeave:oe,itemTextRefCallback:le,focusSelectedItem:G,selectedItemText:A,position:n,isPositioned:D,searchRef:U,children:l.jsx(Vd,{as:wn,allowPinchZoom:!0,children:l.jsx(Bd,{asChild:!0,trapped:g.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:Y(s,K=>{var ve;(ve=g.trigger)==null||ve.focus({preventScroll:!0}),K.preventDefault()}),children:l.jsx(qa,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:l.jsx(ie,R(E(E({role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:K=>K.preventDefault()},y),Ae),{onPlaced:()=>W(!0),ref:P,style:E({display:"flex",flexDirection:"column",outline:"none"},y.style),onKeyDown:Y(y.onKeyDown,K=>{const ve=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!ve&&K.key.length===1&&V(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let he=T().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(K.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const ue=K.target,de=he.indexOf(ue);he=he.slice(de+1)}setTimeout(()=>B(he)),K.preventDefault()}})}))})})})})});n0.displayName=k2;var E2="SelectItemAlignedPosition",s0=p.forwardRef((e,t)=>{const P=e,{__scopeSelect:r,onPlaced:n}=P,s=L(P,["__scopeSelect","onPlaced"]),o=en(jn,r),i=tn(jn,r),[a,c]=p.useState(null),[u,d]=p.useState(null),f=fe(t,k=>d(k)),h=al(r),v=p.useRef(!1),w=p.useRef(!0),{viewport:x,selectedItem:b,selectedItemText:y,focusSelectedItem:g}=i,m=p.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&x&&b&&y){const k=o.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),A=o.valueNode.getBoundingClientRect(),$=y.getBoundingClientRect();if(o.dir!=="rtl"){const ue=$.left-N.left,de=A.left-ue,ut=k.left-de,dt=k.width+ut,Xt=Math.max(dt,N.width),An=window.innerWidth-Pt,Is=Sp(de,[Pt,Math.max(Pt,An-Xt)]);a.style.minWidth=dt+"px",a.style.left=Is+"px"}else{const ue=N.right-$.right,de=window.innerWidth-A.right-ue,ut=window.innerWidth-k.right-de,dt=k.width+ut,Xt=Math.max(dt,N.width),An=window.innerWidth-Pt,Is=Sp(de,[Pt,Math.max(Pt,An-Xt)]);a.style.minWidth=dt+"px",a.style.right=Is+"px"}const T=h(),D=window.innerHeight-Pt*2,W=x.scrollHeight,M=window.getComputedStyle(u),B=parseInt(M.borderTopWidth,10),G=parseInt(M.paddingTop,10),O=parseInt(M.borderBottomWidth,10),I=parseInt(M.paddingBottom,10),U=B+G+W+I+O,V=Math.min(b.offsetHeight*5,U),Q=window.getComputedStyle(x),oe=parseInt(Q.paddingTop,10),le=parseInt(Q.paddingBottom,10),ie=k.top+k.height/2-Pt,Ae=D-ie,Ne=b.offsetHeight/2,K=b.offsetTop+Ne,ve=B+G+K,We=U-ve;if(ve<=ie){const ue=T.length>0&&b===T[T.length-1].ref.current;a.style.bottom="0px";const de=u.clientHeight-x.offsetTop-x.offsetHeight,ut=Math.max(Ae,Ne+(ue?le:0)+de+O),dt=ve+ut;a.style.height=dt+"px"}else{const ue=T.length>0&&b===T[0].ref.current;a.style.top="0px";const ut=Math.max(ie,B+x.offsetTop+(ue?oe:0)+Ne)+We;a.style.height=ut+"px",x.scrollTop=ve-ie+x.offsetTop}a.style.margin=`${Pt}px 0`,a.style.minHeight=V+"px",a.style.maxHeight=D+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[h,o.trigger,o.valueNode,a,u,x,b,y,o.dir,n]);Qe(()=>m(),[m]);const[_,S]=p.useState();Qe(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const C=p.useCallback(k=>{k&&w.current===!0&&(m(),g==null||g(),w.current=!1)},[m,g]);return l.jsx(N2,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:C,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:l.jsx(ee.div,R(E({},s),{ref:f,style:E({boxSizing:"border-box",maxHeight:"100%"},s.style)}))})})});s0.displayName=E2;var C2="SelectPopperPosition",Eu=p.forwardRef((e,t)=>{const a=e,{__scopeSelect:r,align:n="start",collisionPadding:s=Pt}=a,o=L(a,["__scopeSelect","align","collisionPadding"]),i=ll(r);return l.jsx(m2,R(E(E({},i),o),{ref:t,align:n,collisionPadding:s,style:R(E({boxSizing:"border-box"},o.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});Eu.displayName=C2;var[N2,lf]=Os(jn,{}),Cu="SelectViewport",o0=p.forwardRef((e,t)=>{const u=e,{__scopeSelect:r,nonce:n}=u,s=L(u,["__scopeSelect","nonce"]),o=tn(Cu,r),i=lf(Cu,r),a=fe(t,o.onViewportChange),c=p.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(il.Slot,{scope:r,children:l.jsx(ee.div,R(E({"data-radix-select-viewport":"",role:"presentation"},s),{ref:a,style:E({position:"relative",flex:1,overflow:"hidden auto"},s.style),onScroll:Y(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:v}=i;if(v!=null&&v.current&&h){const w=Math.abs(c.current-f.scrollTop);if(w>0){const x=window.innerHeight-Pt*2,b=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),g=Math.max(b,y);if(g<x){const m=g+w,_=Math.min(x,m),S=m-_;h.style.height=_+"px",h.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})}))})]})});o0.displayName=Cu;var i0="SelectGroup",[P2,T2]=Os(i0),R2=p.forwardRef((e,t)=>{const o=e,{__scopeSelect:r}=o,n=L(o,["__scopeSelect"]),s=pn();return l.jsx(P2,{scope:r,id:s,children:l.jsx(ee.div,R(E({role:"group","aria-labelledby":s},n),{ref:t}))})});R2.displayName=i0;var a0="SelectLabel",l0=p.forwardRef((e,t)=>{const o=e,{__scopeSelect:r}=o,n=L(o,["__scopeSelect"]),s=T2(a0,r);return l.jsx(ee.div,R(E({id:s.id},n),{ref:t}))});l0.displayName=a0;var ba="SelectItem",[A2,c0]=Os(ba),u0=p.forwardRef((e,t)=>{const g=e,{__scopeSelect:r,value:n,disabled:s=!1,textValue:o}=g,i=L(g,["__scopeSelect","value","disabled","textValue"]),a=en(ba,r),c=tn(ba,r),u=a.value===n,[d,f]=p.useState(o!=null?o:""),[h,v]=p.useState(!1),w=fe(t,m=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,m,n,s)}),x=pn(),b=p.useRef("touch"),y=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(A2,{scope:r,value:n,disabled:s,textId:x,isSelected:u,onItemTextChange:p.useCallback(m=>{f(_=>{var S;return _||((S=m==null?void 0:m.textContent)!=null?S:"").trim()})},[]),children:l.jsx(il.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:l.jsx(ee.div,R(E({role:"option","aria-labelledby":x,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1},i),{ref:w,onFocus:Y(i.onFocus,()=>v(!0)),onBlur:Y(i.onBlur,()=>v(!1)),onClick:Y(i.onClick,()=>{b.current!=="mouse"&&y()}),onPointerUp:Y(i.onPointerUp,()=>{b.current==="mouse"&&y()}),onPointerDown:Y(i.onPointerDown,m=>{b.current=m.pointerType}),onPointerMove:Y(i.onPointerMove,m=>{var _;b.current=m.pointerType,s?(_=c.onItemLeave)==null||_.call(c):b.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Y(i.onPointerLeave,m=>{var _;m.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:Y(i.onKeyDown,m=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&m.key===" "||(y2.includes(m.key)&&y(),m.key===" "&&m.preventDefault())})}))})})});u0.displayName=ba;var Js="SelectItemText",d0=p.forwardRef((e,t)=>{const y=e,{__scopeSelect:r,className:n,style:s}=y,o=L(y,["__scopeSelect","className","style"]),i=en(Js,r),a=tn(Js,r),c=c0(Js,r),u=_2(Js,r),[d,f]=p.useState(null),h=fe(t,g=>f(g),c.onItemTextChange,g=>{var m;return(m=a.itemTextRefCallback)==null?void 0:m.call(a,g,c.value,c.disabled)}),v=d==null?void 0:d.textContent,w=p.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:x,onNativeOptionRemove:b}=u;return Qe(()=>(x(w),()=>b(w)),[x,b,w]),l.jsxs(l.Fragment,{children:[l.jsx(ee.span,R(E({id:c.textId},o),{ref:h})),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Cn.createPortal(o.children,i.valueNode):null]})});d0.displayName=Js;var f0="SelectItemIndicator",h0=p.forwardRef((e,t)=>{const o=e,{__scopeSelect:r}=o,n=L(o,["__scopeSelect"]);return c0(f0,r).isSelected?l.jsx(ee.span,R(E({"aria-hidden":!0},n),{ref:t})):null});h0.displayName=f0;var Nu="SelectScrollUpButton",p0=p.forwardRef((e,t)=>{const r=tn(Nu,e.__scopeSelect),n=lf(Nu,e.__scopeSelect),[s,o]=p.useState(!1),i=fe(t,n.onScrollButtonChange);return Qe(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(g0,R(E({},e),{ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}})):null});p0.displayName=Nu;var Pu="SelectScrollDownButton",m0=p.forwardRef((e,t)=>{const r=tn(Pu,e.__scopeSelect),n=lf(Pu,e.__scopeSelect),[s,o]=p.useState(!1),i=fe(t,n.onScrollButtonChange);return Qe(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(g0,R(E({},e),{ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}})):null});m0.displayName=Pu;var g0=p.forwardRef((e,t)=>{const u=e,{__scopeSelect:r,onAutoScroll:n}=u,s=L(u,["__scopeSelect","onAutoScroll"]),o=tn("SelectScrollButton",r),i=p.useRef(null),a=al(r),c=p.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Qe(()=>{var f;const d=a().find(h=>h.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),l.jsx(ee.div,R(E({"aria-hidden":!0},s),{ref:t,style:E({flexShrink:0},s.style),onPointerDown:Y(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Y(s.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Y(s.onPointerLeave,()=>{c()})}))}),O2="SelectSeparator",v0=p.forwardRef((e,t)=>{const s=e,{__scopeSelect:r}=s,n=L(s,["__scopeSelect"]);return l.jsx(ee.div,R(E({"aria-hidden":!0},n),{ref:t}))});v0.displayName=O2;var Tu="SelectArrow",I2=p.forwardRef((e,t)=>{const a=e,{__scopeSelect:r}=a,n=L(a,["__scopeSelect"]),s=ll(r),o=en(Tu,r),i=tn(Tu,r);return o.open&&i.position==="popper"?l.jsx(g2,R(E(E({},s),n),{ref:t})):null});I2.displayName=Tu;function y0(e){return e===""||e===void 0}var x0=p.forwardRef((e,t)=>{const a=e,{value:r}=a,n=L(a,["value"]),s=p.useRef(null),o=fe(t,s),i=Qd(r);return p.useEffect(()=>{const c=s.current,u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(i!==r&&f){const h=new Event("change",{bubbles:!0});f.call(c,r),c.dispatchEvent(h)}},[i,r]),l.jsx(Ga,{asChild:!0,children:l.jsx("select",R(E({},n),{ref:o,defaultValue:r}))})});x0.displayName="BubbleSelect";function w0(e){const t=ct(e),r=p.useRef(""),n=p.useRef(0),s=p.useCallback(i=>{const a=r.current+i;t(a),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),o=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function b0(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=L2(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function L2(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var D2=Gx,_0=Qx,M2=Xx,$2=Zx,F2=e0,S0=t0,U2=o0,j0=l0,k0=u0,z2=d0,B2=h0,E0=p0,C0=m0,N0=v0;const cf=D2,uf=M2,cl=p.forwardRef((s,n)=>{var o=s,{className:e,children:t}=o,r=L(o,["className","children"]);return l.jsxs(_0,R(E({ref:n,className:ne("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e)},r),{children:[t,l.jsx($2,{asChild:!0,children:l.jsx(ly,{className:"h-4 w-4 opacity-50"})})]}))});cl.displayName=_0.displayName;const P0=p.forwardRef((n,r)=>{var s=n,{className:e}=s,t=L(s,["className"]);return l.jsx(E0,R(E({ref:r,className:ne("flex cursor-default items-center justify-center py-1",e)},t),{children:l.jsx(Vk,{className:"h-4 w-4"})}))});P0.displayName=E0.displayName;const T0=p.forwardRef((n,r)=>{var s=n,{className:e}=s,t=L(s,["className"]);return l.jsx(C0,R(E({ref:r,className:ne("flex cursor-default items-center justify-center py-1",e)},t),{children:l.jsx(ly,{className:"h-4 w-4"})}))});T0.displayName=C0.displayName;const ul=p.forwardRef((o,s)=>{var i=o,{className:e,children:t,position:r="popper"}=i,n=L(i,["className","children","position"]);return l.jsx(F2,{children:l.jsxs(S0,R(E({ref:s,className:ne("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r},n),{children:[l.jsx(P0,{}),l.jsx(U2,{className:ne("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(T0,{})]}))})});ul.displayName=S0.displayName;const V2=p.forwardRef((n,r)=>{var s=n,{className:e}=s,t=L(s,["className"]);return l.jsx(j0,E({ref:r,className:ne("py-1.5 pl-8 pr-2 text-sm font-semibold",e)},t))});V2.displayName=j0.displayName;const Oo=p.forwardRef((s,n)=>{var o=s,{className:e,children:t}=o,r=L(o,["className","children"]);return l.jsxs(k0,R(E({ref:n,className:ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e)},r),{children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(B2,{children:l.jsx(ay,{className:"h-4 w-4"})})}),l.jsx(z2,{children:t})]}))});Oo.displayName=k0.displayName;const W2=p.forwardRef((n,r)=>{var s=n,{className:e}=s,t=L(s,["className"]);return l.jsx(N0,E({ref:r,className:ne("-mx-1 my-1 h-px bg-muted",e)},t))});W2.displayName=N0.displayName;var df="Checkbox",[H2,bT]=Cs(df),[q2,K2]=H2(df),R0=p.forwardRef((e,t)=>{const _=e,{__scopeCheckbox:r,name:n,checked:s,defaultChecked:o,required:i,disabled:a,value:c="on",onCheckedChange:u,form:d}=_,f=L(_,["__scopeCheckbox","name","checked","defaultChecked","required","disabled","value","onCheckedChange","form"]),[h,v]=p.useState(null),w=fe(t,S=>v(S)),x=p.useRef(!1),b=h?d||!!h.closest("form"):!0,[y=!1,g]=bn({prop:s,defaultProp:o,onChange:u}),m=p.useRef(y);return p.useEffect(()=>{const S=h==null?void 0:h.form;if(S){const C=()=>g(m.current);return S.addEventListener("reset",C),()=>S.removeEventListener("reset",C)}},[h,g]),l.jsxs(q2,{scope:r,state:y,disabled:a,children:[l.jsx(ee.button,R(E({type:"button",role:"checkbox","aria-checked":Ur(y)?"mixed":y,"aria-required":i,"data-state":I0(y),"data-disabled":a?"":void 0,disabled:a,value:c},f),{ref:w,onKeyDown:Y(e.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:Y(e.onClick,S=>{g(C=>Ur(C)?!0:!C),b&&(x.current=S.isPropagationStopped(),x.current||S.stopPropagation())})})),b&&l.jsx(G2,{control:h,bubbles:!x.current,name:n,value:c,checked:y,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Ur(o)?!1:o})]})});R0.displayName=df;var A0="CheckboxIndicator",O0=p.forwardRef((e,t)=>{const i=e,{__scopeCheckbox:r,forceMount:n}=i,s=L(i,["__scopeCheckbox","forceMount"]),o=K2(A0,r);return l.jsx(Tn,{present:n||Ur(o.state)||o.state===!0,children:l.jsx(ee.span,R(E({"data-state":I0(o.state),"data-disabled":o.disabled?"":void 0},s),{ref:t,style:E({pointerEvents:"none"},e.style)}))})});O0.displayName=A0;var G2=e=>{const d=e,{control:t,checked:r,bubbles:n=!0,defaultChecked:s}=d,o=L(d,["control","checked","bubbles","defaultChecked"]),i=p.useRef(null),a=Qd(r),c=Yd(t);p.useEffect(()=>{const f=i.current,h=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(h,"checked").set;if(a!==r&&w){const x=new Event("click",{bubbles:n});f.indeterminate=Ur(r),w.call(f,Ur(r)?!1:r),f.dispatchEvent(x)}},[a,r,n]);const u=p.useRef(Ur(r)?!1:r);return l.jsx("input",R(E({type:"checkbox","aria-hidden":!0,defaultChecked:s!=null?s:u.current},o),{tabIndex:-1,ref:i,style:R(E(E({},e.style),c),{position:"absolute",pointerEvents:"none",opacity:0,margin:0})}))};function Ur(e){return e==="indeterminate"}function I0(e){return Ur(e)?"indeterminate":e?"checked":"unchecked"}var L0=R0,Y2=O0;const Ru=p.forwardRef((n,r)=>{var s=n,{className:e}=s,t=L(s,["className"]);return l.jsx(L0,R(E({ref:r,className:ne("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e)},t),{children:l.jsx(Y2,{className:ne("flex items-center justify-center text-current"),children:l.jsx(ay,{className:"h-4 w-4"})})}))});Ru.displayName=L0.displayName;const Q2=({className:e="",size:t=48})=>l.jsx("img",{src:"/lovable-uploads/1f594a6c-a474-4917-ab72-71c584ff430e.png",alt:"Velyar Logo",width:t,height:t,className:e}),J2=["Afghanistan","Albania","Algeria","Argentina","Australia","Austria","Bangladesh","Belgium","Brazil","Canada","China","Colombia","Denmark","Egypt","Finland","France","Germany","Ghana","Greece","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Japan","Jordan","Kenya","South Korea","Malaysia","Mexico","Morocco","Netherlands","New Zealand","Nigeria","Norway","Pakistan","Peru","Philippines","Poland","Portugal","Russia","Saudi Arabia","South Africa","Spain","Sweden","Switzerland","Taiwan","Thailand","Turkey","Ukraine","United Kingdom","United States","Venezuela","Vietnam"],X2=()=>{const e=zt(),t=Jr(),{toast:r}=Zr(),{user:n}=Id(),[s,o]=p.useState(!0),[i,a]=p.useState(!1),[c,u]=p.useState({name:"",username:"",email:"",password:"",city:"",country:"",dob:""}),[d,f]=p.useState(!1),[h,v]=p.useState(!1),[w,x]=p.useState({}),[b,y]=p.useState({}),[g,m]=p.useState(!1),[_,S]=p.useState(!1);p.useEffect(()=>{var T,D;if(n){const W=((D=(T=t.state)==null?void 0:T.from)==null?void 0:D.pathname)||"/";e(W,{replace:!0})}},[n,e,t.state]),p.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]);const C=()=>{const T={};if(!s)if(c.name.trim()||(T.name="Full name is required"),c.username.trim()||(T.username="Username is required"),c.username.length<3&&(T.username="Username must be at least 3 characters"),c.city.trim()||(T.city="City is required"),c.country||(T.country="Country is required"),!c.dob)T.dob="Date of birth is required";else{const M=Ql(c.dob);M.isValid?M.accountType==="restricted"&&console.log("User will have restricted account:",M.reason):T.dob=M.reason}c.email.trim()?/\S+@\S+\.\S+/.test(c.email)||(T.email="Email is invalid"):T.email="Email is required",c.password?c.password.length<8?T.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(c.password)||(T.password="Password must contain uppercase, lowercase, and number"):T.password="Password is required",x(T);const D=Object.keys(T).length===0;m(D&&(s||d&&h))};p.useEffect(()=>{C()},[c,d,h,s]);const P=T=>{u(R(E({},c),{[T.target.name]:T.target.value}))},k=T=>{y(R(E({},b),{[T]:!0}))},N=T=>{u(R(E({},c),{country:T})),y(R(E({},b),{country:!0}))},A=T=>j(void 0,null,function*(){if(!T)return!1;try{const{data:D,error:W}=yield z.from("profiles").select("username").eq("username",T).maybeSingle();return W?(console.error("Error checking username:",W),!1):!D}catch(D){return console.error("Error checking username:",D),!1}}),$=T=>j(void 0,null,function*(){if(T.preventDefault(),!(!g||i)){a(!0);try{if(s){const{data:D,error:W}=yield z.auth.signInWithPassword({email:c.email,password:c.password});if(W){r({title:"Sign in failed",description:W.message,variant:"destructive"});return}D.user&&r({title:"Welcome back!",description:"You have successfully signed in."})}else{if(!(yield A(c.username))){r({title:"Username taken",description:"This username is already taken. Please choose another.",variant:"destructive"});return}const{data:W,error:M}=yield z.auth.signUp({email:c.email,password:c.password,options:{emailRedirectTo:`${window.location.origin}/`,data:{username:c.username,display_name:c.name,city:c.city,country:c.country,date_of_birth:c.dob}}});if(M){r({title:"Sign up failed",description:M.message,variant:"destructive"});return}if(W.user){const B=Ql(c.dob);yield z.from("user_consent").insert({user_id:W.user.id,content_moderation:!0,data_processing:!0,community_guidelines:d,age_verification:B.isValid,marketing_emails:!1}),W.user.email_confirmed_at?r({title:"Account created!",description:"Welcome to Velyar! You can now start exploring."}):(r({title:"Check your email",description:"We've sent you a confirmation link. Please check your email to verify your account."}),setTimeout(()=>{o(!0)},2e3))}}}catch(D){r({title:"An error occurred",description:D.message||"Please try again later.",variant:"destructive"})}finally{a(!1)}}});return l.jsxs("div",{className:"min-h-screen-safe bg-gradient-to-br from-blue-900/20 via-teal-800/10 to-green-900/20 flex items-center justify-center p-4 header-safe content-safe-bottom overflow-hidden",children:[l.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/20 via-teal-800/10 to-green-900/20",children:l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/10 via-teal-700/5 to-green-800/10",children:l.jsx("div",{className:"absolute inset-0 bg-gradient-to-tl from-blue-800/5 to-transparent animate-pulse"})})}),l.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-600/10 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-teal-500/10 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute top-1/3 right-1/3 w-64 h-64 bg-green-600/8 rounded-full blur-2xl animate-pulse"}),l.jsx("div",{className:"absolute top-20 left-1/2 w-4 h-4 bg-blue-400/20 rounded-full animate-bounce"}),l.jsx("div",{className:"absolute top-40 left-1/3 w-3 h-3 bg-teal-400/20 rounded-full animate-bounce",style:{animationDelay:"1s"}}),l.jsx("div",{className:"absolute top-60 right-1/4 w-2 h-2 bg-green-400/20 rounded-full animate-bounce",style:{animationDelay:"2s"}}),l.jsxs("div",{className:"absolute top-0 left-0 w-full h-full",children:[l.jsx("div",{className:"absolute top-1/2 left-0 w-32 h-1 bg-gradient-to-r from-blue-500/10 to-transparent transform -rotate-45 animate-pulse"}),l.jsx("div",{className:"absolute bottom-1/3 right-0 w-40 h-1 bg-gradient-to-l from-teal-500/10 to-transparent transform rotate-45 animate-pulse"}),l.jsx("div",{className:"absolute top-3/4 left-1/4 w-24 h-1 bg-gradient-to-r from-green-500/10 to-transparent transform -rotate-12 animate-pulse",style:{animationDelay:"3s"}})]})]}),l.jsxs(ae,{className:"w-full max-w-md mx-auto bg-background/95 backdrop-blur-md shadow-warm border-velyar-earth/20 relative z-10 max-h-[80vh] overflow-hidden",children:[l.jsxs(Ps,{className:"text-center pb-3 px-6",children:[l.jsx("div",{className:"flex items-center justify-center mb-4",children:l.jsx(Q2,{size:120,className:"text-velyar-earth"})}),l.jsx(Ts,{className:"text-lg font-medium text-velyar-earth font-nunito mb-1",children:s?"welcome back":"leave the bubble, join the world"}),l.jsx(ky,{className:"text-muted-foreground font-quicksand text-sm",children:s?"more connects us than separates us":"share and learn about humanity"})]}),l.jsxs(ge,{className:"px-6 pb-6 overflow-y-auto max-h-[60vh]",children:[l.jsxs("form",{onSubmit:$,className:"space-y-3",children:[!s&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(we,{htmlFor:"name",className:"text-velyar-earth font-nunito text-sm",children:"full name"}),l.jsx(Ue,{id:"name",name:"name",type:"text",value:c.name,onChange:P,onBlur:()=>k("name"),required:!s,className:"border-velyar-earth/20 focus:border-velyar-earth"}),w.name&&b.name&&l.jsx("p",{className:"text-red-500 text-xs",children:w.name})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(we,{htmlFor:"username",className:"text-velyar-earth font-nunito text-sm",children:"username"}),l.jsx(Ue,{id:"username",name:"username",type:"text",value:c.username,onChange:P,onBlur:()=>k("username"),required:!s,className:"border-velyar-earth/20 focus:border-velyar-earth",placeholder:"Minimum 3 characters"}),w.username&&b.username&&l.jsx("p",{className:"text-red-500 text-xs",children:w.username})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(we,{htmlFor:"email",className:"text-velyar-earth font-nunito text-sm",children:"email"}),l.jsx(Ue,{id:"email",name:"email",type:"email",value:c.email,onChange:P,onBlur:()=>k("email"),required:!0,className:"border-velyar-earth/20 focus:border-velyar-earth"}),w.email&&b.email&&l.jsx("p",{className:"text-red-500 text-xs",children:w.email})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(we,{htmlFor:"password",className:"text-velyar-earth font-nunito text-sm",children:"password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ue,{id:"password",name:"password",type:_?"text":"password",value:c.password,onChange:P,onBlur:()=>k("password"),required:!0,className:"border-velyar-earth/20 focus:border-velyar-earth pr-10",placeholder:s?"":"8+ chars, uppercase, lowercase, number"}),l.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>S(!_),children:_?l.jsx(Kk,{className:"h-4 w-4 text-velyar-earth"}):l.jsx(pa,{className:"h-4 w-4 text-velyar-earth"})})]}),w.password&&b.password&&l.jsx("p",{className:"text-red-500 text-xs",children:w.password})]}),!s&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(we,{htmlFor:"city",className:"text-velyar-earth font-nunito text-sm",children:"city"}),l.jsx(Ue,{id:"city",name:"city",type:"text",value:c.city,onChange:P,onBlur:()=>k("city"),required:!s,className:"border-velyar-earth/20 focus:border-velyar-earth"}),w.city&&b.city&&l.jsx("p",{className:"text-red-500 text-xs",children:w.city})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(we,{htmlFor:"country",className:"text-velyar-earth font-nunito text-sm",children:"country"}),l.jsxs(cf,{value:c.country,onValueChange:N,children:[l.jsx(cl,{className:"border-velyar-earth/20 focus:border-velyar-earth",children:l.jsx(uf,{placeholder:"Select country"})}),l.jsx(ul,{children:J2.map(T=>l.jsx(Oo,{value:T,children:T},T))})]}),w.country&&b.country&&l.jsx("p",{className:"text-red-500 text-xs",children:w.country})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(we,{htmlFor:"dob",className:"text-velyar-earth font-nunito text-sm",children:"date of birth"}),l.jsx(Ue,{id:"dob",name:"dob",type:"date",value:c.dob,onChange:P,onBlur:()=>k("dob"),required:!s,className:"border-velyar-earth/20 focus:border-velyar-earth"}),w.dob&&b.dob&&l.jsx("p",{className:"text-red-500 text-xs",children:w.dob}),c.dob&&!w.dob&&Ql(c.dob).accountType==="restricted"&&l.jsx("p",{className:"text-orange-600 text-xs mt-1",children:" Users under 16 have limited features for data protection compliance."})]})]}),!s&&l.jsxs("div",{className:"space-y-2 pt-2 border-t border-velyar-earth/10",children:[l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(Ru,{id:"terms",checked:d,onCheckedChange:T=>f(T),className:"border-velyar-earth/40"}),l.jsxs(we,{htmlFor:"terms",className:"text-xs text-muted-foreground leading-tight",children:["I agree to the ",l.jsx(ze,{to:"/terms",className:"text-velyar-earth hover:text-velyar-warm underline",children:"Terms of Service"})]})]}),l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(Ru,{id:"privacy",checked:h,onCheckedChange:T=>v(T),className:"border-velyar-earth/40"}),l.jsxs(we,{htmlFor:"privacy",className:"text-xs text-muted-foreground leading-tight",children:["I acknowledge the ",l.jsx(ze,{to:"/privacy",className:"text-velyar-earth hover:text-velyar-warm underline",children:"Privacy Policy"})," and consent to data processing"]})]})]}),l.jsx(q,{type:"submit",disabled:!g||i,className:"w-full bg-velyar-earth hover:bg-velyar-earth/90 text-white font-nunito font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Processing...":s?"sign in":"create account"})]}),!s&&l.jsx("div",{className:"mt-3 text-center",children:l.jsx("button",{type:"button",onClick:()=>o(!0),className:"text-velyar-earth/70 hover:text-velyar-earth hover:bg-velyar-earth/10 transition-colors font-quicksand text-sm p-2 rounded",children:"Already have an account? Sign in"})}),s&&l.jsx("div",{className:"mt-3 text-center",children:l.jsx("button",{type:"button",onClick:()=>o(!1),className:"text-velyar-earth/70 hover:text-velyar-earth hover:bg-velyar-earth/10 transition-colors font-quicksand text-sm p-2 rounded",children:"need an account? sign up"})}),s&&l.jsxs("div",{className:"mt-3 pt-3 border-t border-velyar-earth/10 text-center",children:[l.jsxs("div",{className:"flex justify-center gap-4 text-xs text-muted-foreground",children:[l.jsx(ze,{to:"/terms",className:"hover:text-velyar-earth transition-colors",children:"Terms"}),l.jsx(ze,{to:"/privacy",className:"hover:text-velyar-earth transition-colors",children:"Privacy"})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"By using Velyar, you agree to our terms and acknowledge our privacy practices."})]})]})]})]})},Z2=()=>{const[e,t]=p.useState([]),[r,n]=p.useState([]),[s,o]=p.useState(!0),[i,a]=p.useState(!1),[c,u]=p.useState(null),[d,f]=p.useState({title:"",description:"",location_needed:"",image_url:"",target_regions:"",theme_id:""}),{toast:h}=Zr();p.useEffect(()=>{v()},[]);const v=()=>j(void 0,null,function*(){try{const[g,m]=yield Promise.all([z.from("missions").select("*").order("created_at",{ascending:!1}),z.from("themes").select("*").eq("is_active",!0)]);g.data&&t(g.data),m.data&&n(m.data)}catch(g){h({title:"Error",description:"Failed to fetch data",variant:"destructive"})}finally{o(!1)}}),w=g=>j(void 0,null,function*(){g.preventDefault(),console.log("AdminMissions: Starting form submission...",d);const{data:{user:m}}=yield z.auth.getUser();if(console.log("AdminMissions: Current user:",(m==null?void 0:m.id)||"Not authenticated"),!m){h({title:"Authentication Required",description:"Please log in to create missions",variant:"destructive"});return}try{const _={title:d.title,description:d.description,location_needed:d.location_needed||null,image_url:d.image_url||null,target_regions:d.target_regions?d.target_regions.split(",").map(S=>S.trim()):null,theme_id:d.theme_id||null,is_active:!0};if(console.log("AdminMissions: Mission data to submit:",_),c){console.log("AdminMissions: Updating existing mission:",c.id);const{data:S,error:C}=yield z.from("missions").update(_).eq("id",c.id).select();if(C)throw console.error("AdminMissions: Update error:",C),C;console.log("AdminMissions: Update successful:",S),h({title:"Success",description:"Mission updated successfully"})}else{console.log("AdminMissions: Creating new mission...");const{data:S,error:C}=yield z.from("missions").insert(_).select();if(C)throw console.error("AdminMissions: Insert error:",C),C;console.log("AdminMissions: Insert successful:",S),h({title:"Success",description:"Mission created successfully"})}a(!1),u(null),f({title:"",description:"",location_needed:"",image_url:"",target_regions:"",theme_id:""}),v()}catch(_){console.error("AdminMissions: Submission error:",_),h({title:"Error",description:_.message||"Failed to save mission",variant:"destructive"})}}),x=g=>j(void 0,null,function*(){try{yield z.from("missions").delete().eq("id",g),h({title:"Success",description:"Mission deleted successfully"}),v()}catch(m){h({title:"Error",description:"Failed to delete mission",variant:"destructive"})}}),b=g=>{u(g),f({title:g.title,description:g.description,location_needed:g.location_needed||"",image_url:g.image_url||"",target_regions:g.target_regions?g.target_regions.join(", "):"",theme_id:g.theme_id||""}),a(!0)},y=g=>{if(!g)return null;const m=r.find(_=>_.id===g);return m?`${m.icon} ${m.name}`:null};return s?l.jsx("div",{className:"p-6",children:"Loading..."}):l.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Missions Admin"}),l.jsxs(el,{open:i,onOpenChange:a,children:[l.jsx(tl,{asChild:!0,children:l.jsxs(q,{onClick:()=>{u(null),f({title:"",description:"",location_needed:"",image_url:"",target_regions:"",theme_id:""})},children:[l.jsx(Xa,{className:"w-4 h-4 mr-2"}),"Create Mission"]})}),l.jsxs(Vo,{className:"max-w-md",children:[l.jsx(Wo,{children:l.jsx(Ho,{children:c?"Edit Mission":"Create New Mission"})}),l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(we,{htmlFor:"title",children:"Title"}),l.jsx(Ue,{id:"title",value:d.title,onChange:g=>f(m=>R(E({},m),{title:g.target.value})),required:!0})]}),l.jsxs("div",{children:[l.jsx(we,{htmlFor:"description",children:"Description"}),l.jsx(Rn,{id:"description",value:d.description,onChange:g=>f(m=>R(E({},m),{description:g.target.value})),placeholder:"Enter mission description...",required:!0})]}),l.jsxs("div",{children:[l.jsx(we,{htmlFor:"location",children:"Location Needed"}),l.jsx(Ue,{id:"location",value:d.location_needed,onChange:g=>f(m=>R(E({},m),{location_needed:g.target.value})),placeholder:"e.g., Urban areas, Markets..."})]}),l.jsxs("div",{children:[l.jsx(we,{htmlFor:"regions",children:"Target Regions (comma-separated)"}),l.jsx(Ue,{id:"regions",value:d.target_regions,onChange:g=>f(m=>R(E({},m),{target_regions:g.target.value})),placeholder:"e.g., Asia, Europe, North America"})]}),l.jsxs("div",{children:[l.jsx(we,{htmlFor:"theme",children:"Theme"}),l.jsxs(cf,{value:d.theme_id,onValueChange:g=>f(m=>R(E({},m),{theme_id:g})),children:[l.jsx(cl,{children:l.jsx(uf,{placeholder:"Select a theme (optional)"})}),l.jsx(ul,{children:r.map(g=>l.jsx(Oo,{value:g.id,children:l.jsxs("span",{className:"flex items-center gap-2",children:[g.icon," ",g.name]})},g.id))})]})]}),l.jsxs("div",{children:[l.jsx(we,{htmlFor:"image",children:"Image URL"}),l.jsx(Ue,{id:"image",value:d.image_url,onChange:g=>f(m=>R(E({},m),{image_url:g.target.value})),placeholder:"https://..."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(q,{type:"submit",className:"flex-1",children:c?"Update":"Create"}),l.jsx(q,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"})]})]})]})]})]}),l.jsx("div",{className:"grid gap-4",children:e.map(g=>l.jsxs(ae,{className:g.is_active?"ring-2 ring-primary":"",children:[l.jsx(Ps,{className:"pb-3",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx(Ts,{className:"text-lg",children:g.title}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[g.is_active&&l.jsx(Fr,{variant:"default",children:"Active"}),l.jsxs(Fr,{variant:"outline",children:[l.jsx(Bo,{className:"w-3 h-3 mr-1"}),g.participants_count," participants"]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(q,{size:"sm",variant:"outline",onClick:()=>b(g),children:l.jsx(hy,{className:"w-4 h-4"})}),l.jsx(q,{size:"sm",variant:"destructive",onClick:()=>x(g.id),children:l.jsx(Fd,{className:"w-4 h-4"})})]})]})}),l.jsxs(ge,{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:g.description}),y(g.theme_id)&&l.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:["Theme: ",y(g.theme_id)]}),g.target_regions&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Regions: ",g.target_regions.join(", ")]}),g.location_needed&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Location: ",g.location_needed]})]})]},g.id))})]})},eT=()=>{const[e,t]=p.useState([]),[r,n]=p.useState([]),[s,o]=p.useState(!0),[i,a]=p.useState(!1),[c,u]=p.useState(null),[d,f]=p.useState({date:"",prompt_text:"",theme_id:""}),{toast:h}=Zr();p.useEffect(()=>{v()},[]);const v=()=>j(void 0,null,function*(){try{const[k,N]=yield Promise.all([z.from("daily_prompts").select("*").order("date",{ascending:!1}).limit(30),z.from("themes").select("*").eq("is_active",!0)]);k.data&&t(k.data),N.data&&n(N.data)}catch(k){h({title:"Error",description:"Failed to fetch data",variant:"destructive"})}finally{o(!1)}}),w=()=>j(void 0,null,function*(){try{const{data:k,error:N}=yield z.functions.invoke("generate-daily-prompt");if(N)throw N;f(A=>R(E({},A),{prompt_text:k.prompt,theme_id:k.theme_id||""})),h({title:"AI Prompt Generated",description:"Generated prompt has been loaded into the form"})}catch(k){h({title:"Error",description:"Failed to generate AI prompt",variant:"destructive"})}}),x=k=>j(void 0,null,function*(){k.preventDefault();try{const N={date:d.date,prompt_text:d.prompt_text,theme_id:d.theme_id==="no-theme"?null:d.theme_id||null,is_active:d.date===new Date().toISOString().split("T")[0]};if(c){const{error:A}=yield z.from("daily_prompts").update(N).eq("id",c.id);if(A)throw console.error("Update error:",A),A;h({title:"Success",description:"Prompt updated successfully"})}else{console.log("Creating new prompt with data:",N);const{error:A}=yield z.from("daily_prompts").update({is_active:!1}).eq("date",d.date);A&&console.error("Deactivate error:",A);const{error:$}=yield z.from("daily_prompts").insert(N);if($)throw console.error("Insert error:",$),$;h({title:"Success",description:"Prompt created successfully"})}a(!1),u(null),f({date:"",prompt_text:"",theme_id:"no-theme"}),v()}catch(N){h({title:"Error",description:"Failed to save prompt",variant:"destructive"})}}),b=k=>j(void 0,null,function*(){try{yield z.from("daily_prompts").delete().eq("id",k),h({title:"Success",description:"Prompt deleted successfully"}),v()}catch(N){h({title:"Error",description:"Failed to delete prompt",variant:"destructive"})}}),y=()=>j(void 0,null,function*(){try{const k=new Date().toISOString().split("T")[0];console.log("Creating basic prompt for date:",k);const N={date:k,prompt_text:"What's your favorite place in nature?",is_active:!0};console.log("Prompt data:",N);const{error:A}=yield z.from("daily_prompts").insert(N);if(A)throw console.error("Create basic prompt error:",A),A;h({title:"Success",description:"Basic prompt created successfully"}),v()}catch(k){console.error("Error creating basic prompt:",k),h({title:"Error",description:"Failed to create basic prompt",variant:"destructive"})}}),g=()=>j(void 0,null,function*(){try{console.log("Fixing current user profile...");const{data:{user:k},error:N}=yield z.auth.getUser();if(N||!k)throw console.error("Error getting current user:",N),N||new Error("No user found");console.log("Current user:",k.email),console.log("User metadata:",k.user_metadata);const A=k.user_metadata,$=A==null?void 0:A.city,T=A==null?void 0:A.country,D=A==null?void 0:A.date_of_birth;if($||T||D){console.log("Fixing profile for current user:",{city:$,country:T,dateOfBirth:D});const{error:W}=yield z.from("profiles").update({city:$||null,country:T||null,date_of_birth:D?new Date(D):null}).eq("user_id",k.id);if(W)throw console.error("Error updating profile:",W),W;h({title:"Success",description:"Your profile has been updated with missing data"})}else h({title:"No Data Found",description:"No city, country, or date of birth found in your signup data"})}catch(k){console.error("Error fixing current user profile:",k),h({title:"Error",description:"Failed to fix your profile",variant:"destructive"})}}),m=()=>j(void 0,null,function*(){var k,N,A;try{console.log("Testing data flow...");const{data:{user:$},error:T}=yield z.auth.getUser();if(T||!$)throw console.error("Error getting current user:",T),T||new Error("No user found");console.log("=== USER DATA ==="),console.log("User ID:",$.id),console.log("User Email:",$.email),console.log("User Metadata:",$.user_metadata);const{data:D,error:W}=yield z.from("profiles").select("*").eq("user_id",$.id).single();if(W)throw console.error("Error fetching profile:",W),W;console.log("=== PROFILE DATA ==="),console.log("Profile:",D),console.log("=== COMPARISON ==="),console.log("Metadata city:",(k=$.user_metadata)==null?void 0:k.city,"| Profile city:",D.city),console.log("Metadata country:",(N=$.user_metadata)==null?void 0:N.country,"| Profile country:",D.country),console.log("Metadata DOB:",(A=$.user_metadata)==null?void 0:A.date_of_birth,"| Profile DOB:",D.date_of_birth),h({title:"Data Flow Test Complete",description:"Check console for detailed comparison"})}catch($){console.error("Error testing data flow:",$),h({title:"Error",description:"Failed to test data flow",variant:"destructive"})}}),_=()=>j(void 0,null,function*(){const k=prompt("Enter the email address of the user to fix:");if(k)try{console.log("Fixing user profile for email:",k);const{data:N,error:A}=yield z.rpc("fix_user_profile_by_email",{user_email:k});if(A){console.error("Error calling fix function:",A),h({title:"Error",description:"Failed to fix user profile",variant:"destructive"});return}console.log("Fix result:",N),h({title:"Success",description:N})}catch(N){console.error("Error fixing user profile by email:",N),h({title:"Error",description:"Failed to fix user profile",variant:"destructive"})}}),S=(k,N)=>j(void 0,null,function*(){try{console.log("Activating prompt:",k);const{data:A}=yield z.from("daily_prompts").select("*").eq("is_active",!0);if(A&&A.length>0)for(const $ of A){const{data:T}=yield z.from("videos").select("id, location").eq("daily_prompt_id",$.id).eq("is_public",!0),D=(T==null?void 0:T.length)||0,W=new Set(T==null?void 0:T.map(M=>M.location).filter(M=>M&&M.trim()!=="").map(M=>{var B;return(B=M.split(",").pop())==null?void 0:B.trim().toLowerCase()}).filter(Boolean));yield z.from("archived_prompts").insert({prompt_text:$.prompt_text,archive_date:new Date().toISOString().split("T")[0],response_count:D,country_count:W.size})}yield z.from("daily_prompts").update({is_active:!1}).eq("is_active",!0),yield z.from("daily_prompts").update({is_active:!0}).eq("id",k),console.log("Prompt activation complete"),h({title:"Success",description:"Prompt activated and previous prompt archived"}),v()}catch(A){console.error("Activation error:",A),h({title:"Error",description:"Failed to activate prompt",variant:"destructive"})}}),C=k=>{u(k),f({date:k.date,prompt_text:k.prompt_text,theme_id:k.theme_id||"no-theme"}),a(!0)},P=k=>{var N;return((N=r.find(A=>A.id===k))==null?void 0:N.name)||"No theme"};return s?l.jsx("div",{className:"p-6",children:"Loading..."}):l.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Daily Prompts Admin"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(q,{variant:"default",onClick:g,size:"sm",children:"Fix My Profile"}),l.jsx(q,{variant:"default",onClick:m,size:"sm",children:"Test Data Flow"}),l.jsx(q,{variant:"default",onClick:_,size:"sm",children:"Fix User by Email"}),l.jsx(q,{variant:"default",onClick:y,size:"sm",children:"Create Basic Prompt"}),l.jsxs(el,{open:i,onOpenChange:a,children:[l.jsx(tl,{asChild:!0,children:l.jsxs(q,{onClick:()=>{u(null),f({date:"",prompt_text:"",theme_id:"no-theme"})},children:[l.jsx(Xa,{className:"w-4 h-4 mr-2"}),"Create Prompt"]})}),l.jsxs(Vo,{className:"max-w-md",children:[l.jsx(Wo,{children:l.jsx(Ho,{children:c?"Edit Prompt":"Create New Prompt"})}),l.jsxs("form",{onSubmit:x,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(we,{htmlFor:"date",children:"Date"}),l.jsx(Ue,{id:"date",type:"date",value:d.date,onChange:k=>f(N=>R(E({},N),{date:k.target.value})),required:!0})]}),l.jsxs("div",{children:[l.jsx(we,{htmlFor:"prompt",children:"Prompt Text"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Rn,{id:"prompt",value:d.prompt_text,onChange:k=>f(N=>R(E({},N),{prompt_text:k.target.value})),placeholder:"Enter prompt text...",required:!0,className:"flex-1"}),l.jsx(q,{type:"button",onClick:w,size:"sm",children:l.jsx(lE,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{children:[l.jsx(we,{htmlFor:"theme",children:"Theme"}),l.jsxs(cf,{value:d.theme_id,onValueChange:k=>f(N=>R(E({},N),{theme_id:k})),children:[l.jsx(cl,{children:l.jsx(uf,{placeholder:"Select a theme"})}),l.jsxs(ul,{children:[l.jsx(Oo,{value:"no-theme",children:"No theme"}),r.map(k=>l.jsx(Oo,{value:k.id,children:k.name},k.id))]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(q,{type:"submit",className:"flex-1",children:c?"Update":"Create"}),l.jsx(q,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"})]})]})]})]})]})]}),l.jsx("div",{className:"grid gap-4",children:e.map(k=>l.jsxs(ae,{className:k.is_active?"ring-2 ring-primary":"",children:[l.jsx(Ps,{className:"pb-3",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx(Ts,{className:"text-lg",children:k.date}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[k.is_active&&l.jsx(Fr,{variant:"default",children:"Active"}),k.manual_override&&l.jsx(Fr,{variant:"secondary",children:"Manual"}),l.jsx(Fr,{variant:"outline",children:P(k.theme_id)})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(q,{size:"sm",variant:"outline",onClick:()=>C(k),children:l.jsx(hy,{className:"w-4 h-4"})}),!k.is_active&&l.jsx(q,{size:"sm",variant:"default",onClick:()=>S(k.id,k.date),title:"Activate this prompt",children:l.jsx(dy,{className:"w-4 h-4"})}),l.jsx(q,{size:"sm",variant:"destructive",onClick:()=>b(k.id),children:l.jsx(Fd,{className:"w-4 h-4"})})]})]})}),l.jsx(ge,{children:l.jsxs("p",{className:"text-lg font-medium",children:['"',k.prompt_text,'"']})})]},k.id))})]})},tT=()=>{const e=Jr();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"min-h-screen-safe flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},rT=()=>{const e=zt();return l.jsx("div",{className:"min-h-screen-safe bg-gradient-to-br from-velyar-earth/10 to-velyar-warm/10 p-4 content-safe-bottom",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs(q,{variant:"ghost",onClick:()=>e(-1),className:"mb-4 text-foreground hover:bg-muted",children:[l.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Back"]}),l.jsxs(ae,{className:"bg-background/90 backdrop-blur-sm",children:[l.jsx(Ps,{children:l.jsx(Ts,{className:"text-2xl font-nunito text-velyar-earth",children:"Privacy Policy"})}),l.jsxs(ge,{className:"space-y-6 text-sm",children:[l.jsxs("section",{children:[l.jsx("h3",{className:"font-semibold text-velyar-earth mb-2",children:"1. Information We Collect"}),l.jsx("p",{children:"We collect information you provide directly to us, such as:"}),l.jsxs("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[l.jsx("li",{children:"Account information (name, email, username)"}),l.jsx("li",{children:"Profile information (city, country, date of birth)"}),l.jsx("li",{children:"Content you upload (videos, comments)"}),l.jsx("li",{children:"Usage data and analytics"})]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"font-semibold text-velyar-earth mb-2",children:"2. How We Use Your Information"}),l.jsx("p",{children:"We use your information to:"}),l.jsxs("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[l.jsx("li",{children:"Provide and improve our services"}),l.jsx("li",{children:"Personalize your experience"}),l.jsx("li",{children:"Communicate with you"}),l.jsx("li",{children:"Ensure platform safety and security"}),l.jsx("li",{children:"Comply with legal obligations"})]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"font-semibold text-velyar-earth mb-2",children:"3. Your Rights Under GDPR"}),l.jsx("p",{children:"As an EU resident, you have the right to:"}),l.jsxs("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[l.jsx("li",{children:"Access your personal data"}),l.jsx("li",{children:"Rectify inaccurate data"}),l.jsx("li",{children:'Erase your data ("right to be forgotten")'}),l.jsx("li",{children:"Restrict processing of your data"}),l.jsx("li",{children:"Data portability"}),l.jsx("li",{children:"Object to processing"}),l.jsx("li",{children:"Withdraw consent at any time"})]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"font-semibold text-velyar-earth mb-2",children:"4. Data Sharing and Transfers"}),l.jsx("p",{children:"We do not sell your personal data. We may share data with service providers, for legal compliance, or with your consent. International transfers are protected by appropriate safeguards."})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"font-semibold text-velyar-earth mb-2",children:"5. Data Retention"}),l.jsx("p",{children:"We retain your data only as long as necessary for the purposes outlined in this policy or as required by law."})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"font-semibold text-velyar-earth mb-2",children:"6. Security"}),l.jsx("p",{children:"We implement appropriate technical and organizational measures to protect your personal data against unauthorized access, alteration, disclosure, or destruction."})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"font-semibold text-velyar-earth mb-2",children:"7. Cookies and Tracking"}),l.jsx("p",{children:"We use essential cookies for functionality and analytics cookies to improve our service. You can manage cookie preferences in your browser settings."})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"font-semibold text-velyar-earth mb-2",children:"8. Contact Us"}),l.jsx("p",{children:"For privacy-related questions or to exercise your rights, please contact our Data Protection Officer through our support channels."})]}),l.jsxs("div",{className:"text-xs text-muted-foreground pt-4 border-t",children:["Last updated: ",new Date().toLocaleDateString()]})]})]})]})})},nT=()=>{const e=zt();return l.jsx("div",{className:"min-h-screen-safe bg-gradient-to-br from-velyar-earth/10 to-velyar-warm/10 p-4 content-safe-bottom",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs(q,{variant:"ghost",onClick:()=>e(-1),className:"mb-4 text-foreground hover:bg-muted",children:[l.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Back"]}),l.jsxs(ae,{className:"bg-background/90 backdrop-blur-sm",children:[l.jsx(Ps,{children:l.jsx(Ts,{className:"text-2xl font-nunito text-velyar-earth",children:"Terms of Service"})}),l.jsxs(ge,{className:"space-y-6 text-sm",children:[l.jsxs("section",{children:[l.jsx("h3",{className:"font-semibold text-velyar-earth mb-2",children:"1. Acceptance of Terms"}),l.jsx("p",{children:"By accessing and using Velyar, you accept and agree to be bound by the terms and provision of this agreement."})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"font-semibold text-velyar-earth mb-2",children:"2. Content Guidelines"}),l.jsx("p",{children:"Users are responsible for the content they upload. Prohibited content includes but is not limited to:"}),l.jsxs("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[l.jsx("li",{children:"Illegal, harmful, or offensive material"}),l.jsx("li",{children:"Content violating intellectual property rights"}),l.jsx("li",{children:"Spam, misleading, or deceptive content"}),l.jsx("li",{children:"Personal information of others without consent"})]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"font-semibold text-velyar-earth mb-2",children:"3. Age Requirements and Restrictions"}),l.jsx("p",{children:"You must be at least 13 years old to use this service. Users under 16 may have restricted access to certain features to comply with data protection laws."}),l.jsxs("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[l.jsx("li",{children:"Users must provide accurate date of birth information"}),l.jsx("li",{children:"Age verification is required for account creation"}),l.jsx("li",{children:"Restricted accounts have limited feature access for safety"}),l.jsx("li",{children:"False age information may result in account suspension"})]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"font-semibold text-velyar-earth mb-2",children:"4. User Conduct"}),l.jsx("p",{children:"Users must not engage in activities that could harm the platform or other users, including but not limited to hacking, harassment, or misuse of the platform."})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"font-semibold text-velyar-earth mb-2",children:"5. Content Reporting and Community Moderation"}),l.jsx("p",{children:"We employ a community-based moderation system where users can report content that violates our guidelines. Content may be automatically hidden after multiple reports."}),l.jsxs("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[l.jsx("li",{children:"Users can report inappropriate, harmful, or illegal content"}),l.jsx("li",{children:"Reports are reviewed within 24 hours by our moderation team"}),l.jsx("li",{children:"Multiple reports may result in automatic content hiding"}),l.jsx("li",{children:"False or malicious reports may result in account restrictions"}),l.jsx("li",{children:"Anonymous reporting system protects user privacy"})]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"font-semibold text-velyar-earth mb-2",children:"6. Appeal Process"}),l.jsx("p",{children:"Content creators have the right to appeal moderation decisions within 30 days of action being taken."}),l.jsxs("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[l.jsx("li",{children:"Appeals are reviewed by human moderators within 48 hours"}),l.jsx("li",{children:"Only one appeal per piece of content is allowed"}),l.jsx("li",{children:"Detailed explanations must be provided for appeal consideration"}),l.jsx("li",{children:"Successful appeals result in immediate content restoration"}),l.jsx("li",{children:"Appeal decisions are final and binding"})]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"font-semibold text-velyar-earth mb-2",children:"7. Privacy and Data Protection"}),l.jsx("p",{children:"We are committed to protecting your privacy in accordance with GDPR and other applicable data protection laws. Please refer to our Privacy Policy for detailed information."})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"font-semibold text-velyar-earth mb-2",children:"8. Automated Content Moderation"}),l.jsx("p",{children:"We employ automated systems to detect and prevent the upload of prohibited content before it appears on our platform."}),l.jsxs("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[l.jsx("li",{children:"Automated filtering for text and visual content"}),l.jsx("li",{children:"Real-time content analysis during upload"}),l.jsx("li",{children:"Machine learning systems continuously improve detection"}),l.jsx("li",{children:"Automated actions are logged for transparency"}),l.jsx("li",{children:"Users can appeal automated decisions"})]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"font-semibold text-velyar-earth mb-2",children:"9. Transparency and Compliance"}),l.jsx("p",{children:"We maintain transparency in our moderation practices and publish regular transparency reports."}),l.jsxs("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[l.jsx("li",{children:"Quarterly transparency reports on moderation actions"}),l.jsx("li",{children:"Clear documentation of community guidelines"}),l.jsx("li",{children:"Regular updates to moderation policies"}),l.jsx("li",{children:"Compliance with Digital Services Act (DSA) requirements"}),l.jsx("li",{children:"User access to their moderation history"})]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"font-semibold text-velyar-earth mb-2",children:"10. Limitation of Liability"}),l.jsx("p",{children:'Velyar is provided "as is" without warranties. We shall not be liable for any damages arising from the use of our platform.'})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"font-semibold text-velyar-earth mb-2",children:"11. Changes to Terms"}),l.jsx("p",{children:"We reserve the right to modify these terms at any time. Users will be notified of significant changes."})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"font-semibold text-velyar-earth mb-2",children:"12. Contact Information"}),l.jsx("p",{children:"For questions about these terms, please contact us through our support channels."})]}),l.jsxs("div",{className:"text-xs text-muted-foreground pt-4 border-t",children:["Last updated: ",new Date().toLocaleDateString()]})]})]})]})})};function sT(){return Ht.useEffect(()=>{document.documentElement.style.setProperty("--safe-area-top","24px"),document.documentElement.style.setProperty("--safe-area-bottom","34px"),document.documentElement.style.setProperty("--safe-area-left","0px"),document.documentElement.style.setProperty("--safe-area-right","0px")},[]),l.jsx(d_,{children:l.jsx(Vj,{children:l.jsx(Hj,{children:l.jsx("div",{className:"min-h-screen bg-background",children:l.jsxs(YE,{children:[l.jsx(QE,{}),l.jsxs(n_,{children:[l.jsx(rt,{path:"/",element:l.jsx(tC,{})}),l.jsx(rt,{path:"/explore",element:l.jsx(rC,{})}),l.jsx(rt,{path:"/missions",element:l.jsx(sC,{})}),l.jsx(rt,{path:"/create/*",element:l.jsx(vC,{})}),l.jsx(rt,{path:"/video-list/*",element:l.jsx(yC,{})}),l.jsx(rt,{path:"/videos",element:l.jsx(sP,{})}),l.jsx(rt,{path:"/profile",element:l.jsx(oP,{})}),l.jsx(rt,{path:"/auth",element:l.jsx(X2,{})}),l.jsx(rt,{path:"/admin/missions",element:l.jsx(Z2,{})}),l.jsx(rt,{path:"/admin/prompts",element:l.jsx(eT,{})}),l.jsx(rt,{path:"/privacy",element:l.jsx(rT,{})}),l.jsx(rt,{path:"/terms",element:l.jsx(nT,{})}),l.jsx(rt,{path:"*",element:l.jsx(tT,{})})]}),l.jsx(qE,{}),l.jsx(GE,{}),l.jsx(HE,{})]})})})})})}qg(document.getElementById("root")).render(l.jsx(sT,{}));export{Pv as W,Me as _,Nv as r};
